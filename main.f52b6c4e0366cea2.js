"use strict";(self.webpackChunkHolaMundo=self.webpackChunkHolaMundo||[]).push([[179],{2011:(dt,Ae,k)=>{k.d(Ae,{Dh:()=>he,GT:()=>ie,cc:()=>Me,hO:()=>Be,on:()=>G,pX:()=>ue,xv:()=>me});var l=k(4650),$=k(9260),O=k(2122);dt=k.hmd(dt);const re=["ngOnDestroy"],ue=(Te,Ie,Pe,ke={})=>new Proxy(Te,{get:(Ne,De)=>Pe.runOutsideAngular(()=>{var je;if(Te[De])return!(null===(je=ke?.spy)||void 0===je)&&je.get&&ke.spy.get(De,Te[De]),Te[De];if(re.indexOf(De)>-1)return()=>{};const ee=Ie.toPromise().then(le=>{const ve=le&&le[De];return"function"==typeof ve?ve.bind(le):ve&&ve.then?ve.then(Q=>Pe.run(()=>Q)):Pe.run(()=>ve)});return new Proxy(()=>{},{get:(le,ve)=>ee[ve],apply:(le,ve,Q)=>ee.then(J=>{var fe;const se=J&&J(...Q);return!(null===(fe=ke?.spy)||void 0===fe)&&fe.apply&&ke.spy.apply(De,Q,se),se})})})}),ie=(Te,Ie)=>{Ie.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(ke=>{Object.defineProperty(Te.prototype,ke,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,ke))})})};class ye{constructor(Ie){return Ie}}const he=new l.OlP("angularfire2.app.options"),me=new l.OlP("angularfire2.app.name");function G(Te,Ie,Pe){const Ne="object"==typeof Pe&&Pe||{};Ne.name=Ne.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const je=$.Z.apps.filter(ee=>ee&&ee.name===Ne.name)[0]||Ie.runOutsideAngular(()=>$.Z.initializeApp(Te,Ne));try{JSON.stringify(Te)!==JSON.stringify(je.options)&&q("error",`${je.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(je)}const q=(Te,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Te](...Ie)},X={provide:ye,useFactory:G,deps:[he,l.R0b,[new l.FiY,me]]};let Be=(()=>{class Te{constructor(Pe){$.Z.registerVersion("angularfire",O.q4.full,"core"),$.Z.registerVersion("angularfire",O.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,Pe.toString())}static initializeApp(Pe,ke){return{ngModule:Te,providers:[{provide:he,useValue:Pe},{provide:me,useValue:ke}]}}}return Te.\u0275fac=function(Pe){return new(Pe||Te)(l.LFG(l.Lbi))},Te.\u0275mod=l.oAB({type:Te}),Te.\u0275inj=l.cJS({providers:[X]}),Te})();function Me(Te,Ie,Pe,ke,Ne){const[,De,je]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===Te)||[];if(De)return function qe(Te,Ie){try{return Te.toString()===Ie.toString()}catch{return Te===Ie}}(Ne,je)||(ge("error",`${Ie} was already initialized on the ${Pe} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ne,was:je})),De;{const ee=ke();return globalThis.\u0275AngularfireInstanceCache.push([Te,ee,Ne]),ee}}const nt=!!dt.hot,ge=(Te,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Te](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(dt,Ae,k)=>{k.d(Ae,{q4:()=>Kh,iC:()=>yt,HU:()=>Il,vb:()=>qn,JM:()=>mn,u3:()=>Dl});var l=k(4650),$=k(259),O=k(5861),re=k(9681),ue=k(2090),ie=k(4859),ye=k(1877),he=k(8766);const me="@firebase/installations",G="0.6.1",X=`w:${G}`,Be="FIS_v2",Ie=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function ke({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ne(I){return{token:I.token,requestStatus:2,expiresIn:J(I.expiresIn),creationTime:Date.now()}}function De(I,D){return je.apply(this,arguments)}function je(){return(je=(0,O.Z)(function*(I,D){const V=(yield D.json()).error;return Ie.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function ee({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function le(I,{refreshToken:D}){const x=ee(I);return x.append("Authorization",function fe(I){return`${Be} ${I}`}(D)),x}function ve(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,O.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function J(I){return Number(I.replace("s","000"))}function se(I,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:x}){const V=ke(I),Y=ee(I),oe=D.getImmediate({optional:!0});if(oe){const pt=yield oe.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const tt={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Be,appId:I.appId,sdkVersion:X})},st=yield ve(()=>fetch(V,tt));if(st.ok){const pt=yield st.json();return{fid:pt.fid||x,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Ne(pt.authToken)}}throw yield De("Create Installation",st)})).apply(this,arguments)}function Le(I){return new Promise(D=>{setTimeout(D,I)})}const on=/^[cdef][\w-]{21}$/;function Tt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const x=function zt(I){return function ht(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return on.test(x)?x:""}catch{return""}}function vt(I){return`${I.appName}!${I.appId}`}const sn=new Map;function lr(I,D){const x=vt(I);Di(x,D),function Xr(I,D){const x=function In(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=I=>{Di(I.data.key,I.data.fid)}),Ir}();x&&x.postMessage({key:I,fid:D}),function zi(){0===sn.size&&Ir&&(Ir.close(),Ir=null)}()}(x,D)}function Di(I,D){const x=sn.get(I);if(x)for(const V of x)V(D)}let Ir=null;const Bn="firebase-installations-store";let ei=null;function Ai(){return ei||(ei=(0,he.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Bn)}})),ei}function gn(I,D){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(I,D){const x=vt(I),Y=(yield Ai()).transaction(Bn,"readwrite"),oe=Y.objectStore(Bn),Re=yield oe.get(x);return yield oe.put(D,x),yield Y.done,(!Re||Re.fid!==D.fid)&&lr(I,D.fid),D})).apply(this,arguments)}function et(I){return dr.apply(this,arguments)}function dr(){return(dr=(0,O.Z)(function*(I){const D=vt(I),V=(yield Ai()).transaction(Bn,"readwrite");yield V.objectStore(Bn).delete(D),yield V.done})).apply(this,arguments)}function Tr(I,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,O.Z)(function*(I,D){const x=vt(I),Y=(yield Ai()).transaction(Bn,"readwrite"),oe=Y.objectStore(Bn),Re=yield oe.get(x),tt=D(Re);return void 0===tt?yield oe.delete(x):yield oe.put(tt,x),yield Y.done,tt&&(!Re||Re.fid!==tt.fid)&&lr(I,tt.fid),tt})).apply(this,arguments)}function $n(I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(I){let D;const x=yield Tr(I.appConfig,V=>{const Y=xt(V),oe=ft(I,Y);return D=oe.registrationPromise,oe.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function xt(I){return Xn(I||{fid:Tt(),registrationStatus:0})}function ft(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ie.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function At(I,D){return _n.apply(this,arguments)}(I,x);return{installationEntry:x,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Jn(I)}:{installationEntry:D}}function _n(){return(_n=(0,O.Z)(function*(I,D){try{const x=yield se(I,D);return gn(I.appConfig,x)}catch(x){throw Pe(x)&&409===x.customData.serverCode?yield et(I.appConfig):yield gn(I.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Jn(I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,O.Z)(function*(I){let D=yield ti(I.appConfig);for(;1===D.registrationStatus;)yield Le(100),D=yield ti(I.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:V}=yield $n(I);return V||x}return D})).apply(this,arguments)}function ti(I){return Tr(I,D=>{if(!D)throw Ie.create("installation-not-found");return Xn(D)})}function Xn(I){return function Mi(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ht(I,D){return xi.apply(this,arguments)}function xi(){return(xi=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},x){const V=Kt(I,x),Y=le(I,x),oe=D.getImmediate({optional:!0});if(oe){const pt=yield oe.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const tt={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:X,appId:I.appId}})},st=yield ve(()=>fetch(V,tt));if(st.ok)return Ne(yield st.json());throw yield De("Generate Auth Token",st)})).apply(this,arguments)}function Kt(I,{fid:D}){return`${ke(I)}/${D}/authTokens:generate`}function Or(I){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(I,D=!1){let x;const V=yield Tr(I.appConfig,oe=>{if(!Jt(oe))throw Ie.create("not-registered");const Re=oe.authToken;if(!D&&H(Re))return oe;if(1===Re.requestStatus)return x=$e(I,D),oe;{if(!navigator.onLine)throw Ie.create("app-offline");const tt=K(oe);return x=Ct(I,tt),tt}});return x?yield x:V.authToken})).apply(this,arguments)}function $e(I,D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(I,D){let x=yield Qe(I.appConfig);for(;1===x.authToken.requestStatus;)yield Le(100),x=yield Qe(I.appConfig);const V=x.authToken;return 0===V.requestStatus?Or(I,D):V})).apply(this,arguments)}function Qe(I){return Tr(I,D=>{if(!Jt(D))throw Ie.create("not-registered");return function U(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ct(I,D){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(I,D){try{const x=yield Ht(I,D),V=Object.assign(Object.assign({},D),{authToken:x});return yield gn(I.appConfig,V),x}catch(x){if(!Pe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield gn(I.appConfig,V)}else yield et(I.appConfig);throw x}})).apply(this,arguments)}function Jt(I){return void 0!==I&&2===I.registrationStatus}function H(I){return 2===I.requestStatus&&!function j(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function K(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function L(){return(L=(0,O.Z)(function*(I){const D=I,{installationEntry:x,registrationPromise:V}=yield $n(D);return V?V.catch(console.error):Or(D).catch(console.error),x.fid})).apply(this,arguments)}function xe(){return(xe=(0,O.Z)(function*(I,D=!1){const x=I;return yield it(x),(yield Or(x,D)).token})).apply(this,arguments)}function it(I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(I){const{registrationPromise:D}=yield $n(I);D&&(yield D)})).apply(this,arguments)}function Ju(I){return Ie.create("missing-app-config-values",{valueName:I})}const Xu="installations",mo=I=>{const D=I.getProvider("app").getImmediate(),x=function go(I){if(!I||!I.options)throw Ju("App Configuration");if(!I.name)throw Ju("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!I.options[x])throw Ju(x);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Dc=I=>{const D=I.getProvider("app").getImmediate(),x=(0,re._getProvider)(D,Xu).getImmediate();return{getId:()=>function R(I){return L.apply(this,arguments)}(x),getToken:Y=>function ae(I){return xe.apply(this,arguments)}(x,Y)}};(function el(){(0,re._registerComponent)(new ie.wA(Xu,mo,"PUBLIC")),(0,re._registerComponent)(new ie.wA("installations-internal",Dc,"PRIVATE"))})(),(0,re.registerVersion)(me,G),(0,re.registerVersion)(me,G,"esm2017");const qa="@firebase/remote-config",Fn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class os{constructor(D,x,V,Y){this.client=D,this.storage=x,this.storageCache=V,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-x,Y=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,O.Z)(function*(){const[V,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,V))return Y;D.eTag=Y&&Y.eTag;const oe=yield x.client.fetch(D),Re=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Re.push(x.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Re),oe})()}}function ri(I=navigator){return I.languages&&I.languages[0]||I.language}class pi{constructor(D,x,V,Y,oe,Re){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=V,this.projectId=Y,this.apiKey=oe,this.appId=Re}fetch(D){var x=this;return(0,O.Z)(function*(){const[V,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},st={sdk_version:x.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:x.appId,language_code:ri()},pt={method:"POST",headers:tt,body:JSON.stringify(st)},St=fetch(Re,pt),Bt=new Promise((An,yi)=>{D.signal.addEventListener(()=>{const uu=new Error("The operation was aborted.");uu.name="AbortError",yi(uu)})});let Pn;try{yield Promise.race([St,Bt]),Pn=yield St}catch(An){let yi="fetch-client-network";throw"AbortError"===An?.name&&(yi="fetch-timeout"),Fn.create(yi,{originalErrorMessage:An?.message})}let Gn=Pn.status;const zn=Pn.headers.get("ETag")||void 0;let Ji,jo;if(200===Pn.status){let An;try{An=yield Pn.json()}catch(yi){throw Fn.create("fetch-client-parse",{originalErrorMessage:yi?.message})}Ji=An.entries,jo=An.state}if("INSTANCE_STATE_UNSPECIFIED"===jo?Gn=500:"NO_CHANGE"===jo?Gn=304:("NO_TEMPLATE"===jo||"EMPTY_CONFIG"===jo)&&(Ji={}),304!==Gn&&200!==Gn)throw Fn.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:zn,config:Ji}})()}}class Hn{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,O.Z)(function*(){const V=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:V}){var Y=this;return(0,O.Z)(function*(){yield function tl(I,D){return new Promise((x,V)=>{const Y=Math.max(D-Date.now(),0),oe=setTimeout(x,Y);I.addEventListener(()=>{clearTimeout(oe),V(Fn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const oe=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function bn(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(oe))throw oe;const Re={throttleEndTimeMillis:Date.now()+(0,ue.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(Re),Y.attemptFetch(D,Re)}})()}}class Wa{constructor(D,x,V,Y,oe){this.app=D,this._client=x,this._storageCache=V,this._storage=Y,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function as(I,D){const x=I.target.error||void 0;return Fn.create(D,{originalErrorMessage:x&&x?.message})}const gi="app_namespace_store";class Ar{constructor(D,x,V,Y=function ii(){return new Promise((I,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=V=>{D(as(V,"storage-open"))},x.onsuccess=V=>{I(V.target.result)},x.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(gi,{keyPath:"compositeKey"})}}catch(x){D(Fn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,O.Z)(function*(){const V=yield x.openDbPromise;return new Promise((Y,oe)=>{const tt=V.transaction([gi],"readonly").objectStore(gi),st=x.createCompositeKey(D);try{const pt=tt.get(st);pt.onerror=St=>{oe(as(St,"storage-get"))},pt.onsuccess=St=>{const Bt=St.target.result;Y(Bt?Bt.value:void 0)}}catch(pt){oe(Fn.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(D,x){var V=this;return(0,O.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((oe,Re)=>{const st=Y.transaction([gi],"readwrite").objectStore(gi),pt=V.createCompositeKey(D);try{const St=st.put({compositeKey:pt,value:x});St.onerror=Bt=>{Re(as(Bt,"storage-set"))},St.onsuccess=()=>{oe()}}catch(St){Re(Fn.create("storage-set",{originalErrorMessage:St?.message}))}})})()}delete(D){var x=this;return(0,O.Z)(function*(){const V=yield x.openDbPromise;return new Promise((Y,oe)=>{const tt=V.transaction([gi],"readwrite").objectStore(gi),st=x.createCompositeKey(D);try{const pt=tt.delete(st);pt.onerror=St=>{oe(as(St,"storage-delete"))},pt.onsuccess=()=>{Y()}}catch(pt){oe(Fn.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class us{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const x=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),oe=yield x;oe&&(D.lastFetchStatus=oe);const Re=yield V;Re&&(D.lastSuccessfulFetchTimestampMillis=Re);const tt=yield Y;tt&&(D.activeConfig=tt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Kp(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function ua(){(0,re._registerComponent)(new ie.wA("remote-config",function I(D,{instanceIdentifier:x}){const V=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!(0,ue.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Re,appId:tt}=V.options;if(!oe)throw Fn.create("registration-project-id");if(!Re)throw Fn.create("registration-api-key");if(!tt)throw Fn.create("registration-app-id");const st=new Ar(tt,V.name,x=x||"firebase"),pt=new us(st),St=new ye.Yd(qa);St.logLevel=ye.in.ERROR;const Bt=new pi(Y,re.SDK_VERSION,x,oe,Re,tt),Pn=new Hn(Bt,st),Gn=new os(Pn,st,pt,St),zn=new Wa(V,Gn,pt,st,St);return function wn(I){const D=(0,ue.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(zn),zn},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(qa,"0.4.1"),(0,re.registerVersion)(qa,"0.4.1","esm2017")}();const ls="/firebase-messaging-sw.js",vo="/firebase-cloud-messaging-push-scope",la="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sc="google.c.a.c_id",Ac="google.c.a.c_l",Qp="google.c.a.ts",Eo="google.c.a.e";var Wi=(()=>{return(I=Wi||(Wi={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Wi;var I})();function Zs(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jp(I){const x=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(x),Y=new Uint8Array(V.length);for(let oe=0;oe<V.length;++oe)Y[oe]=V.charCodeAt(oe);return Y}const ca="fcm_token_details_db",Ya="fcm_token_object_Store";function Mc(I){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(ca))return null;let D=null;return(yield(0,he.X3)(ca,5,{upgrade:(V=(0,O.Z)(function*(Y,oe,Re,tt){var st;if(oe<2||!Y.objectStoreNames.contains(Ya))return;const pt=tt.objectStore(Ya),St=yield pt.index("fcmSenderId").get(I);if(yield pt.clear(),St)if(2===oe){const Bt=St;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;D={token:Bt.fcmToken,createTime:null!==(st=Bt.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:Zs(Bt.vapidKey)}}}else if(3===oe){const Bt=St;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Zs(Bt.auth),p256dh:Zs(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Zs(Bt.vapidKey)}}}else if(4===oe){const Bt=St;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Zs(Bt.auth),p256dh:Zs(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Zs(Bt.vapidKey)}}}}),function(oe,Re,tt,st){return V.apply(this,arguments)})})).close(),yield(0,he.Lj)(ca),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),xc(D)?D:null;var V}),Qa.apply(this,arguments)}function xc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const wo="firebase-messaging-store";let bo=null;function Co(){return bo||(bo=(0,he.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(wo)}})),bo}function Ja(I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(I){const D=Ys(I),V=yield(yield Co()).transaction(wo).objectStore(wo).get(D);if(V)return V;{const Y=yield Mc(I.appConfig.senderId);if(Y)return yield Io(I,Y),Y}})).apply(this,arguments)}function Io(I,D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(I,D){const x=Ys(I),Y=(yield Co()).transaction(wo,"readwrite");return yield Y.objectStore(wo).put(D,x),yield Y.done,D})).apply(this,arguments)}function eu(I){return da.apply(this,arguments)}function da(){return(da=(0,O.Z)(function*(I){const D=Ys(I),V=(yield Co()).transaction(wo,"readwrite");yield V.objectStore(wo).delete(D),yield V.done})).apply(this,arguments)}function Ys({appConfig:I}){return I.appId}const Ln=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function il(I,D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(I,D){const x=yield cs(I),V=nu(D),Y={method:"POST",headers:x,body:JSON.stringify(V)};let oe;try{oe=yield(yield fetch(tu(I.appConfig),Y)).json()}catch(Re){throw Ln.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(oe.error)throw Ln.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Ln.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function sl(I,D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(I,D){const x=yield cs(I),V=nu(D.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(V)};let oe;try{oe=yield(yield fetch(`${tu(I.appConfig)}/${D.token}`,Y)).json()}catch(Re){throw Ln.create("token-update-failed",{errorInfo:Re?.toString()})}if(oe.error)throw Ln.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Ln.create("token-update-no-token");return oe.token})).apply(this,arguments)}function _r(I,D){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*(I,D){const V={method:"DELETE",headers:yield cs(I)};try{const oe=yield(yield fetch(`${tu(I.appConfig)}/${D}`,V)).json();if(oe.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(Y){throw Ln.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function tu({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function cs(I){return tr.apply(this,arguments)}function tr(){return(tr=(0,O.Z)(function*({appConfig:I,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function nu({p256dh:I,auth:D,endpoint:x,vapidKey:V}){const Y={web:{endpoint:x,auth:D,p256dh:I}};return V!==la&&(Y.web.applicationPubKey=V),Y}const Qs=6048e5;function Ah(I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,O.Z)(function*(I){const D=yield xh(I.swRegistration,I.vapidKey),x={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:Zs(D.getKey("auth")),p256dh:Zs(D.getKey("p256dh"))},V=yield Ja(I.firebaseDependencies);if(V){if(Rc(V.subscriptionOptions,x))return Date.now()>=V.createTime+Qs?Ut(I,{token:V.token,createTime:Date.now(),subscriptionOptions:x}):V.token;try{yield _r(I.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return Mh(I.firebaseDependencies,x)}return Mh(I.firebaseDependencies,x)})).apply(this,arguments)}function ol(I){return Js.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*(I){const D=yield Ja(I.firebaseDependencies);D&&(yield _r(I.firebaseDependencies,D.token),yield eu(I.firebaseDependencies));const x=yield I.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ut(I,D){return To.apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(I,D){try{const x=yield sl(I.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Io(I.firebaseDependencies,V),x}catch(x){throw yield ol(I),x}})).apply(this,arguments)}function Mh(I,D){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(I,D){const V={token:yield il(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Io(I,V),V.token})).apply(this,arguments)}function xh(I,D){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jp(D)})})).apply(this,arguments)}function Rc(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function al(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Nh(I,D){if(!D.notification)return;I.notification={};const x=D.notification.title;x&&(I.notification.title=x);const V=D.notification.body;V&&(I.notification.body=V);const Y=D.notification.image;Y&&(I.notification.image=Y);const oe=D.notification.icon;oe&&(I.notification.icon=oe)}(D,I),function _e(I,D){D.data&&(I.data=D.data)}(D,I),function nn(I,D){var x,V,Y,oe,Re;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;I.fcmOptions={};const tt=null!==(Y=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Y?Y:null===(oe=D.notification)||void 0===oe?void 0:oe.click_action;tt&&(I.fcmOptions.link=tt);const st=null===(Re=D.fcmOptions)||void 0===Re?void 0:Re.analytics_label;st&&(I.fcmOptions.analyticsLabel=st)}(D,I),D}function Rh(I){return"object"==typeof I&&!!I&&Sc in I}function Oc(I,D){const x=[];for(let V=0;V<I.length;V++)x.push(I.charAt(V)),V<D.length&&x.push(D.charAt(V));return x.join("")}function ul(I){return Ln.create("missing-app-config-values",{valueName:I})}Oc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Do{constructor(D,x,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function nr(I){if(!I||!I.options)throw ul("App Configuration Object");if(!I.name)throw ul("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=I;for(const V of D)if(!x[V])throw ul(V);return{appName:I.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ri(I){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(ls,{scope:vo}),I.swRegistration.update().catch(()=>{})}catch(D){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Pc(I,D){return ru.apply(this,arguments)}function ru(){return(ru=(0,O.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Ri(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Oh(I,D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=la)})).apply(this,arguments)}function Fr(){return(Fr=(0,O.Z)(function*(I,D){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield Oh(I,D?.vapidKey),yield Pc(I,D?.serviceWorkerRegistration),Ah(I)})).apply(this,arguments)}function Mo(I,D,x){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(I,D,x){const V=Ss(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:x[Sc],message_name:x[Ac],message_time:x[Qp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ss(I){switch(I){case Wi.NOTIFICATION_CLICKED:return"notification_open";case Wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xo(){return(xo=(0,O.Z)(function*(I,D){const x=D.data;if(!x.isFirebaseMessaging)return;I.onMessageHandler&&x.messageType===Wi.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(al(x)):I.onMessageHandler.next(al(x)));const V=x.data;Rh(V)&&"1"===V[Eo]&&(yield Mo(I,x.messageType,V))})).apply(this,arguments)}const ll="@firebase/messaging",As=I=>{const D=new Do(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function kc(I,D){return xo.apply(this,arguments)}(D,x)),D},ga=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:V=>function Mr(I,D){return Fr.apply(this,arguments)}(D,V)}};function cl(){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kh(){(0,re._registerComponent)(new ie.wA("messaging",As,"PUBLIC")),(0,re._registerComponent)(new ie.wA("messaging-internal",ga,"PRIVATE")),(0,re.registerVersion)(ll,"0.12.1"),(0,re.registerVersion)(ll,"0.12.1","esm2017")}();const Vc="analytics",Gr="firebase_id",Uc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lh="https://www.googletagmanager.com/gtag/js",xr=new ye.Yd("@firebase/analytics");function Vh(I){return Promise.all(I.map(D=>D.catch(x=>x)))}function rg(I,D){const x=document.createElement("script");x.src=`${Lh}?l=${I}&id=${D}`,x.async=!0,document.head.appendChild(x)}function ma(I,D,x,V,Y,oe){return No.apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(I,D,x,V,Y,oe){const Re=V[Y];try{if(Re)yield D[Re];else{const st=(yield Vh(x)).find(pt=>pt.measurementId===Y);st&&(yield D[st.appId])}}catch(tt){xr.error(tt)}I("config",Y,oe)})).apply(this,arguments)}function fs(I,D,x,V,Y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(I,D,x,V,Y){try{let oe=[];if(Y&&Y.send_to){let Re=Y.send_to;Array.isArray(Re)||(Re=[Re]);const tt=yield Vh(x);for(const st of Re){const pt=tt.find(Bt=>Bt.measurementId===st),St=pt&&D[pt.appId];if(!St){oe=[];break}oe.push(St)}}0===oe.length&&(oe=Object.values(D)),yield Promise.all(oe),I("event",V,Y||{})}catch(oe){xr.error(oe)}})).apply(this,arguments)}function Ro(I){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Lh)&&x.src.includes(I))return x;return null}const zr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),va=new class ig{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ms(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Uh(I){return On.apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(I){var D;const{appId:x,apiKey:V}=I,Y={method:"GET",headers:Ms(V)},oe=Uc.replace("{app-id}",x),Re=yield fetch(oe,Y);if(200!==Re.status&&304!==Re.status){let tt="";try{const st=yield Re.json();null!==(D=st.error)&&void 0!==D&&D.message&&(tt=st.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:tt})}return Re.json()})).apply(this,arguments)}function Xs(I){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(I,D=va,x){const{appId:V,apiKey:Y,measurementId:oe}=I.options;if(!V)throw zr.create("no-app-id");if(!Y){if(oe)return{measurementId:oe,appId:V};throw zr.create("no-api-key")}const Re=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new wa;return setTimeout((0,O.Z)(function*(){tt.abort()}),void 0!==x?x:6e4),Ea({appId:V,apiKey:Y,measurementId:oe},Re,tt,D)})).apply(this,arguments)}function Ea(I,D,x){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:x},V,Y=va){var oe;const{appId:Re,measurementId:tt}=I;try{yield dl(V,D)}catch(st){if(tt)return xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:Re,measurementId:tt};throw st}try{const st=yield Uh(I);return Y.deleteThrottleMetadata(Re),st}catch(st){const pt=st;if(!hl(pt)){if(Y.deleteThrottleMetadata(Re),tt)return xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:Re,measurementId:tt};throw st}const St=503===Number(null===(oe=pt?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,ue.$s)(x,Y.intervalMillis,30):(0,ue.$s)(x,Y.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+St,backoffCount:x+1};return Y.setThrottleMetadata(Re,Bt),xr.debug(`Calling attemptFetch again in ${St} millis`),Ea(I,Bt,V,Y)}})).apply(this,arguments)}function dl(I,D){return new Promise((x,V)=>{const Y=Math.max(D-Date.now(),0),oe=setTimeout(x,Y);I.addEventListener(()=>{clearTimeout(oe),V(zr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function hl(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class wa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let fl,ko;function Oo(){return(Oo=(0,O.Z)(function*(I,D,x,V,Y){if(Y&&Y.global)I("event",x,V);else{const oe=yield D;I("event",x,Object.assign(Object.assign({},V),{send_to:oe}))}})).apply(this,arguments)}function pl(I){ko=I}function Ca(I){fl=I}function qc(){return ou.apply(this,arguments)}function ou(){return(ou=(0,O.Z)(function*(){if(!(0,ue.hl)())return xr.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return xr.warn(zr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,O.Z)(function*(I,D,x,V,Y,oe,Re){var tt;const st=Xs(I);st.then(Gn=>{x[Gn.measurementId]=Gn.appId,I.options.measurementId&&Gn.measurementId!==I.options.measurementId&&xr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gn=>xr.error(Gn)),D.push(st);const pt=qc().then(Gn=>{if(Gn)return V.getId()}),[St,Bt]=yield Promise.all([st,pt]);Ro(oe)||rg(oe,St.measurementId),ko&&(Y("consent","default",ko),pl(void 0)),Y("js",new Date);const Pn=null!==(tt=Re?.config)&&void 0!==tt?tt:{};return Pn.origin="firebase",Pn.update=!0,null!=Bt&&(Pn[Gr]=Bt),Y("config",St.measurementId,Pn),fl&&(Y("set",fl),Ca(void 0)),St.measurementId})).apply(this,arguments)}class Bh{constructor(D){this.app=D}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},gl=[];const Ia={};let ml,Zr,ki="dataLayer",Rs=!1;function Lo(I,D,x){!function yl(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),x=zr.create("invalid-analytics-context",{errorInfo:D});xr.warn(x.message)}}();const V=I.options.appId;if(!V)throw zr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw zr.create("no-api-key");xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[V])throw zr.create("already-exists",{id:V});if(!Rs){!function Bc(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(ki);const{wrappedGtag:oe,gtagCore:Re}=function su(I,D,x,V,Y){let oe=function(...Re){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(oe=window[Y]),window[Y]=function jc(I,D,x,V){function oe(){return(oe=(0,O.Z)(function*(Re,tt,st){try{"event"===Re?yield fs(I,D,x,tt,st):"config"===Re?yield ma(I,D,x,V,tt,st):"consent"===Re?I("consent","update",st):I("set",tt)}catch(pt){xr.error(pt)}})).apply(this,arguments)}return function Y(Re,tt,st){return oe.apply(this,arguments)}}(oe,I,D,x),{gtagCore:oe,wrappedGtag:window[Y]}}(Pi,gl,Ia,ki,"gtag");Zr=oe,ml=Re,Rs=!0}return Pi[V]=function Gc(I,D,x,V,Y,oe,Re){return Fo.apply(this,arguments)}(I,gl,Ia,D,ml,ki,x),new Bh(I)}function _l(){return no.apply(this,arguments)}function no(){return(no=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Xt="@firebase/analytics";!function Wc(){(0,re._registerComponent)(new ie.wA(Vc,(D,{options:x})=>Lo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,re._registerComponent)(new ie.wA("analytics-internal",function I(D){try{const x=D.getProvider(Vc).getImmediate();return{logEvent:(V,Y,oe)=>function Gh(I,D,x,V){I=(0,ue.m9)(I),function to(I,D,x,V,Y){return Oo.apply(this,arguments)}(Zr,Pi[I.app.options.appId],D,x,V).catch(Y=>xr.error(Y))}(x,V,Y,oe)}}catch(x){throw zr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,re.registerVersion)(Xt,"0.9.1"),(0,re.registerVersion)(Xt,"0.9.1","esm2017")}();var Kc=k(4408),Yc=k(7565);const Fy=new class Wh extends Yc.v{}(class vl extends Kc.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,x,V):(D.flush(this),0)}});var Ly=k(4986),Uo=k(9751),Vn=k(8505),El=k(9468),Da=k(5363);const Kh=new l.GfV("7.5.0"),Vr="__angularfire_symbol__analyticsIsSupportedValue",ps="__angularfire_symbol__analyticsIsSupported",wl="__angularfire_symbol__remoteConfigIsSupportedValue",Sa="__angularfire_symbol__remoteConfigIsSupported",Os="__angularfire_symbol__messagingIsSupportedValue",Qc="__angularfire_symbol__messagingIsSupported";function mn(I,D,x){if(D){if(1===D.length)return D[0];const oe=D.filter(Re=>Re.app===x);if(1===oe.length)return oe[0]}return x.container.getProvider(I).getImmediate({optional:!0})}globalThis[ps]||(globalThis[ps]=_l().then(I=>globalThis[Vr]=I).catch(()=>globalThis[Vr]=!1)),globalThis[Qc]||(globalThis[Qc]=cl().then(I=>globalThis[Os]=I).catch(()=>globalThis[Os]=!1)),globalThis[Sa]||(globalThis[Sa]=Kp().then(I=>globalThis[wl]=I).catch(()=>globalThis[wl]=!1));const qn=(I,D)=>{const x=D?[D]:(0,$.C6)(),V=[];return x.forEach(Y=>{Y.container.getProvider(I).instances.forEach(Re=>{V.includes(Re)||V.push(Re)})}),V};function Ma(){}class bl{constructor(D,x=Fy){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,V){const Y=this.zone;return this.delegate.schedule(function(Re){Y.runGuarded(()=>{D.apply(this,[Re])})},x,V)}}class Cl{constructor(D){this.zone=D,this.task=null}call(D,x){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)),x.pipe((0,Vn.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Il=(()=>{class I{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new bl(Zone.current)),this.insideAngular=x.run(()=>new bl(Zone.current,Ly.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(x){return new(x||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Qi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Yh(I){return Qi().ngZone.runOutsideAngular(()=>I())}function Fi(I){return Qi().ngZone.run(()=>I())}function yt(I){return Qi(),function Tl(I){return function(x){return(x=x.lift(new Cl(I.ngZone))).pipe((0,El.R)(I.outsideAngular),(0,Da.Q)(I.insideAngular))}}(Qi())(I)}const io=(I,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Fi(()=>I.apply(void 0,V))},Dl=(I,D)=>function(){let x;const V=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof V[oe]&&(D&&(x||(x=Fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)))),V[oe]=io(V[oe],x));const Y=Yh(()=>I.apply(this,V));if(!D){if(Y instanceof Uo.y){const oe=Qi();return Y.pipe((0,El.R)(oe.outsideAngular),(0,Da.Q)(oe.insideAngular))}return Fi(()=>Y)}return Y instanceof Uo.y?Y.pipe(yt):Y instanceof Promise?Fi(()=>new Promise((oe,Re)=>Y.then(tt=>Fi(()=>oe(tt)),tt=>Fi(()=>Re(tt))))):"function"==typeof Y&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Y.apply(this,arguments)}:Fi(()=>Y)}},1808:(dt,Ae,k)=>{k.d(Ae,{$:()=>tu,A:()=>q,B:()=>Me,G:()=>Dc,H:()=>Cn,J:()=>Hn,L:()=>H,M:()=>Ka,N:()=>Yp,P:()=>Ly,Q:()=>Sc,R:()=>Zc,T:()=>Ac,U:()=>la,V:()=>Wi,W:()=>Zs,X:()=>Mc,Y:()=>qr,Z:()=>il,_:()=>sl,a:()=>_a,a0:()=>Ah,a1:()=>ol,a2:()=>Ut,a3:()=>Mh,a4:()=>xh,a5:()=>Rc,a6:()=>Nh,a7:()=>_e,a8:()=>Rh,a9:()=>Oc,aA:()=>j,aB:()=>tt,aC:()=>Fi,aD:()=>Yh,aE:()=>fr,aI:()=>Ms,aL:()=>Eo,aa:()=>Ri,ab:()=>Pc,ac:()=>Oh,af:()=>Mo,ag:()=>Ss,ah:()=>kc,ak:()=>wo,al:()=>iu,an:()=>Lh,ao:()=>No,ap:()=>ve,aq:()=>at,ar:()=>it,as:()=>Pe,at:()=>ms,au:()=>jo,av:()=>vn,aw:()=>ke,ax:()=>ee,ay:()=>Pn,az:()=>J,b:()=>zr,c:()=>Sa,d:()=>sg,e:()=>Qc,f:()=>yt,g:()=>x,h:()=>Dl,i:()=>ou,j:()=>oe,k:()=>Xi,l:()=>Zh,m:()=>id,o:()=>he,r:()=>Kc,s:()=>zh,u:()=>Fy});var l=k(5861),$=k(2090),O=k(9681),re=k(1877),ue=k(655),ie=k(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new re.Yd("@firebase/auth");function Ie(v,...g){Te.logLevel<=re.in.ERROR&&Te.error(`Auth (${O.SDK_VERSION}): ${v}`,...g)}function Pe(v,...g){throw je(v,...g)}function ke(v,...g){return je(v,...g)}function Ne(v,g,m){const b=Object.assign(Object.assign({},qe()),{[g]:m});return new $.LL("auth","Firebase",b).create(g,{appName:v.name})}function De(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Pe(v,"argument-error"),Ne(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return nt.create(v,...g)}function ee(v,g,...m){if(!v)throw je(g,...m)}function le(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ie(g),new Error(g)}function ve(v,g){v||le(g)}const Q=new Map;function J(v){ve(v instanceof Function,"Expected a class definition");let g=Q.get(v);return g?(ve(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Q.set(v,g),g)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Le(){return"http:"===ht()||"https:"===ht()}function ht(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Tt{constructor(g,m){this.shortDelay=g,this.longDelay=m,ve(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zt(v,g){ve(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class vt{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},lr=new Tt(3e4,6e4);function Qt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function bt(v,g,m,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(v,g,m,b,M={}){return Xr(v,M,(0,l.Z)(function*(){let P={},te={};b&&("GET"===g?te=b:P={body:JSON.stringify(b)});const Se=(0,$.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),Ye=yield v._getAdditionalHeaders();return Ye["Content-Type"]="application/json",v.languageCode&&(Ye["X-Firebase-Locale"]=v.languageCode),vt.fetch()(Ts(v,v.config.apiHost,m,Se),Object.assign({method:g,headers:Ye,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Xr(v,g,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},sn),g);try{const M=new Si(v),P=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw Bn(v,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const Se=P.ok?te.errorMessage:te.error.message,[Ye,ot]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw Bn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===Ye)throw Bn(v,"email-already-in-use",te);if("USER_DISABLED"===Ye)throw Bn(v,"user-disabled",te);const Zt=b[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ne(v,Zt,ot);Pe(v,Zt)}}catch(M){if(M instanceof $.ZR)throw M;Pe(v,"network-request-failed")}})).apply(this,arguments)}function In(v,g,m,b){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(v,g,m,b,M={}){const P=yield bt(v,g,m,b,M);return"mfaPendingCredential"in P&&Pe(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ts(v,g,m,b){const M=`${g}${m}?${b}`;return v.config.emulator?zt(v.config,M):`${v.config.apiScheme}://${M}`}class Si{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),lr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=ke(v,g,b);return M.customData._tokenResponse=m,M}function Ai(){return(Ai=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function gn(v,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function et(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Tr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Hr(){return(Hr=(0,l.Z)(function*(v,g=!1){const m=(0,$.m9)(v),b=yield m.getIdToken(g),M=ft(b);ee(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,te=P?.sign_in_provider;return{claims:M,token:b,authTime:Tr(xt(M.auth_time)),issuedAtTime:Tr(xt(M.iat)),expirationTime:Tr(xt(M.exp)),signInProvider:te||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(v){return 1e3*Number(v)}function ft(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,$.tV)(m);return M?JSON.parse(M):(Ie("Failed to decode base64 JWT payload"),null)}catch(M){return Ie("Caught error parsing JWT payload as JSON",M?.toString()),null}}function _n(v,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof $.ZR&&Tn(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Tn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ti{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Xn{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mi(v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),M=yield _n(v,et(m,{idToken:b}));ee(M?.users.length,m,"internal-error");const P=M.users[0];v._notifyReloadListener(P);const te=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?kn(P.providerUserInfo):[],Se=Or(v.providerData,te),Zt=!!v.isAnonymous&&!(v.email&&P.passwordHash||Se?.length),Mn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Se,metadata:new Xn(P.createdAt,P.lastLoginAt),isAnonymous:Zt};Object.assign(v,Mn)})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(v){const g=(0,$.m9)(v);yield Mi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Or(v,g){return[...v.filter(b=>!g.some(M=>M.providerId===b.providerId)),...g]}function kn(v){return v.map(g=>{var{providerId:m}=g,b=(0,ue._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ce(){return(Ce=(0,l.Z)(function*(v,g){const m=yield Xr(v,{},(0,l.Z)(function*(){const b=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:P}=v.config,te=Ts(v,M,"/v1/token",`key=${P}`),Se=yield v._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",vt.fetch()(te,{method:"POST",headers:Se,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(typeof g.idToken<"u","internal-error"),ee(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function At(v){const g=ft(v);return ee(g,"internal-error"),ee(typeof g.exp<"u","internal-error"),ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,l.Z)(function*(){return ee(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:te}=yield function $e(v,g){return Ce.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(M,P,Number(te))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:M,expirationTime:P}=m,te=new Qe;return b&&(ee("string"==typeof b,"internal-error",{appName:g}),te.refreshToken=b),M&&(ee("string"==typeof M,"internal-error",{appName:g}),te.accessToken=M),P&&(ee("number"==typeof P,"internal-error",{appName:g}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return le("not implemented")}}function Ct(v,g){ee("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class Dt{constructor(g){var{uid:m,auth:b,stsTokenManager:M}=g,P=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Xn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const b=yield _n(m,m.stsTokenManager.getToken(m.auth,g));return ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function $n(v){return Hr.apply(this,arguments)}(this,g)}reload(){return function xi(v){return Kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Dt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,l.Z)(function*(){let M=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),M=!0),m&&(yield Mi(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield _n(g,function ei(v,g){return Ai.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,M,P,te,Se,Ye,ot,Zt;const Mn=null!==(b=m.displayName)&&void 0!==b?b:void 0,_i=null!==(M=m.email)&&void 0!==M?M:void 0,Ps=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,$o=null!==(te=m.photoURL)&&void 0!==te?te:void 0,Ho=null!==(Se=m.tenantId)&&void 0!==Se?Se:void 0,du=null!==(Ye=m._redirectEventId)&&void 0!==Ye?Ye:void 0,hu=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,fu=null!==(Zt=m.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:od,emailVerified:qy,isAnonymous:nf,providerData:mg,stsTokenManager:Na}=m;ee(od&&Na,g,"internal-error");const ad=Qe.fromJSON(this.name,Na);ee("string"==typeof od,g,"internal-error"),Ct(Mn,g.name),Ct(_i,g.name),ee("boolean"==typeof qy,g,"internal-error"),ee("boolean"==typeof nf,g,"internal-error"),Ct(Ps,g.name),Ct($o,g.name),Ct(Ho,g.name),Ct(du,g.name),Ct(hu,g.name),Ct(fu,g.name);const pu=new Dt({uid:od,auth:g,email:_i,emailVerified:qy,displayName:Mn,isAnonymous:nf,photoURL:$o,phoneNumber:Ps,tenantId:Ho,stsTokenManager:ad,createdAt:hu,lastLoginAt:fu});return mg&&Array.isArray(mg)&&(pu.providerData=mg.map(gu=>Object.assign({},gu))),du&&(pu._redirectEventId=du),pu}static _fromIdTokenResponse(g,m,b=!1){return(0,l.Z)(function*(){const M=new Qe;M.updateFromServerResponse(m);const P=new Dt({uid:m.localId,auth:g,stsTokenManager:M,isAnonymous:b});return yield Mi(P),P})()}}const H=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,l.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function j(v,g,m){return`firebase:${v}:${g}:${m}`}class K{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:M,name:P}=this.auth;this.fullUserKey=j(this.userKey,M.apiKey,P),this.fullPersistenceKey=j("persistence",M.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Dt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new K(J(H),g,b);const M=(yield Promise.all(m.map(function(){var ot=(0,l.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let P=M[0]||J(H);const te=j(b,g.config.apiKey,g.name);let Se=null;for(const ot of m)try{const Zt=yield ot._get(te);if(Zt){const Mn=Dt._fromJSON(g,Zt);ot!==P&&(Se=Mn),P=ot;break}}catch{}const Ye=M.filter(ot=>ot._shouldAllowMigration);return P._shouldAllowMigration&&Ye.length?(P=Ye[0],Se&&(yield P._set(te,Se.toJSON())),yield Promise.all(m.map(function(){var ot=(0,l.Z)(function*(Zt){if(Zt!==P)try{yield Zt._remove(te)}catch{}});return function(Zt){return ot.apply(this,arguments)}}())),new K(P,g,b)):new K(P,g,b)})()}}function U(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(R(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ge(g))return"Blackberry";if(Vt(g))return"Webos";if(L(g))return"Safari";if((g.includes("chrome/")||ae(g))&&!g.includes("edge/"))return"Chrome";if(it(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function R(v=(0,$.z$)()){return/firefox\//i.test(v)}function L(v=(0,$.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ae(v=(0,$.z$)()){return/crios\//i.test(v)}function xe(v=(0,$.z$)()){return/iemobile/i.test(v)}function it(v=(0,$.z$)()){return/android/i.test(v)}function Ge(v=(0,$.z$)()){return/blackberry/i.test(v)}function Vt(v=(0,$.z$)()){return/webos/i.test(v)}function at(v=(0,$.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function vn(v=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pr(v=(0,$.z$)()){return at(v)||it(v)||Vt(v)||Ge(v)||/windows phone/i.test(v)||xe(v)}function go(v,g=[]){let m;switch(v){case"Browser":m=U((0,$.z$)());break;case"Worker":m=`${U((0,$.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${b}`}class Ju{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=P=>new Promise((te,Se)=>{try{te(g(P))}catch(Ye){Se(Ye)}});b.onAbort=m,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const M of m.queue)yield M(g),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const P of b)try{P()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Xu{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mo(this),this.idTokenSubscription=new mo(this),this.beforeStateQueue=new Ju(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=J(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,P;if(!b._deleted&&(b.persistenceManager=yield K.create(b,g),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var b;const M=yield m.assertedPersistence.getCurrentUser();let P=M,te=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Se=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ye=P?._redirectEventId,ot=yield m.tryRedirectSignIn(g);(!Se||Se===Ye)&&ot?.user&&(P=ot.user,te=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(te)try{yield m.beforeStateQueue.runMiddleware(P)}catch(Se){P=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Se))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){try{yield Mi(g)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function pn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const b=g?(0,$.m9)(g):null;return b&&ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return g&&ee(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(J(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,l.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&J(g)||m._popupRedirectResolver;ee(b,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[J(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,M){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(te,this,"internal-error"),te.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,b,M):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function fr(v){return(0,$.m9)(v)}class mo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dc(v,g,m){const b=fr(v);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const M=!!m?.disableWarnings,P=el(g),{host:te,port:Se}=function qa(v){const g=el(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const P=M[1];return{host:P,port:yo(b.substr(P.length+1))}}{const[P,te]=b.split(":");return{host:P,port:yo(te)}}}(g);b.config.emulator={url:`${P}//${te}${null===Se?"":`:${Se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:te,port:Se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function an(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function el(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function yo(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Cn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return le("not implemented")}_getIdTokenResponse(g){return le("not implemented")}_linkToIdToken(g,m){return le("not implemented")}_getReauthenticationResolver(g){return le("not implemented")}}function Dr(v,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:resetPassword",Qt(v,g))})).apply(this,arguments)}function kr(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Je(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:update",Qt(v,g))})).apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPassword",Qt(v,g))})).apply(this,arguments)}function Zi(v,g){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:sendOobCode",Qt(v,g))})).apply(this,arguments)}function pr(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(v,g){return Zi(v,g)})).apply(this,arguments)}function Ga(v,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,g){return Zi(v,g)})).apply(this,arguments)}function Yt(v,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(v,g){return Zi(v,g)})).apply(this,arguments)}function _o(v,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(v,g){return Zi(v,g)})).apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,g))})).apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,g))})).apply(this,arguments)}class ri extends Cn{constructor(g,m,b,M=null){super("password",b),this._email=g,this._password=m,this._tenantId=M}static _fromEmailAndPassword(g,m){return new ri(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new ri(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Dn(v,g){return Sr.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ss(v,g){return gr.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Pe(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return kr(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function za(v,g){return os.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Pe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function pi(v,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithIdp",Qt(v,g))})).apply(this,arguments)}class Hn extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Hn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:M}=m,P=(0,ue._T)(m,["providerId","signInMethod"]);if(!b||!M)return null;const te=new Hn(b,M);return te.idToken=P.idToken||void 0,te.accessToken=P.accessToken||void 0,te.secret=P.secret,te.nonce=P.nonce,te.pendingToken=P.pendingToken||null,te}_getIdTokenResponse(g){return pi(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,pi(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,pi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,$.xO)(m)}return g}}function nl(v,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:sendVerificationCode",Qt(v,g))})).apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,g))})).apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(v,g){const m=yield In(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,g));if(m.temporaryProof)throw Bn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wp={USER_NOT_FOUND:"user-not-found"};function Ar(){return(Ar=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Wp)})).apply(this,arguments)}class us extends Cn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new us({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new us({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Wa(v,g){return as.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function gi(v,g){return mr.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ii(v,g){return Ar.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:P}=g;return b||m||M||P?new us({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:P}):null}}class yr{constructor(g){var m,b,M,P,te,Se;const Ye=(0,$.zd)((0,$.pd)(g)),ot=null!==(m=Ye.apiKey)&&void 0!==m?m:null,Zt=null!==(b=Ye.oobCode)&&void 0!==b?b:null,Mn=function ua(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ye.mode)&&void 0!==M?M:null);ee(ot&&Zt&&Mn,"argument-error"),this.apiKey=ot,this.operation=Mn,this.code=Zt,this.continueUrl=null!==(P=Ye.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=Ye.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Se=Ye.tenantId)&&void 0!==Se?Se:null}static parseLink(g){const m=function rl(v){const g=(0,$.zd)((0,$.pd)(v)).link,m=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,b=(0,$.zd)((0,$.pd)(v)).deep_link_id;return(b?(0,$.zd)((0,$.pd)(b)).link:null)||b||m||g||v}(g);try{return new yr(m)}catch{return null}}}let Ka=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return ri._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=yr.parseLink(b);return ee(M,"argument-error"),ri._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ls{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class vo extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class la extends vo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),Hn._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),Hn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return la.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return la.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:P,nonce:te,providerId:Se}=g;if(!b&&!M&&!m&&!P||!Se)return null;try{return new la(Se)._credential({idToken:m,accessToken:b,nonce:te,pendingToken:P})}catch{return null}}}let Yp=(()=>{class v extends vo{constructor(){super("facebook.com")}static credential(m){return Hn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Sc=(()=>{class v extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Hn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return v.credential(b,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ac=(()=>{class v extends vo{constructor(){super("github.com")}static credential(m){return Hn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Eo extends Cn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return pi(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,pi(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,pi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:M,pendingToken:P}=m;return b&&M&&P&&b===M?new Eo(b,P):null}static _create(g,m){return new Eo(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends ls{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Wi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Eo.fromJSON(g);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return Eo._create(b,m)}catch{return null}}}let Zs=(()=>{class v extends vo{constructor(){super("twitter.com")}static credential(m,b){return Hn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return v.credential(b,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Jp(v,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signUp",Qt(v,g))})).apply(this,arguments)}class mi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,M=!1){return(0,l.Z)(function*(){const P=yield Dt._fromIdTokenResponse(g,b,M),te=Ya(b);return new mi({user:P,providerId:te,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const M=Ya(b);return new mi({user:g,providerId:M,_tokenResponse:b,operationType:m})})()}}function Ya(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Mc(v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(v){var g;const m=fr(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new mi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Jp(m,{returnSecureToken:!0}),M=yield mi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class xc extends $.ZR{constructor(g,m,b,M){var P;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,M){return new xc(g,m,b,M)}}function Nc(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?xc._fromErrorAndOperation(v,P,g,b):P})}function Ws(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function wo(v,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(v,g){const m=(0,$.m9)(v);yield Ks(!0,m,g);const{providerUserInfo:b}=yield gn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),M=Ws(b||[]);return m.providerData=m.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Co(v,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(v,g,m=!1){const b=yield _n(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return mi._forOperation(v,"link",b)})).apply(this,arguments)}function Ks(v,g,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(v,g,m){yield Mi(g);const M=!1===v?"provider-already-linked":"no-such-provider";ee(Ws(g.providerData).has(m)===v,g.auth,M)})).apply(this,arguments)}function Xa(v,g){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(v,g,m=!1){const{auth:b}=v,M="reauthenticate";try{const P=yield _n(v,Nc(b,M,g,v),m);ee(P.idToken,b,"internal-error");const te=ft(P.idToken);ee(te,b,"internal-error");const{sub:Se}=te;return ee(v.uid===Se,b,"user-mismatch"),mi._forOperation(v,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&Pe(b,"user-mismatch"),P}})).apply(this,arguments)}function da(v,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,g,m=!1){const b="signIn",M=yield Nc(v,b,g),P=yield mi._fromIdTokenResponse(v,b,M);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function qr(v,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,g){return da(fr(v),g)})).apply(this,arguments)}function il(v,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(v,g){const m=(0,$.m9)(v);return yield Ks(!1,m,g.providerId),Co(m,g)})).apply(this,arguments)}function sl(v,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(v,g){return Xa((0,$.m9)(v),g)})).apply(this,arguments)}function _r(v,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithCustomToken",Qt(v,g))})).apply(this,arguments)}function tu(v,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,g){const m=fr(v),b=yield _r(m,{token:g,returnSecureToken:!0}),M=yield mi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class tr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?nu._fromServerResponse(g,m):Pe(g,"internal-error")}}class nu extends tr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new nu(m)}}function Qs(v,g,m){var b;ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ah(v,g,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v),M={requestType:"PASSWORD_RESET",email:g};m&&Qs(b,M,m),yield Ga(b,M)})).apply(this,arguments)}function ol(v,g,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(v,g,m){yield Dr((0,$.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ut(v,g){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(v,g){yield Je((0,$.m9)(v),{oobCode:g})})).apply(this,arguments)}function Mh(v,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(v,g){const m=(0,$.m9)(v),b=yield Dr(m,{oobCode:g}),M=b.requestType;switch(ee(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,m,"internal-error");default:ee(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=tr._fromServerResponse(fr(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function xh(v,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(v,g){const{data:m}=yield Mh((0,$.m9)(v),g);return m.email})).apply(this,arguments)}function Rc(v,g,m){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(v,g,m){const b=fr(v),M=yield Jp(b,{returnSecureToken:!0,email:g,password:m}),P=yield mi._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Nh(v,g,m){return qr((0,$.m9)(v),Ka.credential(g,m))}function _e(v,g,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v),M={requestType:"EMAIL_SIGNIN",email:g};ee(m.handleCodeInApp,b,"argument-error"),m&&Qs(b,M,m),yield Yt(b,M)})).apply(this,arguments)}function Rh(v,g){return"EMAIL_SIGNIN"===yr.parseLink(g)?.operation}function Oc(v,g,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v),M=Ka.credentialWithLink(g,m||Ve());return ee(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),qr(b,M)})).apply(this,arguments)}function ul(v,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:createAuthUri",Qt(v,g))})).apply(this,arguments)}function Ri(v,g){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(v,g){const b={identifier:g,continueUri:Le()?Ve():"http://localhost"},{signinMethods:M}=yield ul((0,$.m9)(v),b);return M||[]})).apply(this,arguments)}function Pc(v,g){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(v,g){const m=(0,$.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Qs(m.auth,M,g);const{email:P}=yield pr(m.auth,M);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function Oh(v,g,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Qs(b.auth,P,m);const{email:te}=yield _o(b.auth,P);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function Mr(v,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(v,g){return bt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mo(v,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,$.m9)(v),P={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},te=yield _n(b,Mr(b.auth,P));b.displayName=te.displayName||null,b.photoURL=te.photoUrl||null;const Se=b.providerData.find(({providerId:Ye})=>"password"===Ye);Se&&(Se.displayName=b.displayName,Se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(te)})).apply(this,arguments)}function Ss(v,g){return xo((0,$.m9)(v),g,null)}function kc(v,g){return xo((0,$.m9)(v),null,g)}function xo(v,g,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(v,g,m){const{auth:b}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const te=yield _n(v,kr(b,P));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class As{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class ga extends As{constructor(g,m,b,M){super(g,m,b),this.username=M}}class kh extends As{constructor(g,m){super(g,"facebook.com",m)}}class cl extends ga{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Fc extends As{constructor(g,m){super(g,"google.com",m)}}class Fh extends ga{constructor(g,m,b){super(g,"twitter.com",m,b)}}function iu(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ph(v){var g,m;if(!v)return null;const{providerId:b}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const te=null===(m=null===(g=ft(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new As(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!b)return null;switch(b){case"facebook.com":return new kh(P,M);case"github.com":return new cl(P,M);case"google.com":return new Fc(P,M);case"twitter.com":return new Fh(P,M,v.screenName||null);case"custom":case"anonymous":return new As(P,null);default:return new As(P,b,M)}}(m)}class hn{constructor(g,m,b){this.type=g,this.credential=m,this.auth=b}static _fromIdtoken(g,m){return new hn("enroll",g,m)}static _fromMfaPendingCredential(g){return new hn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return hn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return hn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Uc{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=fr(g),M=m.customData._serverResponse,P=(M.mfaInfo||[]).map(Se=>tr._fromServerResponse(b,Se));ee(M.mfaPendingCredential,b,"internal-error");const te=hn._fromMfaPendingCredential(M.mfaPendingCredential);return new Uc(te,P,function(){var Se=(0,l.Z)(function*(Ye){const ot=yield Ye._process(b,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Zt=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const Mn=yield mi._fromIdTokenResponse(b,m.operationType,Zt);return yield b._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return ee(m.user,b,"internal-error"),mi._forOperation(m.user,m.operationType,Zt);default:Pe(b,"internal-error")}});return function(Ye){return Se.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function Lh(v,g){var m;const b=(0,$.m9)(v),M=g;return ee(g.customData.operationType,b,"argument-error"),ee(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Uc._fromError(b,M)}function xr(v,g){return bt(v,"POST","/v2/accounts/mfaEnrollment:start",Qt(v,g))}class Bc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>tr._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Bc(g)}getSession(){var g=this;return(0,l.Z)(function*(){return hn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var b=this;return(0,l.Z)(function*(){const M=g,P=yield b.getSession(),te=yield _n(b.user,M._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(te),b.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){const b="string"==typeof g?g:g.uid,M=yield m.user.getIdToken(),P=yield _n(m.user,function rg(v,g){return bt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(v,g))}(m.user.auth,{idToken:M,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==b),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch(te){if("auth/user-token-expired"!==te?.code)throw te}})()}}const ma=new WeakMap;function No(v){const g=(0,$.m9)(v);return ma.has(g)||ma.set(g,Bc._fromUser(g)),ma.get(g)}const fs="__sak";class Ki{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(fs,"1"),this.storage.removeItem(fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const zr=(()=>{class v extends Ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jc(){const v=(0,$.z$)();return L(v)||at(v)}()&&function Qu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),P=this.localCache[b];M!==P&&m(b,P,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Se,Ye,ot)=>{this.notifyListeners(Se,ot)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(M);if(m.newValue!==Se)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const P=()=>{const Se=this.storage.getItem(M);!b&&this.localCache[M]===Se||this.notifyListeners(M,Se)},te=this.storage.getItem(M);!function Pt(){return(0,$.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,P=this;return(0,l.Z)(function*(){yield M().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,l.Z)(function*(){const P=yield b().call(M,m);return M.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,M=this;return(0,l.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),_a=(()=>{class v extends Ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let va=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const M=m,{eventId:P,eventType:te,data:Se}=M.data,Ye=b.handlersMap[te];if(!Ye?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const ot=Array.from(Ye).map(function(){var Mn=(0,l.Z)(function*(_i){return _i(M.origin,Se)});return function(_i){return Mn.apply(this,arguments)}}()),Zt=yield function ig(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:Zt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ms(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Uh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var M=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,Se;return new Promise((Ye,ot)=>{const Zt=Ms("",20);P.port1.start();const Mn=setTimeout(()=>{ot(new Error("unsupported_event"))},b);Se={messageChannel:P,onMessage(_i){const Ps=_i;if(Ps.data.eventId===Zt)switch(Ps.data.status){case"ack":clearTimeout(Mn),te=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Ye(Ps.data.response);break;default:clearTimeout(Mn),clearTimeout(te),ot(new Error("invalid_response"))}}},M.handlers.add(Se),P.port1.addEventListener("message",Se.onMessage),M.target.postMessage({eventType:g,eventId:Zt,data:m},[P.port2])}).finally(()=>{Se&&M.removeMessageHandler(Se)})})()}}function On(){return window}function eo(){return typeof On().WorkerGlobalScope<"u"&&"function"==typeof On().importScripts}function Oi(){return(Oi=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wa="firebaseLocalStorageDb",to="firebaseLocalStorage",Oo="fbase_key";class Yi{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Po(v,g){return v.transaction([to],g?"readwrite":"readonly").objectStore(to)}function xs(){const v=indexedDB.open(wa,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(to,{keyPath:Oo})}catch(M){m(M)}}),v.addEventListener("success",(0,l.Z)(function*(){const b=v.result;b.objectStoreNames.contains(to)?g(b):(b.close(),yield function ba(){const v=indexedDB.deleteDatabase(wa);return new Yi(v).toPromise()}(),g(yield xs()))}))})}function $c(v,g,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,g,m){const b=Po(v,!0).put({[Oo]:g,value:m});return new Yi(b).toPromise()})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(v,g){const m=Po(v,!1).get(g),b=yield new Yi(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ko(v,g){const m=Po(v,!0).delete(g);return new Yi(m).toPromise()}const ou=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield xs()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(M++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return eo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=va._getInstance(function hl(){return eo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(M,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(M,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function Ea(){return Oi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Uh(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);P&&null!==(b=P[0])&&void 0!==b&&b.fulfilled&&null!==(M=P[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function dl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield xs();return yield $c(m,fs,"1"),yield ko(m,fs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(P=>$c(P,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const M=yield b._withRetries(P=>function Hc(v,g){return Ns.apply(this,arguments)}(P,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(M=>ko(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(te=>{const Se=Po(te,!1).getAll();return new Yi(Se).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:te,value:Se}of b)P.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Se)&&(m.notifyListeners(te,Se),M.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!P.has(te)&&(m.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Gc(v,g){return bt(v,"POST","/v2/accounts/mfaSignIn:start",Qt(v,g))}function Pi(){return(Pi=(0,l.Z)(function*(v){return(yield bt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ia(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=M=>{const P=ke("internal-error");P.customData=M,m(P)},b.type="text/javascript",b.charset="UTF-8",function gl(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function ki(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Zr=1e12;class Rs{constructor(g){this.auth=g,this.counter=Zr,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new jh(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||Zr;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Zr))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(g||Zr))||void 0===b||b.execute(),""})()}}class jh{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ee(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yl(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lo=ki("rcb"),$h=new Tt(3e4,6e4);class _l{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=On().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return ee(function no(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(On().grecaptcha):new Promise((b,M)=>{const P=On().setTimeout(()=>{M(ke(g,"network-request-failed"))},$h.get());On()[Lo]=()=>{On().clearTimeout(P),delete On()[Lo];const Se=On().grecaptcha;if(!Se)return void M(ke(g,"internal-error"));const Ye=Se.render;Se.render=(ot,Zt)=>{const Mn=Ye(ot,Zt);return this.counter++,Mn},this.hostLanguage=m,b(Se)},Ia(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Lo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),M(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=On().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ta{load(g){return(0,l.Z)(function*(){return new Rs(g)})()}clearedOneInstance(){}}const ro="recaptcha",qh={theme:"light",type:"image"};class Zc{constructor(g,m=Object.assign({},qh),b){this.parameters=m,this.type=ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ee(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ta:new _l,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const te=Se=>{Se&&(g.tokenChangeListeners.delete(te),P(Se))};g.tokenChangeListeners.add(te),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=On()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){ee(Le()&&!eo(),g.auth,"internal-error"),yield function au(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Bh(v){return Pi.apply(this,arguments)}(g.auth);ee(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gh{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=us._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function zh(v,g,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(v,g,m){const b=fr(v),M=yield Yc(b,g,(0,$.m9)(m));return new Gh(M,P=>qr(b,P))})).apply(this,arguments)}function Zh(v,g,m){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v);yield Ks(!1,b,"phone");const M=yield Yc(b.auth,g,(0,$.m9)(m));return new Gh(M,P=>il(b,P))})).apply(this,arguments)}function Kc(v,g,m){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v),M=yield Yc(b.auth,g,(0,$.m9)(m));return new Gh(M,P=>sl(b,P))})).apply(this,arguments)}function Yc(v,g,m){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,l.Z)(function*(v,g,m){var b;const M=yield m.verify();try{let P;if(ee("string"==typeof M,v,"argument-error"),ee(m.type===ro,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const te=P.session;if("phoneNumber"in P)return ee("enroll"===te.type,v,"internal-error"),(yield xr(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ee("signin"===te.type,v,"internal-error");const Se=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ee(Se,v,"missing-multi-factor-info"),(yield Gc(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield nl(v,{phoneNumber:P.phoneNumber,recaptchaToken:M});return te}}finally{m._reset()}})).apply(this,arguments)}function Fy(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(v,g){yield Co((0,$.m9)(v),g)})).apply(this,arguments)}let Ly=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=fr(m)}verifyPhoneNumber(m,b){return Yc(this.auth,m,(0,$.m9)(b))}static credential(m,b){return us._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?us._fromTokenResponse(b,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Uo(v,g){return g?J(g):(ee(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Vn extends Cn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return pi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return pi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return pi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function El(v){return da(v.auth,new Vn(v),v.bypassAuthState)}function Da(v){const{auth:g,user:m}=v;return ee(m,g,"internal-error"),Xa(m,new Vn(v),v.bypassAuthState)}function Kh(v){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(v){const{auth:g,user:m}=v;return ee(m,g,"internal-error"),Co(m,new Vn(v),v.bypassAuthState)})).apply(this,arguments)}class ps{constructor(g,m,b,M,P=!1){this.auth=g,this.resolver=b,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(b,M){g.pendingPromise={resolve:b,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:P,tenantId:te,error:Se,type:Ye}=g;if(Se)return void m.reject(Se);const ot={auth:m.auth,requestUri:b,sessionId:M,tenantId:te||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ye)(ot))}catch(Zt){m.reject(Zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return El;case"linkViaPopup":case"linkViaRedirect":return Kh;case"reauthViaPopup":case"reauthViaRedirect":return Da;default:Pe(this.auth,"internal-error")}}resolve(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new Tt(2e3,1e4);function Sa(v,g,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(v,g,m){const b=fr(v);De(v,g,ls);const M=Uo(b,m);return new si(b,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Qc(v,g,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v);De(b.auth,g,ls);const M=Uo(b.auth,m);return new si(b.auth,"reauthViaPopup",g,M,b).executeNotNull()})).apply(this,arguments)}function sg(v,g,m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v);De(b.auth,g,ls);const M=Uo(b.auth,m);return new si(b.auth,"linkViaPopup",g,M,b).executeNotNull()})).apply(this,arguments)}let si=(()=>{class v extends ps{constructor(m,b,M,P,te){super(m,b,P,te),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){ve(1===m.filter.length,"Popup operations only handle one event");const b=Ms();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,wl.get())};m()}}return v.currentPopupAction=null,v})();const qn=new Map;class Ma extends ps{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=qn.get(m.auth._key());if(!b){try{const P=(yield function bl(v,g){return Cl.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(P)}catch(M){b=()=>Promise.reject(M)}qn.set(m.auth._key(),b)}return m.bypassAuthState||qn.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const M=yield b.auth._redirectUserForId(g.eventId);if(M)return b.user=M,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Cl(){return(Cl=(0,l.Z)(function*(v,g){const m=rr(g),b=Bo(v);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function Il(v,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,g){return Bo(v)._set(rr(g),"true")})).apply(this,arguments)}function Yh(){qn.clear()}function Fi(v,g){qn.set(v._key(),g)}function Bo(v){return J(v._redirectPersistence)}function rr(v){return j("pendingRedirect",v.config.apiKey,v.name)}function yt(v,g,m){return function Tl(v,g,m){return io.apply(this,arguments)}(v,g,m)}function io(){return(io=(0,l.Z)(function*(v,g,m){const b=fr(v);De(v,g,ls),yield b._initializationPromise;const M=Uo(b,m);return yield Il(M,b),M._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function Dl(v,g,m){return function I(v,g,m){return D.apply(this,arguments)}(v,g,m)}function D(){return(D=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v);De(b.auth,g,ls),yield b.auth._initializationPromise;const M=Uo(b.auth,m);yield Il(M,b.auth);const P=yield pt(b);return M._openRedirect(b.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function x(v,g,m){return function V(v,g,m){return Y.apply(this,arguments)}(v,g,m)}function Y(){return(Y=(0,l.Z)(function*(v,g,m){const b=(0,$.m9)(v);De(b.auth,g,ls),yield b.auth._initializationPromise;const M=Uo(b.auth,m);yield Ks(!1,b,g.providerId),yield Il(M,b.auth);const P=yield pt(b);return M._openRedirect(b.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function oe(v,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,l.Z)(function*(v,g){return yield fr(v)._initializationPromise,tt(v,g,!1)})).apply(this,arguments)}function tt(v,g){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(v,g,m=!1){const b=fr(v),M=Uo(b,g),te=yield new Ma(b,M,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield b._persistUserIfCurrent(te.user),yield b._setRedirectUser(null,g)),te})).apply(this,arguments)}function pt(v){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(v){const g=Ms(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Pn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ji(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zn(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!zn(g)){const M=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,M))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gn(g))}saveEventToCache(g){this.cachedEventUids.add(Gn(g)),this.lastProcessedEventTime=Date.now()}}function Gn(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function zn({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function jo(v){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(v,g={}){return bt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uu=/^https?/;function Sl(){return(Sl=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield jo(v);for(const m of g)try{if(Vy(m))return}catch{}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function Vy(v){const g=Ve(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===b}if(!uu.test(m))return!1;if(yi.test(v))return b===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Qh=new Tt(3e4,6e4);function ag(){const v=On().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let xa=null;function Xc(v){return xa=xa||function ug(v){return new Promise((g,m)=>{var b,M,P;function te(){ag(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ag(),m(ke(v,"network-request-failed"))},timeout:Qh.get()})}if(null!==(M=null===(b=On().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(P=On().gapi)||void 0===P||!P.load){const Se=ki("iframefcb");return On()[Se]=()=>{gapi.load?te():m(ke(v,"network-request-failed"))},Ia(`https://apis.google.com/js/api.js?onload=${Se}`).catch(Ye=>m(Ye))}te()}}).catch(g=>{throw xa=null,g})}(v),xa}const Uy=new Tt(5e3,15e3),aE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $y(v){const g=v.config;ee(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?zt(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:O.SDK_VERSION},M=jy.get(v.config.apiHost);M&&(b.eid=M);const P=v._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,$.xO)(b).slice(1)}`}function Jh(){return Jh=(0,l.Z)(function*(v){const g=yield Xc(v),m=On().gapi;return ee(m,v,"internal-error"),g.open({where:document.body,url:$y(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aE,dontclear:!0},b=>new Promise(function(){var M=(0,l.Z)(function*(P,te){yield b.restyle({setHideOnLeave:!1});const Se=ke(v,"network-request-failed"),Ye=On().setTimeout(()=>{te(Se)},Uy.get());function ot(){On().clearTimeout(Ye),P(b)}b.ping(ot).then(ot,()=>{te(Se)})});return function(P,te){return M.apply(this,arguments)}}()))}),Jh.apply(this,arguments)}const Xh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ms(v,g,m,b,M,P){ee(v.config.authDomain,v,"auth-domain-config-required"),ee(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:O.SDK_VERSION,eventId:M};if(g instanceof ls){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ye,ot]of Object.entries(P||{}))te[Ye]=ot}if(g instanceof vo){const Ye=g.getScopes().filter(ot=>""!==ot);Ye.length>0&&(te.scopes=Ye.join(","))}v.tenantId&&(te.tid=v.tenantId);const Se=te;for(const Ye of Object.keys(Se))void 0===Se[Ye]&&delete Se[Ye];return`${function rd({config:v}){return v.emulator?zt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,$.xO)(Se).slice(1)}`}const hg="webStorageSupport",Xi=class uE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=tt,this._overrideRedirectResult=Fi}_openPopup(g,m,b,M){var P=this;return(0,l.Z)(function*(){var te;ve(null===(te=P.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Se=ms(g,m,b,Ve(),M);return function gs(v,g,m,b=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-b)/2,0).toString();let Se="";const Ye=Object.assign(Object.assign({},Xh),{width:b.toString(),height:M.toString(),top:P,left:te}),ot=(0,$.z$)().toLowerCase();m&&(Se=ae(ot)?"_blank":m),R(ot)&&(g=g||"http://localhost",Ye.scrollbars="yes");const Zt=Object.entries(Ye).reduce((_i,[Ps,$o])=>`${_i}${Ps}=${$o},`,"");if(function hr(v=(0,$.z$)()){var g;return at(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ot)&&"_self"!==Se)return function cg(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",Se),new lu(null);const Mn=window.open(g||"",Se,Zt);ee(Mn,v,"popup-blocked");try{Mn.focus()}catch{}return new lu(Mn)}(g,Se,Ms())})()}_openRedirect(g,m,b,M){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(g),function Xs(v){On().location.href=v}(ms(g,m,b,Ve(),M)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:M,promise:P}=this.eventManagers[m];return M?Promise.resolve(M):(ve(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const b=yield function lg(v){return Jh.apply(this,arguments)}(g),M=new Pn(g);return b.register("authEvent",P=>(ee(P?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:M},m.iframes[g._key()]=b,M})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(hg,{type:hg},M=>{var P;const te=null===(P=M?.[0])||void 0===P?void 0:P[hg];void 0!==te&&m(!!te),Pe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function og(v){return Sl.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Pr()||L()||at()}};class Al{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return le("unexpected MultiFactorSessionType")}}}class Ml extends Al{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ml(g)}_finalizeEnroll(g,m,b){return function Vh(v,g){return bt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Fo(v,g){return bt(v,"POST","/v2/accounts/mfaSignIn:finalize",Qt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let id=(()=>{class v{constructor(){}static assertion(m){return Ml._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ai="@firebase/auth";class fg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{g(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function ui(v){(0,O._registerComponent)(new ie.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:P,authDomain:te}=b.options;return((Se,Ye)=>{ee(P&&!P.includes(":"),"invalid-api-key",{appName:Se.name}),ee(!te?.includes(":"),"argument-error",{appName:Se.name});const ot={apiKey:P,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:go(v)},Zt=new Xu(Se,Ye,ot);return function se(v,g){const m=g?.persistence||[],b=(Array.isArray(m)?m:[m]).map(J);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,g?.popupRedirectResolver)}(Zt,m),Zt})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ie.wA("auth-internal",g=>{const m=fr(g.getProvider("auth").getImmediate());return new fg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(ai,"0.21.1",function pg(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,O.registerVersion)(ai,"0.21.1","esm2017")}("Browser")},2090:(dt,Ae,k)=>{k.d(Ae,{$s:()=>Qe,BH:()=>Ne,G6:()=>ht,L:()=>he,LL:()=>sn,P0:()=>Ie,Pz:()=>ke,Sg:()=>De,UG:()=>le,US:()=>ie,ZB:()=>q,ZR:()=>vt,aH:()=>Pe,b$:()=>J,eu:()=>pn,hl:()=>on,jU:()=>ve,m9:()=>Jt,ne:()=>Hr,pd:()=>jn,r3:()=>Si,ru:()=>Q,tV:()=>me,uI:()=>ee,vZ:()=>gn,w1:()=>se,xO:()=>dr,xb:()=>ei,z$:()=>je,zI:()=>Tt,zd:()=>Tr});const re=function(H){const j=[];let K=0;for(let U=0;U<H.length;U++){let R=H.charCodeAt(U);R<128?j[K++]=R:R<2048?(j[K++]=R>>6|192,j[K++]=63&R|128):55296==(64512&R)&&U+1<H.length&&56320==(64512&H.charCodeAt(U+1))?(R=65536+((1023&R)<<10)+(1023&H.charCodeAt(++U)),j[K++]=R>>18|240,j[K++]=R>>12&63|128,j[K++]=R>>6&63|128,j[K++]=63&R|128):(j[K++]=R>>12|224,j[K++]=R>>6&63|128,j[K++]=63&R|128)}return j},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,j){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let R=0;R<H.length;R+=3){const L=H[R],ae=R+1<H.length,xe=ae?H[R+1]:0,it=R+2<H.length,Ge=it?H[R+2]:0;let vn=(15&xe)<<2|Ge>>6,hr=63&Ge;it||(hr=64,ae||(vn=64)),U.push(K[L>>2],K[(3&L)<<4|xe>>4],K[vn],K[hr])}return U.join("")},encodeString(H,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(H):this.encodeByteArray(re(H),j)},decodeString(H,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(H):function(H){const j=[];let K=0,U=0;for(;K<H.length;){const R=H[K++];if(R<128)j[U++]=String.fromCharCode(R);else if(R>191&&R<224){const L=H[K++];j[U++]=String.fromCharCode((31&R)<<6|63&L)}else if(R>239&&R<365){const it=((7&R)<<18|(63&H[K++])<<12|(63&H[K++])<<6|63&H[K++])-65536;j[U++]=String.fromCharCode(55296+(it>>10)),j[U++]=String.fromCharCode(56320+(1023&it))}else{const L=H[K++],ae=H[K++];j[U++]=String.fromCharCode((15&R)<<12|(63&L)<<6|63&ae)}}return j.join("")}(this.decodeStringToByteArray(H,j))},decodeStringToByteArray(H,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let R=0;R<H.length;){const L=K[H.charAt(R++)],xe=R<H.length?K[H.charAt(R)]:0;++R;const Ge=R<H.length?K[H.charAt(R)]:64;++R;const at=R<H.length?K[H.charAt(R)]:64;if(++R,null==L||null==xe||null==Ge||null==at)throw Error();U.push(L<<2|xe>>4),64!==Ge&&(U.push(xe<<4&240|Ge>>2),64!==at&&U.push(Ge<<6&192|at))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},he=function(H){return function(H){const j=re(H);return ie.encodeByteArray(j,!0)}(H).replace(/\./g,"")},me=function(H){try{return ie.decodeString(H,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(H,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!X(K)||(H[K]=q(H[K],j[K]));return H}function X(H){return"__proto__"!==H}const ge=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=H&&me(H[1]);return j&&JSON.parse(j)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ie=H=>{const j=(H=>{var j,K;return null===(K=null===(j=ge())||void 0===j?void 0:j.emulatorHosts)||void 0===K?void 0:K[H]})(H);if(!j)return;const K=j.lastIndexOf(":");if(K<=0||K+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const U=parseInt(j.substring(K+1),10);return"["===j[0]?[j.substring(1,K-1),U]:[j.substring(0,K),U]},Pe=()=>{var H;return null===(H=ge())||void 0===H?void 0:H.config},ke=H=>{var j;return null===(j=ge())||void 0===j?void 0:j[`_${H}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,U)=>{K?this.reject(K):this.resolve(U),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,U))}}}function De(H,j){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=j||"demo-project",R=H.iat||0,L=H.sub||H.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:R,exp:R+3600,auth_time:R,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},H);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ae)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function le(){var H;const j=null===(H=ge())||void 0===H?void 0:H.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function Q(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){const H=je();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ht(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function on(){try{return"object"==typeof indexedDB}catch{return!1}}function pn(){return new Promise((H,j)=>{try{let K=!0;const U="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(U);R.onsuccess=()=>{R.result.close(),K||self.indexedDB.deleteDatabase(U),H(!0)},R.onupgradeneeded=()=>{K=!1},R.onerror=()=>{var L;j((null===(L=R.error)||void 0===L?void 0:L.message)||"")}}catch(K){j(K)}})}function Tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vt extends Error{constructor(j,K,U){super(K),this.code=j,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(j,K,U){this.service=j,this.serviceName=K,this.errors=U}create(j,...K){const U=K[0]||{},R=`${this.service}/${j}`,L=this.errors[j],ae=L?function lr(H,j){return H.replace(Qt,(K,U)=>{const R=j[U];return null!=R?String(R):`<${U}?>`})}(L,U):"Error";return new vt(R,`${this.serviceName}: ${ae} (${R}).`,U)}}const Qt=/\{\$([^}]+)}/g;function Si(H,j){return Object.prototype.hasOwnProperty.call(H,j)}function ei(H){for(const j in H)if(Object.prototype.hasOwnProperty.call(H,j))return!1;return!0}function gn(H,j){if(H===j)return!0;const K=Object.keys(H),U=Object.keys(j);for(const R of K){if(!U.includes(R))return!1;const L=H[R],ae=j[R];if(cr(L)&&cr(ae)){if(!gn(L,ae))return!1}else if(L!==ae)return!1}for(const R of U)if(!K.includes(R))return!1;return!0}function cr(H){return null!==H&&"object"==typeof H}function dr(H){const j=[];for(const[K,U]of Object.entries(H))Array.isArray(U)?U.forEach(R=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(R))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(U));return j.length?"&"+j.join("&"):""}function Tr(H){const j={};return H.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[R,L]=U.split("=");j[decodeURIComponent(R)]=decodeURIComponent(L)}}),j}function jn(H){const j=H.indexOf("?");if(!j)return"";const K=H.indexOf("#",j);return H.substring(j,K>0?K:void 0)}function Hr(H,j){const K=new xt(H,j);return K.subscribe.bind(K)}class xt{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(U=>{this.error(U)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,U){let R;if(void 0===j&&void 0===K&&void 0===U)throw new Error("Missing Observer.");R=function At(H,j){if("object"!=typeof H||null===H)return!1;for(const K of j)if(K in H&&"function"==typeof H[K])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:U},void 0===R.next&&(R.next=_n),void 0===R.error&&(R.error=_n),void 0===R.complete&&(R.complete=_n);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),L}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}function Qe(H,j=1e3,K=2){const U=j*Math.pow(K,H),R=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+R)}function Jt(H){return H&&H._delegate?H._delegate:H}},2727:(dt,Ae,k)=>{var l=k(4650);let $=null;function O(){return $}class ue{}const ie=new l.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const me=new l.OlP("Location Initialized");let G=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function X(){return new G((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Te)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let Te=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+qe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+qe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Me(De(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function Ne(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Be,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(l.LFG(nt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ke(){return new Pe((0,l.LFG)(nt))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}const ee={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function bt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===se.CurrencyDecimal)return t[l.wAp.NumberSymbols][se.Decimal];if(e===se.CurrencyGroup)return t[l.wAp.NumberSymbols][se.Group]}return r}function Di(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}const it=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function go(n,e,t,r,i,u,d=!1){let f="",y=!1;if(isFinite(n)){let w=function el(n){let r,i,u,d,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=u,r=[],d=0;u<=f;u++,d++)r[d]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(w=function Dc(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let T=e.minInt,A=e.minFrac,B=e.maxFrac;if(u){const ct=u.match(it);if(null===ct)throw new Error(`${u} is not a valid digit info`);const mt=ct[1],ut=ct[3],Rt=ct[5];null!=mt&&(T=yo(mt)),null!=ut&&(A=yo(ut)),null!=Rt?B=yo(Rt):null!=ut&&A>B&&(B=A)}!function qa(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let d=u+n.integerLen,f=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let A=d;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let A=1;A<d;A++)r[A]=0}if(f>=5)if(d-1<0){for(let A=0;A>d;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,u);i++)r.push(0);let y=0!==u;const w=e+n.integerLen,T=r.reduceRight(function(A,B,z,Z){return Z[z]=(B+=A)<10?B:B-10,y&&(0===Z[z]&&z>=w?Z.pop():y=!1),B>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(w,A,B);let z=w.digits,Z=w.integerLen;const de=w.exponent;let be=[];for(y=z.every(ct=>!ct);Z<T;Z++)z.unshift(0);for(;Z<0;Z++)z.unshift(0);Z>0?be=z.splice(Z,z.length):(be=z,z=[0]);const Ze=[];for(z.length>=e.lgSize&&Ze.unshift(z.splice(-e.lgSize,z.length).join(""));z.length>e.gSize;)Ze.unshift(z.splice(-e.gSize,z.length).join(""));z.length&&Ze.unshift(z.join("")),f=Ze.join(bt(t,r)),be.length&&(f+=bt(t,i)+be.join("")),de&&(f+=bt(t,se.Exponential)+"+"+de)}else f=bt(t,se.Infinity);return f=n<0&&!y?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}function mo(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],d=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=d[0],y=d[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let T=0;T<y.length;T++){const A=y.charAt(T);"0"===A?t.minFrac=t.maxFrac=T+1:"#"===A?t.maxFrac=T+1:t.posSuf+=A}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,A=u.indexOf("#");t.negPre=u.substring(0,A).replace(/'/g,""),t.negSuf=u.slice(A+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function yo(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function kr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}const ni=/\s+/,Je=[];let kt=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this.initialClasses=Je,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ni):Je}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ni):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ni).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class er{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new er(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,d),wn(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wn(n,e){n.context.$implicit=e.item}let Sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function oa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function Hn(n,e){return new l.vHH(2100,!1)}let Ar=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Hn();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),Ac=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!Sh(t))return null;i=i||this._locale;try{return function fr(n,e,t){return go(n,mo(Di(e,le.Decimal),bt(e,se.MinusSign)),e,se.Group,se.Decimal,t)}(Wi(t),i,r)}catch(u){throw Hn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),Eo=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,d){if(!Sh(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function et(n,e,t="en"){const r=function zi(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||ee[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",d):i);try{return function Ju(n,e,t,r,i){const d=mo(Di(e,le.Currency),bt(e,se.MinusSign));return d.minFrac=function Tr(n){let e;const t=ee[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,go(n,d,e,se.CurrencyGroup,se.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}(Wi(t),d,f,r,u)}catch(y){throw Hn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function Sh(n){return!(null==n||""===n||n!=n)}function Wi(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Nc(n){return"server"===n}let Co=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ja((0,l.LFG)(ie),window)}),n})();class Ja{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Io(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ks(this.window.history)||Ks(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ks(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eu{}class No extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fs extends No{static makeCurrent(){!function re(n){$||($=n)}(new fs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jc(){return Ki=Ki||document.querySelector("base"),Ki?Ki.getAttribute("href"):null}();return null==t?null:function Ro(n){su=su||document.createElement("a"),su.setAttribute("href",n);const e=su.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kr(document.cookie,e)}}let su,Ki=null;const ya=new l.OlP("TRANSITION_ID"),ky=[{provide:l.ip1,useFactory:function zr(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[ya,ie,l.zs3],multi:!0}];let ig=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const va=new l.OlP("EventManagerPlugins");let Ms=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(va),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Uh{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let On=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Xs=(()=>{class n extends On{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eo))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function eo(n){O().remove(n)}const Ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oi=/%COMP%/g;function Yi(n,e){return e.flat(100).map(t=>t.replace(Oi,n))}function Po(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ba=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ns(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new ko(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Yi(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ms),l.LFG(Xs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ea[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Hc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Hc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ea[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ea[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Po(r)):this.eventManager.addEventListener(e,t,Po(r))}}function Hc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ns extends xs{constructor(e,t,r,i){super(e),this.component=r;const u=Yi(i+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function to(n){return"_ngcontent-%COMP%".replace(Oi,n)}(i+"-"+r.id),this.hostAttr=function Oo(n){return"_nghost-%COMP%".replace(Oi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ko extends xs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Yi(i.id,i.styles);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pl=(()=>{class n extends Uh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ca=["alt","control","meta","shift"],qc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ou={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gc=(()=>{class n extends Uh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),Ca.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=qc[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ca.forEach(d=>{d!==i&&(0,ou[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function ki(){fs.makeCurrent()},multi:!0},{provide:ie,useFactory:function ml(){return(0,l.RDi)(document),document},deps:[]}]),jh=new l.OlP(""),yl=[{provide:l.rWj,useClass:class _a{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const f=function(y){d=d||y,u--,0==u&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Lo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function zc(){return new l.qLn},deps:[]},{provide:va,useClass:pl,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:va,useClass:Gc,multi:!0,deps:[ie]},{provide:ba,useClass:ba,deps:[Ms,Xs,l.AFp]},{provide:l.FYo,useExisting:ba},{provide:On,useExisting:Xs},{provide:Xs,useClass:Xs,deps:[ie]},{provide:Ms,useClass:Ms,deps:[va,l.R0b]},{provide:eu,useClass:ig,deps:[]},[]];let $h=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ya,useExisting:l.AFp},ky]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jh,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Lo,...yl],imports:[ca,l.hGG]}),n})(),ro=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ta(){return new ro((0,l.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Jc),r},providedIn:"root"}),n})(),Jc=(()=>{class n extends Aa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function sg(n){return new Jc(n.get(ie))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var mn=k(8996),qn=k(9751);const{isArray:Ma}=Array,{getPrototypeOf:bl,prototype:Cl,keys:Il}=Object;function Qi(n){if(1===n.length){const e=n[0];if(Ma(e))return{args:e,keys:null};if(function Yh(n){return n&&"object"==typeof n&&bl(n)===Cl}(e)){const t=Il(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Fi=k(8421),Bo=k(7669),rr=k(5403),yt=k(4004);const{isArray:Tl}=Array;function Dl(n){return(0,yt.U)(e=>function io(n,e){return Tl(e)?n(...e):n(e)}(n,e))}function I(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let x=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),V=(()=>{class n extends x{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Y=new l.OlP("NgValueAccessor"),tt={provide:Y,useExisting:(0,l.Gpc)(()=>St),multi:!0},pt=new l.OlP("CompositionEventMode");let St=(()=>{class n extends x{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function st(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(pt,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([tt]),l.qOj]}),n})();function Pn(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Gn(n){return null!=n&&"number"==typeof n.length}const zn=new l.OlP("NgValidators"),Ji=new l.OlP("NgAsyncValidators"),jo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class An{static min(e){return function yi(n){return e=>{if(Pn(e.value)||Pn(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function uu(n){return e=>{if(Pn(e.value)||Pn(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function og(n){return Pn(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Sl(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Vy(n){return Pn(n.value)||jo.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Qh(n){return e=>Pn(e.value)||!Gn(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return ag(e)}static pattern(e){return function ug(n){if(!n)return xa;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pn(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return $y(e)}static composeAsync(e){return Jh(e)}}function ag(n){return e=>Gn(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function xa(n){return null}function Xc(n){return null!=n}function Uy(n){return(0,l.QGY)(n)?(0,mn.D)(n):n}function By(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ed(n,e){return e.map(t=>t(n))}function jy(n){return n.map(e=>function aE(n){return!n.validate}(e)?e:t=>e.validate(t))}function $y(n){if(!n)return null;const e=n.filter(Xc);return 0==e.length?null:function(t){return By(ed(t,e))}}function lg(n){return null!=n?$y(jy(n)):null}function Jh(n){if(!n)return null;const e=n.filter(Xc);return 0==e.length?null:function(t){return function D(...n){const e=(0,Bo.jO)(n),{args:t,keys:r}=Qi(n),i=new qn.y(u=>{const{length:d}=t;if(!d)return void u.complete();const f=new Array(d);let y=d,w=d;for(let T=0;T<d;T++){let A=!1;(0,Fi.Xf)(t[T]).subscribe((0,rr.x)(u,B=>{A||(A=!0,w--),f[T]=B},()=>y--,void 0,()=>{(!y||!A)&&(w||u.next(r?I(r,f):f),u.complete())}))}});return e?i.pipe(Dl(e)):i}(ed(t,e).map(Uy)).pipe((0,yt.U)(By))}}function Xh(n){return null!=n?Jh(jy(n)):null}function ef(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function td(n){return n._rawValidators}function tf(n){return n._rawAsyncValidators}function nd(n){return n?Array.isArray(n)?n:[n]:[]}function lu(n,e){return Array.isArray(n)?n.includes(e):n===e}function gs(n,e){const t=nd(e);return nd(n).forEach(i=>{lu(t,i)||t.push(i)}),t}function cg(n,e){return nd(e).filter(t=>!lu(n,t))}class dg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class oi extends dg{get formDirective(){return null}get path(){return null}}class ms extends dg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xi=(()=>{class n extends rd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ms,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Al=(()=>{class n extends rd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const te="VALID",Se="INVALID",Ye="PENDING",ot="DISABLED";function Zt(n){return($o(n)?n.validators:n)||null}function _i(n,e){return($o(e)?e.asyncValidators:n)||null}function $o(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ho(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function du(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class hu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===te}get invalid(){return this.status===Se}get pending(){return this.status==Ye}get disabled(){return this.status===ot}get enabled(){return this.status!==ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cg(e,this._rawAsyncValidators))}hasValidator(e){return lu(this._rawValidators,e)}hasAsyncValidator(e){return lu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ye,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ot,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=te,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===te||this.status===Ye)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ot:te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ye,this._hasOwnPendingAsyncValidator=!0;const t=Uy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ot:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ye)?Ye:this._anyControlsHaveStatus(Se)?Se:te}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$o(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Mn(n){return Array.isArray(n)?lg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ps(n){return Array.isArray(n)?Xh(n):n||null}(this._rawAsyncValidators)}}class fu extends hu{constructor(e,t,r){super(Zt(t),_i(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){du(this,0,e),Object.keys(e).forEach(r=>{Ho(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class nf extends fu{}const Na=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ad}),ad="always";function pu(n,e){return[...e.path,n]}function gu(n,e,t=ad){zy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function dE(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mu(n,e)})}(n,e),function fE(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mu(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Gy(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ud(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zy(n,e){const t=td(n);null!==e.validator?n.setValidators(ef(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=tf(n);null!==e.asyncValidator?n.setAsyncValidators(ef(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rf(e._rawValidators,i),rf(e._rawAsyncValidators,i)}function yg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=td(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=tf(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return rf(e._rawValidators,r),rf(e._rawAsyncValidators,r),t}function mu(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zy(n,e){zy(n,e)}function vg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Yy(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ld(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===St?t=u:function Ky(n){return Object.getPrototypeOf(n.constructor)===V}(u)?r=u:i=u}),i||r||t||null}const Qy={provide:oi,useExisting:(0,l.Gpc)(()=>Nl)},xl=(()=>Promise.resolve())();let Nl=(()=>{class n extends oi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new fu({},lg(t),Xh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path),i=new fu({});Zy(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Yy(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zn,10),l.Y36(Ji,10),l.Y36(Na,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Qy]),l.qOj]}),n})();function cd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dd=class extends hu{constructor(e=null,t,r){super(Zt(t),_i(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$o(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},JI={provide:ms,useExisting:(0,l.Gpc)(()=>so)},XI=(()=>Promise.resolve())();let so=(()=>{class n extends ms{constructor(t,r,i,u,d,f){super(),this._changeDetectorRef=d,this.callSetDisabledState=f,this.control=new dd,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ld(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vg(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){XI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);XI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oi,9),l.Y36(zn,10),l.Y36(Ji,10),l.Y36(Y,10),l.Y36(l.sBO,8),l.Y36(Na,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([JI]),l.qOj,l.TTD]}),n})(),hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const eT={provide:Y,useExisting:(0,l.Gpc)(()=>fd),multi:!0};let fd=(()=>{class n extends V{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([eT]),l.qOj]}),n})();const wg={provide:Y,useExisting:(0,l.Gpc)(()=>bg),multi:!0};let Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),vE=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Xy}),n})(),bg=(()=>{class n extends V{constructor(t,r,i,u){super(t,r),this._registry=i,this._injector=u,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ms),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(vE),l.Y36(l.zs3))},n.\u0275dir=l.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([wg]),l.qOj]}),n})();const e_=new l.OlP("NgModelWithFormControlWarning"),nT={provide:oi,useExisting:(0,l.Gpc)(()=>ks)};let ks=(()=>{class n extends oi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return gu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ud(t.control||null,t,!1),function Eg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Yy(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ud(r||null,t),(n=>n instanceof dd)(i)&&(gu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Zy(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function GI(n,e){return yg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zy(this.form,this),this._oldForm&&yg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zn,10),l.Y36(Ji,10),l.Y36(Na,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([nT]),l.qOj,l.TTD]}),n})();const iT={provide:ms,useExisting:(0,l.Gpc)(()=>r_)};let r_=(()=>{class n extends ms{set isDisabled(t){}constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ld(0,u)}ngOnChanges(t){this._added||this._setUpControl(),vg(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(oi,13),l.Y36(zn,10),l.Y36(Ji,10),l.Y36(Y,10),l.Y36(e_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([iT]),l.qOj,l.TTD]}),n})();const CE={provide:Y,useExisting:(0,l.Gpc)(()=>sf),multi:!0};function IE(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sf=(()=>{class n extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=IE(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function sT(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([CE]),l.qOj]}),n})(),i_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(IE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(sf,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Cg={provide:Y,useExisting:(0,l.Gpc)(()=>Ig),multi:!0};function qo(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ig=(()=>{class n extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let f=0;f<d.length;f++){const w=this._getOptionValue(d[f].value);i.push(w)}}else{const d=r.options;for(let f=0;f<d.length;f++){const y=d[f];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function af(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Cg]),l.qOj]}),n})(),Tg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(qo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(qo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ig,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let gd=(()=>{class n{constructor(){this._validator=xa}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xa,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const l_={provide:zn,useExisting:(0,l.Gpc)(()=>c_),multi:!0};let c_=(()=>{class n extends gd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function aT(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>ag(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([l_]),l.qOj]}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xy]}),n})();class ME extends hu{constructor(e,t,r){super(Zt(t),_i(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){du(this,0,e),e.forEach((r,i)=>{Ho(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function h_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return h_(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new fu(i,u)}record(t,r=null){const i=this._reduceControls(t);return new nf(i,r)}control(t,r,i){let u={};return this.useNonNullable?(h_(r)?u=r:(u.validators=r,u.asyncValidators=i),new dd(t,{...u,nonNullable:!0})):new dd(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new ME(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof dd||t instanceof hu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Na,useValue:t.callSetDisabledState??ad}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AE]}),n})(),RE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:e_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Na,useValue:t.callSetDisabledState??ad}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AE]}),n})();function Et(...n){const e=(0,Bo.yG)(n);return(0,mn.D)(n,e)}var Ur=k(7579);class oo extends Ur.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const uf=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pl=k(4671),H1=k(9672);function Mg(...n){const e=(0,Bo.yG)(n),t=(0,Bo.jO)(n),{args:r,keys:i}=Qi(n);if(0===r.length)return(0,mn.D)([],e);const u=new qn.y(function fT(n,e,t=Pl.y){return r=>{xg(e,()=>{const{length:i}=n,u=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)xg(e,()=>{const w=(0,mn.D)(n[y],e);let T=!1;w.subscribe((0,rr.x)(r,A=>{u[y]=A,T||(T=!0,f--),f||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>I(i,d):Pl.y));return t?u.pipe(Dl(t)):u}function xg(n,e,t){n?(0,H1.f)(t,n,e):e()}var md=k(8189);function Ra(...n){return function PE(){return(0,md.J)(1)}()((0,mn.D)(n,(0,Bo.yG)(n)))}function kE(n){return new qn.y(e=>{(0,Fi.Xf)(n()).subscribe(e)})}var f_=k(9635),yd=k(576);function lf(n,e){const t=(0,yd.m)(n)?n:()=>n,r=i=>i.error(t());return new qn.y(e?i=>e.schedule(r,0,i):r)}var Go=k(515),cf=k(727),Er=k(4482);function Ng(){return(0,Er.e)((n,e)=>{let t=null;n._refCount++;const r=(0,rr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rg extends qn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Er.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,rr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cf.w0.EMPTY)}return e}refCount(){return Ng()(this)}}function Wr(n,e){return(0,Er.e)((t,r)=>{let i=null,u=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,rr.x)(r,y=>{i?.unsubscribe();let w=0;const T=u++;(0,Fi.Xf)(n(y,T)).subscribe(i=(0,rr.x)(r,A=>r.next(e?e(y,A,T,w++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function df(n){return n<=0?()=>Go.E:(0,Er.e)((e,t)=>{let r=0;e.subscribe((0,rr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hf(...n){const e=(0,Bo.yG)(n);return(0,Er.e)((t,r)=>{(e?Ra(n,t,e):Ra(n,t)).subscribe(r)})}function li(n,e){return(0,Er.e)((t,r)=>{let i=0;t.subscribe((0,rr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Li=k(5577);function Og(n){return(0,Er.e)((e,t)=>{let r=!1;e.subscribe((0,rr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function FE(n=p_){return(0,Er.e)((e,t)=>{let r=!1;e.subscribe((0,rr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function p_(){return new uf}function Oa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((i,u)=>n(i,u,r)):Pl.y,df(1),t?Og(e):FE(()=>new uf))}function Pa(n,e){return(0,yd.m)(e)?(0,Li.z)(n,e,1):(0,Li.z)(n,1)}var vi=k(8505);function ka(n){return(0,Er.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,rr.x)(t,void 0,void 0,d=>{u=(0,Fi.Xf)(n(d,ka(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function q1(n,e,t,r,i){return(u,d)=>{let f=t,y=e,w=0;u.subscribe((0,rr.x)(d,T=>{const A=w++;y=f?n(y,T,A):(f=!0,T),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function ff(n,e){return(0,Er.e)(q1(n,e,arguments.length>=2,!0))}function kl(n){return n<=0?()=>Go.E:(0,Er.e)((e,t)=>{let r=[];e.subscribe((0,rr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function LE(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((i,u)=>n(i,u,r)):Pl.y,kl(1),t?Og(e):FE(()=>new uf))}function g_(n){return(0,Er.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",gf=Symbol("RouteTitle");class pT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vd(n){return new pT(n)}function VE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],f=n[u];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Pg(n[i],e[i]))return!1;return!0}function Pg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function BE(n){return Array.prototype.concat.apply([],n)}function kg(n){return n.length>0?n[n.length-1]:null}function ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yu(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,mn.D)(Promise.resolve(n)):Et(n)}const Lg=!1,gT={exact:function Fl(n,e,t){if(!_u(n.segments,e.segments)||!m_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Fl(n.children[r],e.children[r],t))return!1;return!0},subset:HE},jE={exact:function mT(n,e){return Fs(n,e)},subset:function Fa(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Pg(n[t],e[t]))},ignored:()=>!0};function $E(n,e,t){return gT[t.paths](n.root,e.root,t.matrixParams)&&jE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function HE(n,e,t){return qE(n,e,e.segments,t)}function qE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_u(i,t)||e.hasChildren()||!m_(i,t,r))}if(n.segments.length===t.length){if(!_u(n.segments,t)||!m_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!HE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(_u(n.segments,i)&&m_(n.segments,i,r)&&n.children[en])&&qE(n.children[en],e,u,r)}}function m_(n,e,t){return e.every((r,i)=>jE[t](n[i].parameters,r.parameters))}class Ed{constructor(e=new rn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vd(this.queryParams)),this._queryParamMap}toString(){return _T.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ci(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return es(this)}}class Vg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vd(this.parameters)),this._parameterMap}toString(){return zE(this)}}function _u(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new y_},providedIn:"root"}),n})();class y_{parse(e){const t=new KE(e);return new Ed(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mf(e.root,!0)}`,r=function wT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ug(t)}=${Ug(i)}`).join("&"):`${Ug(t)}=${Ug(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function vT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _T=new y_;function es(n){return n.segments.map(e=>zE(e)).join("/")}function mf(n,e){if(!n.hasChildren())return es(n);if(e){const t=n.children[en]?mf(n.children[en],!1):"",r=[];return ci(n.children,(i,u)=>{u!==en&&r.push(`${u}:${mf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yT(n,e){let t=[];return ci(n.children,(r,i)=>{i===en&&(t=t.concat(e(r,i)))}),ci(n.children,(r,i)=>{i!==en&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===en?[mf(n.children[en],!1)]:[`${i}:${mf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${es(n)}/${t[0]}`:`${es(n)}/(${t.join("//")})`}}function __(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(n){return __(n).replace(/%3B/gi,";")}function v_(n){return __(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bg(n){return decodeURIComponent(n)}function E_(n){return Bg(n.replace(/\+/g,"%20"))}function zE(n){return`${v_(n.path)}${function ET(n){return Object.keys(n).map(e=>`;${v_(e)}=${v_(n[e])}`).join("")}(n.parameters)}`}const Wt=/^[^\/()?;=#]+/;function yf(n){const e=n.match(Wt);return e?e[0]:""}const ZE=/^[^=?&#]+/,bT=/^[^&#]+/;class KE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new rn(e,t)),r}parseSegment(){const e=yf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Lg);return this.capture(e),new Vg(Bg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yf(this.remaining);i&&(r=i,this.capture(r))}e[Bg(t)]=Bg(r)}parseQueryParam(e){const t=function WE(n){const e=n.match(ZE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function CT(n){const e=n.match(bT);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=E_(t),u=E_(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,Lg);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=en);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[en]:new rn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Lg)}}function w_(n){return n.segments.length>0?new rn([],{[en]:n}):n}function _f(n){const e={};for(const r of Object.keys(n.children)){const u=_f(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function IT(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function Ll(n){return n instanceof Ed}function DT(n,e,t,r,i){if(0===t.length)return bd(e.root,e.root,e.root,r,i);const u=function MT(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new AT(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return ci(u.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new AT(t,e,r)}(t);return u.toRoot()?bd(e.root,e.root,new rn([],{}),r,i):function d(y){const w=function G1(n,e,t,r){if(n.isAbsolute)return new Cd(e.root,!0,0);if(-1===r)return new Cd(t,t===e.root,0);return function XE(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Cd(r,!1,i-u)}(t,r+(Ul(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),T=w.processChildren?Td(w.segmentGroup,w.index,u.commands):b_(w.segmentGroup,w.index,u.commands);return bd(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Ul(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bl(n){return"object"==typeof n&&null!=n&&n.outlets}function bd(n,e,t,r,i){let d,u={};r&&ci(r,(y,w)=>{u[w]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),d=n===e?t:ST(n,e,t);const f=w_(_f(d));return new Ed(f,u,i)}function ST(n,e,t){const r={};return ci(n.children,(i,u)=>{r[u]=i===e?t:ST(i,e,t)}),new rn(n.segments,r)}class AT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ul(r[0]))throw new l.vHH(4003,!1);const i=r.find(Bl);if(i&&i!==kg(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function b_(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return Td(n,e,t);const r=function jg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],f=t[r];if(Bl(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!nw(y,w,d))return u;r+=2}else{if(!nw(y,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new rn(n.segments.slice(0,r.pathIndex),{});return u.children[en]=new rn(n.segments.slice(r.pathIndex),n.children),Td(u,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?C_(n,e,t):r.match?Td(n,0,i):C_(n,e,t)}function Td(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function Id(n){return Bl(n[0])?n[0].outlets:{[en]:n}}(t),i={};return ci(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=b_(n.children[d],e,u))}),ci(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new rn(n.segments,i)}}function C_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Bl(u)){const y=ew(u.outlets);return new rn(r,y)}if(0===i&&Ul(t[0])){r.push(new Vg(n.segments[e].path,tw(t[0]))),i++;continue}const d=Bl(u)?u.outlets[en]:`${u}`,f=i<t.length-1?t[i+1]:null;d&&f&&Ul(f)?(r.push(new Vg(d,tw(f))),i+=2):(r.push(new Vg(d,{})),i++)}return new rn(r,{})}function ew(n){const e={};return ci(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=C_(new rn([],{}),0,t))}),e}function tw(n){const e={};return ci(n,(t,r)=>e[r]=`${t}`),e}function nw(n,e,t){return n==t.path&&Fs(e,t.parameters)}const vf="imperative";class zo{constructor(e,t){this.id=e,this.url=t}}class I_ extends zo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vu extends zo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $g extends zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class T_ extends zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class D_ extends zo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S_ extends zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z1 extends zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A_ extends zo{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xT extends zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z1 extends zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ef{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wf=(()=>{class n{createUrlTree(t,r,i,u,d,f){return DT(t||r.root,i,u,d,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return wf.\u0275fac(e)},providedIn:"root"}),n})();class M_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cf(e,this._root).map(t=>t.value)}}function bf(n,e){if(n===e.value)return e;for(const t of e.children){const r=bf(n,t);if(r)return r}return null}function Cf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cf(n,t);if(r.length)return r.unshift(e),r}return[]}class ao{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qg extends M_{constructor(e,t){super(e),this.snapshot=t,x_(this,e)}toString(){return this.snapshot.toString()}}function aw(n,e){const t=function PT(n,e){const d=new If([],{},{},"",{},en,e,null,n.root,-1,{});return new cw("",new ao(d,[]))}(n,e),r=new oo([new Vg("",{})]),i=new oo({}),u=new oo({}),d=new oo({}),f=new oo(""),y=new $l(r,i,d,f,u,en,e,t.root);return y.snapshot=t.root,new qg(new ao(y,[]),t)}class $l{constructor(e,t,r,i,u,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,yt.U)(w=>w[gf]))??Et(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>vd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>vd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function lw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class If{get title(){return this.data?.[gf]}constructor(e,t,r,i,u,d,f,y,w,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cw extends M_{constructor(e,t){super(t),this.url=e,x_(this,t)}toString(){return ts(this._root)}}function x_(n,e){e.value._routerState=n,e.children.forEach(t=>x_(n,t))}function ts(n){const e=n.children.length>0?` { ${n.children.map(ts).join(", ")} } `:"";return`${n.value}${e}`}function Gg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fs(e.params,t.params)||n.params.next(t.params),function UE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function N_(n,e){const t=Fs(n.params,e.params)&&function GE(n,e){return _u(n,e)&&n.every((t,r)=>Fs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||N_(n.parent,e.parent))}function Hl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function dw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hl(n,r,i);return Hl(n,r)})}(n,e,t);return new ao(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Hl(n,f)),d}}const r=function kT(n){return new $l(new oo(n.url),new oo(n.params),new oo(n.queryParams),new oo(n.fragment),new oo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Hl(n,u));return new ao(r,i)}}const R_="ngNavigationCancelingError";function hw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ll(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=O_(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function O_(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[R_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function fw(n){return pw(n)&&Ll(n.url)}function pw(n){return n&&n[R_]}class P_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tf,this.attachRef=null}}let Tf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new P_,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zg=!1;let k_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Tf),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,zg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,zg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,zg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,zg);this._activatedRoute=t;const i=this.location,d=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new FT(t,f,i.injector);if(r&&function LT(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class FT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$l?this.route:e===Tf?this.childContexts:this.parent.get(e,t)}}let Ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[k_],encapsulation:2}),n})();function Zg(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function V_(n){const e=n.children&&n.children.map(V_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=Ls),t}function Vi(n){return n.outlet||en}function Wg(n,e){const t=n.filter(r=>Vi(r)===e);return t.push(...n.filter(r=>Vi(r)!==e)),t}function Eu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class U_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=jl(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),ci(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=jl(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new OT(u.value.snapshot))}),e.children.length&&this.forwardEvent(new iw(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Gg(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Gg(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=Eu(i.snapshot),y=f?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class jT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Df{constructor(e,t){this.component=e,this.route=t}}function gw(n,e,t){const r=n._root;return Gl(r,e?e._root:null,t,[r.value])}function ql(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Gl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=jl(e);return n.children.forEach(d=>{(function La(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function Kg(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_u(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_u(n.url,e.url)||!Fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(n,e)||!Fs(n.queryParams,e.queryParams);default:return!N_(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new jT(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Gl(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Df(f.outlet.component,d))}else d&&wu(e,f,i),i.canActivateChecks.push(new jT(r)),Gl(n,null,u.component?f?f.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),ci(u,(d,f)=>wu(d,t.getContext(f),i)),i}function wu(n,e,t){const r=jl(n),i=n.value;ci(r,(u,d)=>{wu(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Df(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Va(n){return"function"==typeof n}function B_(n){return n instanceof uf||"EmptyError"===n?.name}const Yg=Symbol("INITIAL_VALUE");function Ad(){return Wr(n=>Mg(n.map(e=>e.pipe(df(1),hf(Yg)))).pipe((0,yt.U)(e=>{for(const t of e)if(!0!==t){if(t===Yg)return Yg;if(!1===t||t instanceof Ed)return t}return!0}),li(e=>e!==Yg),df(1)))}function Ew(n){return(0,f_.z)((0,vi.b)(e=>{if(Ll(e))throw hw(0,e)}),(0,yt.U)(e=>!0===e))}const H_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ww(n,e,t,r,i){const u=q_(n,e,t);return u.matched?function QT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Et(i.map(d=>{const f=ql(d,n);return yu(function Sf(n){return n&&Va(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ad(),Ew()):Et(!0)}(r=Zg(e,r),e,t).pipe((0,yt.U)(d=>!0===d?u:{...H_})):Et(u)}function q_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...H_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||VE)(t,n,e);if(!i)return{...H_};const u={};ci(i.posParams,(f,y)=>{u[y]=f.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Qg(n,e,t,r){if(t.length>0&&function JT(n,e,t){return t.some(r=>Af(n,e,r)&&Vi(r)!==en)}(n,t,r)){const u=new rn(e,function Cw(n,e,t,r){const i={};i[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Vi(u)!==en){const d=new rn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Vi(u)]=d}return i}(n,e,r,new rn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function tx(n,e,t){return t.some(r=>Af(n,e,r))}(n,t,r)){const u=new rn(n.segments,function bw(n,e,t,r,i){const u={};for(const d of r)if(Af(n,t,d)&&!i[Vi(d)]){const f=new rn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,u[Vi(d)]=f}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new rn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Af(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Mf(n,e,t,r){return!!(Vi(n)===r||r!==en&&Af(e,t,n))&&("**"===n.path||q_(e,n,t).matched)}function bu(n,e,t){return 0===e.length&&!n.children[t]}const G_=!1;class zl{constructor(e){this.segmentGroup=e||null}}class Iw{constructor(e){this.urlTree=e}}function xf(n){return lf(new zl(n))}function Jg(n){return lf(new Iw(n))}class Ei{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Qg(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,en).pipe((0,yt.U)(u=>this.createUrlTree(_f(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ka(u=>{if(u instanceof Iw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof zl?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,en).pipe((0,yt.U)(i=>this.createUrlTree(_f(i),e.queryParams,e.fragment))).pipe(ka(i=>{throw i instanceof zl?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,G_)}createUrlTree(e,t,r){const i=w_(e);return new Ed(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,yt.U)(u=>new rn([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,mn.D)(i).pipe(Pa(u=>{const d=r.children[u],f=Wg(t,u);return this.expandSegmentGroup(e,f,d,u).pipe((0,yt.U)(y=>({segment:y,outlet:u})))}),ff((u,d)=>(u[d.outlet]=d.segment,u),{}),LE())}expandSegment(e,t,r,i,u,d){return(0,mn.D)(r).pipe(Pa(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,d).pipe(ka(w=>{if(w instanceof zl)return Et(null);throw w}))),Oa(f=>!!f),ka((f,y)=>{if(B_(f))return bu(t,i,u)?Et(new rn([],{})):xf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,d,f){return Mf(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):xf(t):xf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Jg(u):this.lineralizeSegments(r,u).pipe((0,Li.z)(d=>{const f=new rn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=q_(t,i,u);if(!f)return xf(t);const A=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?Jg(A):this.lineralizeSegments(i,A).pipe((0,Li.z)(B=>this.expandSegment(e,t,r,B.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=Zg(r,e),r.loadChildren?(r._loadedRoutes?Et({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,yt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new rn(i,{})))):Et(new rn(i,{}))):ww(t,r,i,e).pipe(Wr(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Li.z)(T=>{const A=T.injector??e,B=T.routes,{segmentGroup:z,slicedSegments:Z}=Qg(t,f,y,B),de=new rn(z.segments,z.children);if(0===Z.length&&de.hasChildren())return this.expandChildren(A,B,de).pipe((0,yt.U)(mt=>new rn(f,mt)));if(0===B.length&&0===Z.length)return Et(new rn(f,{}));const be=Vi(r)===u;return this.expandSegment(A,de,B,Z,be?en:u,!0).pipe((0,yt.U)(ct=>new rn(f.concat(ct.segments),ct.children)))})):xf(t)))}getChildConfig(e,t,r){return t.children?Et({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Et({routes:t._loadedRoutes,injector:t._loadedInjector}):function YT(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Et(!0):Et(i.map(d=>{const f=ql(d,n);return yu(function yw(n){return n&&Va(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ad(),Ew())}(e,t,r).pipe((0,Li.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,vi.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Zo(n){return lf(O_(G_,3))}())):Et({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Et(r);if(i.numberOfChildren>1||!i.children[en])return lf(new l.vHH(4e3,G_));i=i.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Ed(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ci(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return ci(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new rn(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,G_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Vs{}class xd{constructor(e,t,r,i,u,d,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=f}recognize(){const e=Qg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe((0,yt.U)(t=>{if(null===t)return null;const r=new If([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ao(r,t),u=new cw(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=uw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,mn.D)(Object.keys(r.children)).pipe(Pa(i=>{const u=r.children[i],d=Wg(t,i);return this.processSegmentGroup(e,d,u,i)}),ff((i,u)=>i&&u?(i.push(...u),i):null),function _d(n,e=!1){return(0,Er.e)((t,r)=>{let i=0;t.subscribe((0,rr.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),Og(null),LE(),(0,yt.U)(i=>{if(null===i)return null;const u=Wl(i);return function Nd(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,mn.D)(t).pipe(Pa(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),Oa(d=>!!d),ka(d=>{if(B_(d))return bu(r,i,u)?Et([]):Et(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Mf(t,r,i,u))return Et(null);let d;if("**"===t.path){const f=i.length>0?kg(i).parameters:{},y=Yl(r)+i.length;d=Et({snapshot:new If(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z_(t),Vi(t),t.component??t._loadedComponent??null,t,Kl(r),y,W_(t)),consumedSegments:[],remainingSegments:[]})}else d=ww(r,t,i,e).pipe((0,yt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:T})=>{if(!f)return null;const A=Yl(r)+y.length;return{snapshot:new If(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z_(t),Vi(t),t.component??t._loadedComponent??null,t,Kl(r),A,W_(t)),consumedSegments:y,remainingSegments:w}}));return d.pipe(Wr(f=>{if(null===f)return Et(null);const{snapshot:y,consumedSegments:w,remainingSegments:T}=f;e=t._injector??e;const A=t._loadedInjector??e,B=function Rd(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:Z}=Qg(r,w,T,B.filter(be=>void 0===be.redirectTo));if(0===Z.length&&z.hasChildren())return this.processChildren(A,B,z).pipe((0,yt.U)(be=>null===be?null:[new ao(y,be)]));if(0===B.length&&0===Z.length)return Et([new ao(y,[])]);const de=Vi(t)===u;return this.processSegment(A,B,z,Z,de?en:u).pipe((0,yt.U)(be=>null===be?null:[new ao(y,be)]))}))}}function Od(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wl(n){const e=[],t=new Set;for(const r of n){if(!Od(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Wl(r.children);e.push(new ao(r.value,i))}return e.filter(r=>!t.has(r))}function Kl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yl(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Z_(n){return n.data||{}}function W_(n){return n.resolve||{}}function Nw(n){return"string"==typeof n.title||null===n.title}function K_(n){return Wr(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,yt.U)(()=>e)):Et(e)})}const kd=new l.OlP("ROUTES");let Of=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=yu(t.loadComponent()).pipe((0,yt.U)(Pw),(0,vi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),g_(()=>{this.componentLoaders.delete(t)})),i=new Rg(r,()=>new Ur.x).pipe(Ng());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,yt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,T=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=BE(y.get(kd,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(V_),injector:y}}),g_(()=>{this.childrenLoaders.delete(r)})),d=new Rg(u,()=>new Ur.x).pipe(Ng());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return yu(t()).pipe((0,yt.U)(Pw),(0,Li.z)(i=>i instanceof l.YKP||Array.isArray(i)?Et(i):(0,mn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pw(n){return function Y_(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jl=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ur.x,this.configLoader=(0,l.f3M)(Of),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(wd),this.rootContexts=(0,l.f3M)(Tf),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Dd(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new oo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(r=>0!==r.id),(0,yt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Wr(r=>{let i=!1,u=!1;return Et(r).pipe((0,vi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wr(d=>{const f=t.browserUrlTree.toString(),y=!t.navigated||d.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new T_(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Go.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Xg(d.source)&&(t.browserUrlTree=d.extractedUrl),Et(d).pipe(Wr(T=>{const A=this.transitions?.getValue();return this.events.next(new I_(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions?.getValue()?Go.E:Promise.resolve(T)}),function Zl(n,e,t,r){return Wr(i=>function Nf(n,e,t,r,i){return new Ei(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,yt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,vi.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function Tw(n,e,t,r,i){return(0,Li.z)(u=>function Md(n,e,t,r,i,u,d="emptyOnly"){return new xd(n,e,t,r,i,d,u).recognize().pipe(Wr(f=>null===f?function z_(n){return new qn.y(e=>e.error(n))}(new Vs):Et(f)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,yt.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,vi.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(B,T)}t.browserUrlTree=T.urlAfterRedirects}const A=new S_(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(A)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:A,source:B,restoredState:z,extras:Z}=d,de=new I_(T,this.urlSerializer.serialize(A),B,z);this.events.next(de);const be=aw(A,this.rootComponentType).snapshot;return Et(r={...d,targetSnapshot:be,urlAfterRedirects:A,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new T_(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Go.E}}),(0,vi.b)(d=>{const f=new z1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),(0,yt.U)(d=>r={...d,guards:gw(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function GT(n,e){return(0,Li.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Et({...t,guardsResult:!0}):function zT(n,e,t,r){return(0,mn.D)(n).pipe((0,Li.z)(i=>function $_(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Et(u.map(f=>{const y=Eu(e)??i,w=ql(f,y);return yu(function qT(n){return n&&Va(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Oa())})).pipe(Ad()):Et(!0)}(i.component,i.route,t,e,r)),Oa(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Li.z)(f=>f&&function $T(n){return"boolean"==typeof n}(f)?function ZT(n,e,t,r){return(0,mn.D)(e).pipe(Pa(i=>Ra(function vw(n,e){return null!==n&&e&&e(new NT(n)),Et(!0)}(i.route.parent,r),function WT(n,e){return null!==n&&e&&e(new RT(n)),Et(!0)}(i.route,r),function KT(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function mw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>kE(()=>Et(d.guards.map(y=>{const w=Eu(d.node)??t,T=ql(y,w);return yu(function HT(n){return n&&Va(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Oa())})).pipe(Ad())));return Et(u).pipe(Ad())}(n,i.path,t),function j_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Et(!0);const i=r.map(u=>kE(()=>{const d=Eu(e)??t,f=ql(u,d);return yu(function _w(n){return n&&Va(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(Oa())}));return Et(i).pipe(Ad())}(n,i.route,t))),Oa(i=>!0!==i,!0))}(r,u,n,e):Et(f)),(0,yt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),(0,vi.b)(d=>{if(r.guardsResult=d.guardsResult,Ll(d.guardsResult))throw hw(0,d.guardsResult);const f=new A_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),li(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),K_(d=>{if(d.guards.canActivateChecks.length)return Et(d).pipe((0,vi.b)(f=>{const y=new xT(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),Wr(f=>{let y=!1;return Et(f).pipe(function Dw(n,e){return(0,Li.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Et(t);let u=0;return(0,mn.D)(i).pipe(Pa(d=>function Sw(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Nw(i)&&(u[gf]=i.title),function Aw(n,e,t,r){const i=function Mw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Et({});const u={};return(0,mn.D)(i).pipe((0,Li.z)(d=>function xw(n,e,t,r){const i=Eu(e)??r,u=ql(n,i);return yu(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Oa(),(0,vi.b)(f=>{u[d]=f}))),kl(1),function pf(n){return(0,yt.U)(()=>n)}(u),ka(d=>B_(d)?Go.E:lf(d)))}(u,n,e,r).pipe((0,yt.U)(d=>(n._resolvedData=d,n.data=uw(n,t).resolve,i&&Nw(i)&&(n.data[gf]=i.title),null)))}(d.route,r,n,e)),(0,vi.b)(()=>u++),kl(1),(0,Li.z)(d=>u===i.length?Et(t):Go.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,vi.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,vi.b)(f=>{const y=new Z1(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),K_(d=>{const f=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,vi.b)(T=>{y.component=T}),(0,yt.U)(()=>{})));for(const T of y.children)w.push(...f(T));return w};return Mg(f(d.targetSnapshot.root)).pipe(Og(),df(1))}),K_(()=>this.afterPreactivation()),(0,yt.U)(d=>{const f=function W1(n,e,t){const r=Hl(n,e._root,t?t._root:void 0);return new qg(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,vi.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(r=>(new U_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,vi.b)({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new vu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),g_(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ka(d=>{if(u=!0,pw(d)){fw(d)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new $g(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(f),fw(d)){const y=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Xg(r.source)};t.scheduleNavigation(y,vf,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new D_(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(d))}catch(y){r.reject(y)}}return Go.E}))}))}cancelNavigationTransition(t,r,i){const u=new $g(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xg(n){return n!==vf}let kw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===en);return r}getResolvedTitleForRoute(t){return t.data[gf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(em)},providedIn:"root"}),n})(),em=(()=>{class n extends kw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ro))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Lw)},providedIn:"root"}),n})();class Fw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Lw=(()=>{class n extends Fw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pf=new l.OlP("",{providedIn:"root",factory:()=>({})});let Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(J_)},providedIn:"root"}),n})(),J_=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tD(n){throw n}function Uw(n,e,t){return e.parse("/")}const Bw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Pf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||tD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Vw),this.routeReuseStrategy=(0,l.f3M)(tm),this.urlCreationStrategy=(0,l.f3M)(Hg),this.titleStrategy=(0,l.f3M)(kw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=BE((0,l.f3M)(kd,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Jl),this.urlSerializer=(0,l.f3M)(wd),this.location=(0,l.f3M)(Pe),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ed,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(V_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:d;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ll(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,vf,null,r)}navigate(t,r={skipLocationChange:!1}){return function nD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Bw}:!1===r?{...jw}:r,Ll(t))return $E(this.currentUrlTree,t,i);const u=this.parseUrl(t);return $E(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let f,y,w,T;return d?(f=d.resolve,y=d.reject,w=d.promise):w=new Promise((A,B)=>{f=A,y=B}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{constructor(t,r,i,u,d,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ur.x;const y=d.nativeElement.tagName;this.isAnchorElement="A"===y||"AREA"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof vu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wi),l.Y36($l),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(nt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class rm{}let Hw=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(li(t=>t instanceof vu),Pa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,f=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,mn.D)(i).pipe((0,md.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Et(null);const u=i.pipe((0,Li.z)(d=>null===d?Et(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,mn.D)([u,d]).pipe((0,md.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(rm),l.LFG(Of))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const im=new l.OlP("");let ev=(()=>{class n{constructor(t,r,i,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ef&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ef(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Wo(n,e){return{\u0275kind:n,\u0275providers:e}}function Cu(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(wi),i=n.get(sm);1===n.get(nv)&&r.initialNavigation(),n.get(Gw,null,l.XFs.Optional)?.setUpPreloading(),n.get(im,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const sm=new l.OlP("",{factory:()=>new Ur.x}),nv=new l.OlP("",{providedIn:"root",factory:()=>1});const Gw=new l.OlP("");function uD(n){return Wo(0,[{provide:Gw,useExisting:Hw},{provide:rm,useExisting:n}])}const zw=new l.OlP("ROUTER_FORROOT_GUARD"),dD=[Pe,{provide:wd,useClass:y_},wi,Tf,{provide:$l,useFactory:function tv(n){return n.routerState.root},deps:[wi]},Of,[]];function Zw(){return new l.PXZ("Router",wi)}let Ww=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dD,[],{provide:kd,multi:!0,useValue:t},{provide:zw,useFactory:hD,deps:[[wi,new l.FiY,new l.tp0]]},{provide:Pf,useValue:r||{}},r?.useHash?{provide:nt,useClass:Ie}:{provide:nt,useClass:Te},{provide:im,useFactory:()=>{const n=(0,l.f3M)(Co),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(Pf),r=(0,l.f3M)(Jl),i=(0,l.f3M)(wd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ev(i,r,n,e,t)}},r?.preloadingStrategy?uD(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Zw},r?.initialNavigation?fD(r):[],[{provide:iv,useFactory:Cu},{provide:l.tb,multi:!0,useExisting:iv}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zw,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ls]}),n})();function hD(n){return"guarded"}function fD(n){return["disabled"===n.initialNavigation?Wo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(wi);return()=>{e.setUpLocationChangeListener()}}},{provide:nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wo(2,[{provide:nv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(wi),d=e.get(sm);(function r(i){e.get(wi).events.pipe(li(d=>d instanceof vu||d instanceof $g||d instanceof D_),(0,yt.U)(d=>d instanceof vu||d instanceof $g&&(0===d.code||1===d.code)&&null),li(d=>null!==d),df(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Jl).afterPreactivation=()=>(i(!0),d.closed?Et(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const iv=new l.OlP("");function ox(n,e){1&n&&(l.TgZ(0,"div",2)(1,"div",3)(2,"h5",4),l._uU(3,"No hay citas"),l.qZA()()())}function sv(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"p",5)(3,"span"),l._uU(4,"Nombre:"),l.qZA(),l._uU(5),l.qZA(),l.TgZ(6,"p",5)(7,"span"),l._uU(8,"Fecha:"),l.qZA(),l._uU(9),l.qZA(),l.TgZ(10,"p",5)(11,"span"),l._uU(12,"Hora:"),l.qZA(),l._uU(13),l.qZA(),l.TgZ(14,"p",5)(15,"span"),l._uU(16,"Nombre:"),l.qZA(),l._uU(17),l.qZA(),l.TgZ(18,"button",6),l.NdJ("click",function(){const u=l.CHM(t).index,d=l.oxw();return l.KtG(d.eliminarCita(u))}),l._uU(19,"ELIMINAR"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(5),l.Oqu(t.nombre),l.xp6(4),l.Oqu(t.fecha),l.xp6(4),l.Oqu(t.hora),l.xp6(4),l.Oqu(t.sintomas)}}class ec{constructor(){this.deleteCita=new l.vpe}eliminarCita(e){this.deleteCita.emit(e)}}function Yo(n,e){1&n&&(l.TgZ(0,"div",14)(1,"span",15),l._uU(2,"Todos los campos son obligatorios"),l.qZA()())}ec.\u0275fac=function(e){return new(e||ec)},ec.\u0275cmp=l.Xpm({type:ec,selectors:[["app-lista-de-cistas"]],inputs:{listadoCitas:"listadoCitas"},outputs:{deleteCita:"deleteCita"},decls:2,vars:2,consts:[["class","card bg-light",4,"ngIf"],["class","card bg-light",4,"ngFor","ngForOf"],[1,"card","bg-light"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[1,"btn","btn-danger","btn-block",3,"click"]],template:function(e,t){1&e&&(l.YNc(0,ox,4,0,"div",0),l.YNc(1,sv,20,4,"div",1)),2&e&&(l.Q6J("ngIf",0===t.listadoCitas.length),l.xp6(1),l.Q6J("ngForOf",t.listadoCitas))},dependencies:[pr,Sn],styles:[".btn[_ngcontent-%COMP%]{width:100%}span[_ngcontent-%COMP%]{font-weight:600}"]});class kf{constructor(){this.nombre="",this.fecha="",this.hora="",this.sintomas="",this.formularioIncorrecto=!1,this.nuevaCita=new l.vpe}agregarCita(){""!=this.nombre&&""!=this.fecha&&""!=this.hora&&""!=this.sintomas?(this.formularioIncorrecto=!1,this.nuevaCita.emit({nombre:this.nombre,fecha:this.fecha,hora:this.hora,sintomas:this.sintomas}),this.resetCampos()):this.formularioIncorrecto=!0}resetCampos(){this.nombre="",this.fecha="",this.hora="",this.sintomas=""}}kf.\u0275fac=function(e){return new(e||kf)},kf.\u0275cmp=l.Xpm({type:kf,selectors:[["app-crear-cistas"]],outputs:{nuevaCita:"nuevaCita"},decls:23,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"card-title","text-center"],["class","text-center",4,"ngIf"],[1,"form-group","mb-3"],["for","nombre"],["id","nombre","type","text","placeholder","Ingrese su nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","fecha"],["id","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],["for","hora"],["id","hora","type","time",1,"form-control",3,"ngModel","ngModelChange"],["for","sintomas"],["id","sintomas","rows","3","placeholder","Ingrese los sintomas",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"text-center"],[1,"badge","bg-danger"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3,"Agregar"),l.qZA(),l.YNc(4,Yo,3,0,"div",3),l.TgZ(5,"div",4)(6,"label",5),l._uU(7,"Nombre"),l.qZA(),l.TgZ(8,"input",6),l.NdJ("ngModelChange",function(i){return t.nombre=i}),l.qZA()(),l.TgZ(9,"div",4)(10,"label",7),l._uU(11,"Fecha"),l.qZA(),l.TgZ(12,"input",8),l.NdJ("ngModelChange",function(i){return t.fecha=i}),l.qZA()(),l.TgZ(13,"div",4)(14,"label",9),l._uU(15,"Hora"),l.qZA(),l.TgZ(16,"input",10),l.NdJ("ngModelChange",function(i){return t.hora=i}),l.qZA()(),l.TgZ(17,"div",4)(18,"label",11),l._uU(19,"Sintomas"),l.qZA(),l.TgZ(20,"textarea",12),l.NdJ("ngModelChange",function(i){return t.sintomas=i}),l.qZA()(),l.TgZ(21,"button",13),l.NdJ("click",function(){return t.agregarCita()}),l._uU(22,"Agregar Cita"),l.qZA()()()),2&e&&(l.xp6(4),l.Q6J("ngIf",t.formularioIncorrecto),l.xp6(4),l.Q6J("ngModel",t.nombre),l.xp6(4),l.Q6J("ngModel",t.fecha),l.xp6(4),l.Q6J("ngModel",t.hora),l.xp6(4),l.Q6J("ngModel",t.sintomas))},dependencies:[Sn,St,Xi,so],styles:["label[_ngcontent-%COMP%]{font-weight:600}.btn[_ngcontent-%COMP%]{width:100%}"]});class Ld{constructor(){this.listCitas=[]}agregarCita(e){console.log("probando"),console.log(e),console.log(this.listCitas),this.listCitas.push(e)}eliminarCitaListado(e){this.listCitas.splice(e,1)}}Ld.\u0275fac=function(e){return new(e||Ld)},Ld.\u0275cmp=l.Xpm({type:Ld,selectors:[["app-citas"]],decls:9,vars:1,consts:[[1,"fondo"],[1,"container","pt-3"],[1,"text-center","tituloClass"],[1,"row","mt-3"],[1,"col-lg-6"],[3,"nuevaCita"],[3,"listadoCitas","deleteCita"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._uU(3,"APLICACION DE CITAS"),l.qZA(),l.TgZ(4,"div",3)(5,"div",4)(6,"app-crear-cistas",5),l.NdJ("nuevaCita",function(i){return t.agregarCita(i)}),l.qZA()(),l.TgZ(7,"div",4)(8,"app-lista-de-cistas",6),l.NdJ("deleteCita",function(i){return t.eliminarCitaListado(i)}),l.qZA()()()()()),2&e&&(l.xp6(8),l.Q6J("listadoCitas",t.listCitas))},dependencies:[ec,kf],styles:[".tituloClass[_ngcontent-%COMP%]{font-family:Nerko One,cursive;font-size:3rem;color:#fff}.fondo[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.3),rgba(0,0,0,.3)),url(bosque3.c9ee526f55967c78.jpg);background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}"]});class ns{}ns.\u0275fac=function(e){return new(e||ns)},ns.\u0275cmp=l.Xpm({type:ns,selectors:[["app-navbar-clima"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container"],[1,"navbar-brand"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),l._uU(3,"Clima"),l.qZA()()())}});class rs{}class ys{}class Qo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===u.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yD{encodeKey(e){return om(e)}encodeValue(e){return om(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vD=/%(\d[a-f0-9])/gi,ED={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function om(n){return encodeURIComponent(n).replace(vD,(e,t)=>ED[t]??e)}function Iu(n){return`${n}`}class Tu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _D(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Iu):[Iu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Tu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Iu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Iu(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ov(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ff(n){return typeof Blob<"u"&&n instanceof Blob}function Jw(n){return typeof FormData<"u"&&n instanceof FormData}class Vd{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Qw(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Qo),this.context||(this.context=new bD),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Tu,this.urlWithParams=t}serializeBody(){return null===this.body?null:ov(this.body)||Ff(this.body)||Jw(this.body)||function Xw(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jw(this.body)?null:Ff(this.body)?this.body.type||null:ov(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((A,B)=>A.set(B,e.setHeaders[B]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,B)=>A.set(B,e.setParams[B]),w)),new Vd(t,r,u,{params:w,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:d})}}var ir=(()=>((ir=ir||{})[ir.Sent=0]="Sent",ir[ir.UploadProgress=1]="UploadProgress",ir[ir.ResponseHeader=2]="ResponseHeader",ir[ir.DownloadProgress=3]="DownloadProgress",ir[ir.Response=4]="Response",ir[ir.User=5]="User",ir))();class Ud{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Lf extends Ud{constructor(e={}){super(e),this.type=ir.ResponseHeader}clone(e={}){return new Lf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vf extends Ud{constructor(e={}){super(e),this.type=ir.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class av extends Ud{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function am(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Uf=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Vd)u=t;else{let y,w;y=i.headers instanceof Qo?i.headers:new Qo(i.headers),i.params&&(w=i.params instanceof Tu?i.params:new Tu({fromObject:i.params})),u=new Vd(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Et(u).pipe(Pa(y=>this.handler.handle(y)));if(t instanceof Vd||"events"===i.observe)return d;const f=d.pipe(li(y=>y instanceof Vf));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,yt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,yt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Tu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,am(i,r))}post(t,r,i={}){return this.request("POST",t,am(i,r))}put(t,r,i={}){return this.request("PUT",t,am(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function uv(n,e){return e(n)}function eb(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const CD=new l.OlP("HTTP_INTERCEPTORS"),Bf=new l.OlP("HTTP_INTERCEPTOR_FNS");function ID(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(CD,{optional:!0})??[]).reduceRight(eb,uv)),n(e,t))}let nb=(()=>{class n extends rs{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Bf)));this.chain=r.reduceRight((i,u)=>function tb(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),uv)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ys),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const AD=/^\)\]\}',?\n/;let ib=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((z,Z)=>i.setRequestHeader(z,Z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&i.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();i.responseType="json"!==z?z:"text"}const u=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const z=i.statusText||"OK",Z=new Qo(i.getAllResponseHeaders()),de=function MD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Lf({headers:Z,status:i.status,statusText:z,url:de}),d},y=()=>{let{headers:z,status:Z,statusText:de,url:be}=f(),Ze=null;204!==Z&&(Ze=typeof i.response>"u"?i.responseText:i.response),0===Z&&(Z=Ze?200:0);let ct=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof Ze){const mt=Ze;Ze=Ze.replace(AD,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(ut){Ze=mt,ct&&(ct=!1,Ze={error:ut,text:Ze})}}ct?(r.next(new Vf({body:Ze,headers:z,status:Z,statusText:de,url:be||void 0})),r.complete()):r.error(new av({error:Ze,headers:z,status:Z,statusText:de,url:be||void 0}))},w=z=>{const{url:Z}=f(),de=new av({error:z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Z||void 0});r.error(de)};let T=!1;const A=z=>{T||(r.next(f()),T=!0);let Z={type:ir.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(Z.total=z.total),"text"===t.responseType&&i.responseText&&(Z.partialText=i.responseText),r.next(Z)},B=z=>{let Z={type:ir.UploadProgress,loaded:z.loaded};z.lengthComputable&&(Z.total=z.total),r.next(Z)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",A),null!==u&&i.upload&&i.upload.addEventListener("progress",B)),i.send(u),r.next({type:ir.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",A),null!==u&&i.upload&&i.upload.removeEventListener("progress",B)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const um=new l.OlP("XSRF_ENABLED"),lv="XSRF-TOKEN",cv=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>lv}),dv="X-XSRF-TOKEN",hv=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>dv});class fv{}let sb=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(l.Lbi),l.LFG(cv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ob(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(um)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(fv).getToken(),i=(0,l.f3M)(hv);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var sr=(()=>((sr=sr||{})[sr.Interceptors=0]="Interceptors",sr[sr.LegacyInterceptors=1]="LegacyInterceptors",sr[sr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",sr[sr.NoXsrfProtection=3]="NoXsrfProtection",sr[sr.JsonpSupport=4]="JsonpSupport",sr[sr.RequestsMadeViaParent=5]="RequestsMadeViaParent",sr))();function Du(n,e){return{\u0275kind:n,\u0275providers:e}}function tc(...n){const e=[Uf,ib,nb,{provide:rs,useExisting:nb},{provide:ys,useExisting:ib},{provide:Bf,useValue:ob,multi:!0},{provide:um,useValue:!0},{provide:fv,useClass:sb}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const ab=new l.OlP("LEGACY_INTERCEPTOR_FN");function gx({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:cv,useValue:n}),void 0!==e&&t.push({provide:hv,useValue:e}),Du(sr.CustomXsrfConfiguration,t)}let mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tc(Du(sr.LegacyInterceptors,[{provide:ab,useFactory:ID},{provide:Bf,useExisting:ab,multi:!0}]),gx({cookieName:lv,headerName:dv}))]}),n})();class jd{constructor(e){this.http=e,this.url="https://api.openweathermap.org/data/2.5/weather?&appid=",this.key="0adce55efbd03a564a53a5b234ad86f0"}getClima(e){return this.http.get(this.url+this.key+"&q="+e)}}function OD(n,e){1&n&&(l.TgZ(0,"div",9)(1,"div",10)(2,"strong"),l._uU(3,"ERROR AL OBTENER EL CLIMA"),l.qZA()()())}function $d(n,e){1&n&&(l.TgZ(0,"div",11),l._UZ(1,"div",12)(2,"div",12)(3,"div",12),l.qZA())}function PD(n,e){if(1&n&&(l.TgZ(0,"div",13)(1,"div",14)(2,"p")(3,"b"),l._uU(4,"Temperatura: "),l.qZA(),l._uU(5),l.ALo(6,"number"),l.qZA(),l.TgZ(7,"p")(8,"b"),l._uU(9,"Humedad: "),l.qZA(),l._uU(10),l.qZA(),l.TgZ(11,"p")(12,"b"),l._uU(13,"Clima: "),l.qZA(),l._uU(14),l.qZA()()()),2&n){const t=l.oxw();l.xp6(5),l.hij("",l.xi3(6,3,t.temperatura,"0.0-2"),"\xb0C"),l.xp6(5),l.Oqu(t.humedad),l.xp6(4),l.Oqu(t.clima)}}jd.\u0275fac=function(e){return new(e||jd)(l.LFG(Uf))},jd.\u0275prov=l.Yz7({token:jd,factory:jd.\u0275fac,providedIn:"root"});class Su{constructor(e){this._climaService=e,this.urlImage="https://images.squarespace-cdn.com/content/v1/5572b7b4e4b0a20071d407d4/1487090874274-FH2ZNWOTRU90UAF5TA2B/Weather+Targeting",this.ciudad="",this.temperatura=0,this.humedad=0,this.clima="",this.query=!1,this.loading=!1,this.mostrarError=!1}obtenerClima(){this.query=!1,this.loading=!0,console.log(this.ciudad),this._climaService.getClima(this.ciudad).subscribe(e=>{console.log(e),this.loading=!1,this.query=!0,this.temperatura=e.main.temp-273,this.humedad=e.main.humidity,this.clima=e.weather[0].main},e=>{this.loading=!1,this.error()})}error(){this.mostrarError=!0,setTimeout(()=>{this.mostrarError=!1,this.ciudad=""},3e3)}}Su.\u0275fac=function(e){return new(e||Su)(l.Y36(jd))},Su.\u0275cmp=l.Xpm({type:Su,selectors:[["app-dashboard-clima"]],decls:11,vars:6,consts:[["class","alert alert-dismissible alert-danger",4,"ngIf"],[1,"container","pt-4"],[1,"row"],[1,"col-lg-4"],["width","300px","height","300px","alt","",3,"src"],["type","text","placeholder","Ingrese Ciudad",1,"form-control","form-control-lg","size",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-lg","btn-block","mt-4","size",3,"disabled","click"],["class","text-center mt-3",4,"ngIf"],["class","card mt-3",4,"ngIf"],[1,"alert","alert-dismissible","alert-danger"],[1,"text-center"],[1,"text-center","mt-3"],["role","status",1,"spinner-grow","text-primary"],[1,"card","mt-3"],[1,"card-body"]],template:function(e,t){1&e&&(l.YNc(0,OD,4,0,"div",0),l.TgZ(1,"div",1)(2,"div",2)(3,"div",3),l._UZ(4,"img",4),l.qZA(),l.TgZ(5,"div",3)(6,"input",5),l.NdJ("ngModelChange",function(i){return t.ciudad=i}),l.qZA(),l.TgZ(7,"button",6),l.NdJ("click",function(){return t.obtenerClima()}),l._uU(8,"OBTENER CLIMA"),l.qZA(),l.YNc(9,$d,4,0,"div",7),l.YNc(10,PD,15,6,"div",8),l.qZA()()()),2&e&&(l.Q6J("ngIf",t.mostrarError),l.xp6(4),l.Q6J("src",t.urlImage,l.LSH),l.xp6(2),l.Q6J("ngModel",t.ciudad),l.xp6(1),l.Q6J("disabled",""==t.ciudad),l.xp6(2),l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("ngIf",t.query))},dependencies:[Sn,St,Xi,so,Ac],styles:["input[_ngcontent-%COMP%]{text-align:center}.size[_ngcontent-%COMP%]{font-size:2rem}"]});class Au{}Au.\u0275fac=function(e){return new(e||Au)},Au.\u0275cmp=l.Xpm({type:Au,selectors:[["app-clima"]],decls:2,vars:0,template:function(e,t){1&e&&l._UZ(0,"app-navbar-clima")(1,"app-dashboard-clima")},dependencies:[ns,Su]});class xn{}function _x(n,e){if(1&n&&(l.TgZ(0,"option"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function lb(n,e){if(1&n&&(l.TgZ(0,"option"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}xn.\u0275fac=function(e){return new(e||xn)},xn.\u0275cmp=l.Xpm({type:xn,selectors:[["app-navbarconvertidor"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1","mx-auto"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),l._uU(3,"CONVERTIDOR"),l.qZA()()())}});class Hd{constructor(){this.cantidad=0,this.tengo="USD",this.quiero="EUR",this.total=0,this.monedas=["USD","EUR","LIBRA"]}convertir(){switch(this.tengo){case"USD":"USD"===this.quiero&&(this.total=this.cantidad),"EUR"===this.quiero&&(this.total=.84*this.cantidad),"LIBRA"===this.quiero&&(this.total=.75*this.cantidad);break;case"EUR":"USD"===this.quiero&&(this.total=1.2*this.cantidad),"EUR"===this.quiero&&(this.total=this.cantidad),"LIBRA"===this.quiero&&(this.total=.9*this.cantidad);break;case"LIBRA":"USD"===this.quiero&&(this.total=1.33*this.cantidad),"EUR"===this.quiero&&(this.total=1.11*this.cantidad),"LIBRA"===this.quiero&&(this.total=this.cantidad)}}}function kD(n,e){1&n&&(l.TgZ(0,"h1")(1,"span",4),l._uU(2,"GANASTE"),l.qZA()())}Hd.\u0275fac=function(e){return new(e||Hd)},Hd.\u0275cmp=l.Xpm({type:Hd,selectors:[["app-convertidor"]],decls:30,vars:12,consts:[[1,"fondo"],[1,"container"],[1,"row","mb-3"],[1,"col-lg-12"],[1,"form-group"],["for","cantidad",1,"labelCantidad"],["type","number","id","cantidad","placeholder","Ingrese cantidad...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"row"],[1,"col-lg-6"],["for","tengo"],[1,""],["id","tengo",1,"form-control",3,"ngModel","change","ngModelChange"],[4,"ngFor","ngForOf"],["for","quiero"],["id","quiero",1,"form-control",3,"ngModel","change","ngModelChange"],[1,"text-center"],[1,"badge","bg-success"],[1,"badge","bg-secondary"]],template:function(e,t){1&e&&(l._UZ(0,"app-navbarconvertidor"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),l._uU(7,"Ingrese cantidad"),l.qZA(),l.TgZ(8,"input",6),l.NdJ("ngModelChange",function(i){return t.cantidad=i})("input",function(){return t.convertir()}),l.qZA()()()(),l.TgZ(9,"div",7)(10,"div",8)(11,"label",9),l._uU(12,"Tengo"),l.qZA(),l.TgZ(13,"div",10)(14,"select",11),l.NdJ("change",function(){return t.convertir()})("ngModelChange",function(i){return t.tengo=i}),l.YNc(15,_x,2,1,"option",12),l.qZA()()(),l.TgZ(16,"div",8)(17,"label",13),l._uU(18,"Quiero"),l.qZA(),l.TgZ(19,"div",10)(20,"select",14),l.NdJ("change",function(){return t.convertir()})("ngModelChange",function(i){return t.quiero=i}),l.YNc(21,lb,2,1,"option",12),l.qZA()()()(),l.TgZ(22,"h5",15)(23,"span",16),l._uU(24),l.qZA(),l.TgZ(25,"span",17),l._uU(26,"SON"),l.qZA(),l.TgZ(27,"span",16),l._uU(28),l.ALo(29,"number"),l.qZA()()()()),2&e&&(l.xp6(8),l.Q6J("ngModel",t.cantidad),l.xp6(6),l.Q6J("ngModel",t.tengo),l.xp6(1),l.Q6J("ngForOf",t.monedas),l.xp6(5),l.Q6J("ngModel",t.quiero),l.xp6(1),l.Q6J("ngForOf",t.monedas),l.xp6(3),l.AsE("",t.cantidad," ",t.tengo,""),l.xp6(4),l.AsE("",l.xi3(29,9,t.total,"0.0-2")," ",t.quiero,""))},dependencies:[pr,i_,Tg,St,fd,sf,Xi,so,xn,Ac],styles:[".badge[_ngcontent-%COMP%]{margin:10px 2px 2px;font-size:150%}.labelCantidad[_ngcontent-%COMP%]{font-size:30px}.fondo[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(bosque3.c9ee526f55967c78.jpg);height:100vh}"]});class qd{constructor(){this.dadoLeft="../../assets/dados/dice1.png",this.dadoRight="../../assets/dados/dice1.png",this.numero1=0,this.numero2=0,this.valor=!1}tirarDados(){this.valor=!1,this.numero1=1+Math.floor(6*Math.random()),this.numero2=1+Math.floor(6*Math.random()),this.dadoLeft=`../../assets/dados/dice${this.numero1}.png`,this.dadoRight=`../../assets/dados/dice${this.numero2}.png`,this.numero1===this.numero2&&(this.valor=!0)}}qd.\u0275fac=function(e){return new(e||qd)},qd.\u0275cmp=l.Xpm({type:qd,selectors:[["app-dados"]],decls:7,vars:3,consts:[[1,"jumbotron","text-center"],[1,"btn","btn-success","btn-lg",3,"click"],["alt","",3,"src"],[4,"ngIf"],[1,"badge","bg-danger"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return t.tirarDados()}),l._uU(2,"Tirar Dados"),l.qZA(),l._UZ(3,"br")(4,"img",2)(5,"img",2),l.YNc(6,kD,3,0,"h1",3),l.qZA()),2&e&&(l.xp6(4),l.Q6J("src",t.dadoLeft,l.LSH),l.xp6(1),l.Q6J("src",t.dadoRight,l.LSH),l.xp6(1),l.Q6J("ngIf",t.valor))},dependencies:[Sn],styles:["img[_ngcontent-%COMP%]{width:200px;height:200px;margin:30px;background-color:red;border-radius:10px}"]});class Gd{constructor(){this.countRadioButtonChange=new l.vpe,this.radioButtonSelecionado="todos",this.todos=0,this.femeninos=0,this.masculinos=0}radioChange(){this.countRadioButtonChange.emit(this.radioButtonSelecionado)}}function cb(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"th"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.Oqu(t.legajo),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Oqu(t.sexo),l.xp6(2),l.Oqu(l.lcZ(11,5,t.salario))}}function db(n,e){if(1&n&&(l.ynx(0),l.YNc(1,cb,12,7,"tr",7),l.BQk()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf","todos"==r.radioButtonSelecionado||r.radioButtonSelecionado==t.sexo)}}Gd.\u0275fac=function(e){return new(e||Gd)},Gd.\u0275cmp=l.Xpm({type:Gd,selectors:[["app-empleado-count"]],inputs:{todos:"todos",femeninos:"femeninos",masculinos:"masculinos"},outputs:{countRadioButtonChange:"countRadioButtonChange"},decls:14,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"form-check","form-check-inline"],["type","radio","name","sexo","id","todos","value","todos",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","todos",1,"form-check-label"],["type","radio","name","sexo","id","femenino","value","Femenino",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","femenino",1,"form-check-label"],["type","radio","name","sexo","id","masculino","value","Masculino",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","masculino",1,"form-check-label"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),l.NdJ("change",function(){return t.radioChange()})("ngModelChange",function(i){return t.radioButtonSelecionado=i}),l.qZA(),l.TgZ(4,"label",4),l._uU(5),l.qZA()(),l.TgZ(6,"div",2)(7,"input",5),l.NdJ("change",function(){return t.radioChange()})("ngModelChange",function(i){return t.radioButtonSelecionado=i}),l.qZA(),l.TgZ(8,"label",6),l._uU(9),l.qZA()(),l.TgZ(10,"div",2)(11,"input",7),l.NdJ("change",function(){return t.radioChange()})("ngModelChange",function(i){return t.radioButtonSelecionado=i}),l.qZA(),l.TgZ(12,"label",8),l._uU(13),l.qZA()()()()),2&e&&(l.xp6(3),l.Q6J("ngModel",t.radioButtonSelecionado),l.xp6(2),l.hij("Todos (",t.todos,")"),l.xp6(2),l.Q6J("ngModel",t.radioButtonSelecionado),l.xp6(2),l.hij("Femenino(",t.femeninos,")"),l.xp6(2),l.Q6J("ngModel",t.radioButtonSelecionado),l.xp6(2),l.hij("Masculino(",t.masculinos,")"))},dependencies:[St,bg,Xi,so],styles:["input[type=radio][_ngcontent-%COMP%]{width:25px;height:25px}label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}"]});class jf{constructor(){this.listEmpleados=[{legajo:1,nombre:"Carlos",apellido:"Mey",sexo:"Masculino",salario:25e3},{legajo:2,nombre:"Freddy",apellido:"Morales",sexo:"Masculino",salario:2500},{legajo:3,nombre:"Mayssa",apellido:"Oviedo",sexo:"Femenino",salario:35e3},{legajo:4,nombre:"Gregorio",apellido:"Miranda",sexo:"Masculino",salario:15e3},{legajo:5,nombre:"Mayra",apellido:"Luna",sexo:"Femenino",salario:2e4}],this.radioButtonSelecionado="todos"}obtenerEmpleados(){return this.listEmpleados.length}obtenerFemeninos(){return this.listEmpleados.filter(e=>"Femenino"===e.sexo).length}obtenerMasculinos(){return this.listEmpleados.filter(e=>"Masculino"===e.sexo).length}empleadoCountRadioButtonChange(e){this.radioButtonSelecionado=e}}jf.\u0275fac=function(e){return new(e||jf)},jf.\u0275cmp=l.Xpm({type:jf,selectors:[["app-empleado-list"]],decls:20,vars:4,consts:[[1,"fondo"],[1,"container"],[3,"todos","femeninos","masculinos","countRadioButtonChange"],[1,"card","mt-3"],[1,"card-body"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"app-empleado-count",2),l.NdJ("countRadioButtonChange",function(i){return t.empleadoCountRadioButtonChange(i)}),l.qZA(),l.TgZ(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead")(7,"tr")(8,"th"),l._uU(9,"Legado"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Nombre"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Apellido"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Sexo"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Salario"),l.qZA()()(),l.TgZ(18,"tbody"),l.YNc(19,db,2,1,"ng-container",6),l.qZA()()()()()()),2&e&&(l.xp6(2),l.Q6J("todos",t.obtenerEmpleados())("femeninos",t.obtenerFemeninos())("masculinos",t.obtenerMasculinos()),l.xp6(17),l.Q6J("ngForOf",t.listEmpleados))},dependencies:[pr,Sn,Gd,Eo],styles:[".fondo[_ngcontent-%COMP%]{background:#0f0c29;background:linear-gradient(to right,#24243e,#302b63,#0f0c29);height:100vh}"]});class $f{}$f.\u0275fac=function(e){return new(e||$f)},$f.\u0275cmp=l.Xpm({type:$f,selectors:[["app-inicio-proyecto"]],decls:115,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"navbar-brand","mx-auto"],[1,"container"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[1,"card"],[1,"card-body"],[1,"card-title"],["routerLink","/citas",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/clima",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/convertidor",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/dados",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/list-empleados",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/noticias",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/piano",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/pixabay",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/presupuesto",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/tareas",1,"btn","btn-primary","btn-lg","btn-color"],["routerLink","/credit-card",1,"btn","btn-primary","btn-lg","btn-color"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"span",1),l._uU(2,"MENU DEL PROYECTO"),l.qZA()(),l.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),l._uU(8,"Citas Medicas"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Descripcion:"),l.qZA(),l.TgZ(11,"p"),l._uU(12,"Este proyecto sirve para crear citas medicas en las que la persona puede adjuntar su nombre, fecha, hora y sintomas que tiene."),l.qZA(),l.TgZ(13,"button",7),l._uU(14,"VER PROYECTO"),l.qZA()()(),l.TgZ(15,"div",4)(16,"div",5)(17,"h5",6),l._uU(18,"Clima de Ciudades"),l.qZA(),l.TgZ(19,"span"),l._uU(20,"Descripcion:"),l.qZA(),l.TgZ(21,"p"),l._uU(22,"Este proyecto sirve para buscar el clima de cualquiera ciudad del mundo."),l.qZA(),l.TgZ(23,"button",8),l._uU(24,"VER PROYECTO"),l.qZA()()(),l.TgZ(25,"div",4)(26,"div",5)(27,"h5",6),l._uU(28,"Convertidor de Monedas"),l.qZA(),l.TgZ(29,"span"),l._uU(30,"Descripcion:"),l.qZA(),l.TgZ(31,"p"),l._uU(32,"Este proyecto sirve para hacer cambio entre monedas de USD, EUR y Libras."),l.qZA(),l.TgZ(33,"button",9),l._uU(34,"VER PROYECTO"),l.qZA()()(),l.TgZ(35,"div",4)(36,"div",5)(37,"h5",6),l._uU(38,"Juego de Dados"),l.qZA(),l.TgZ(39,"span"),l._uU(40,"Descripcion:"),l.qZA(),l.TgZ(41,"p"),l._uU(42,"Este proyecto es un juego de dados."),l.qZA(),l.TgZ(43,"button",10),l._uU(44,"VER PROYECTO"),l.qZA()()(),l.TgZ(45,"div",4)(46,"div",5)(47,"h5",6),l._uU(48,"Lista de Empleados"),l.qZA(),l.TgZ(49,"span"),l._uU(50,"Descripcion:"),l.qZA(),l.TgZ(51,"p"),l._uU(52,"Este proyecto lista los empleados de una empresa y los filtra por sexo."),l.qZA(),l.TgZ(53,"button",11),l._uU(54,"VER PROYECTO"),l.qZA()()(),l.TgZ(55,"div",4)(56,"div",5)(57,"h5",6),l._uU(58,"Noticias Mundiales"),l.qZA(),l.TgZ(59,"span"),l._uU(60,"Descripcion:"),l.qZA(),l.TgZ(61,"p"),l._uU(62,"Este proyecto sirve para buscar noticias segun la categoria y el pais que desees."),l.qZA(),l.TgZ(63,"button",12),l._uU(64,"VER PROYECTO"),l.qZA()()(),l.TgZ(65,"div",4)(66,"div",5)(67,"h5",6),l._uU(68,"Piano"),l.qZA(),l.TgZ(69,"span"),l._uU(70,"Descripcion:"),l.qZA(),l.TgZ(71,"p"),l._uU(72,"Este proyecto es un piano con musica, procura tener audifonos puestos para escuchar del piano."),l.qZA(),l.TgZ(73,"button",13),l._uU(74,"VER PROYECTO"),l.qZA()()(),l.TgZ(75,"div",4)(76,"div",5)(77,"h5",6),l._uU(78,"Pixabay"),l.qZA(),l.TgZ(79,"span"),l._uU(80,"Descripcion:"),l.qZA(),l.TgZ(81,"p"),l._uU(82,"Este proyecto sirve para buscar imagenes de tu preferencia."),l.qZA(),l.TgZ(83,"button",14),l._uU(84,"VER PROYECTO"),l.qZA()()(),l.TgZ(85,"div",4)(86,"div",5)(87,"h5",6),l._uU(88,"presupuesto"),l.qZA(),l.TgZ(89,"span"),l._uU(90,"Descripcion:"),l.qZA(),l.TgZ(91,"p"),l._uU(92,"Este proyecto sirve para sacar presupuesto de las compras que desees realizar y los gatos que tengas que hacer."),l.qZA(),l.TgZ(93,"button",15),l._uU(94,"VER PROYECTO"),l.qZA()()(),l.TgZ(95,"div",4)(96,"div",5)(97,"h5",6),l._uU(98,"tareas"),l.qZA(),l.TgZ(99,"span"),l._uU(100,"Descripcion:"),l.qZA(),l.TgZ(101,"p"),l._uU(102,"Este proyecto sirve para hacer un listado de tareas sobre las cosas que tengas que hacer y hacer un check si ya estan realizadas o no."),l.qZA(),l.TgZ(103,"button",16),l._uU(104,"VER PROYECTO"),l.qZA()()(),l.TgZ(105,"div",4)(106,"div",5)(107,"h5",6),l._uU(108,"credit card"),l.qZA(),l.TgZ(109,"span"),l._uU(110,"Descripcion:"),l.qZA(),l.TgZ(111,"p"),l._uU(112,"Este proyecto sirve para crear tu propiea tarjeta de credito y eliminar o editarla."),l.qZA(),l.TgZ(113,"button",17),l._uU(114,"VER PROYECTO"),l.qZA()()()()())},dependencies:[nm]});class zd{constructor(e){this.http=e}getNoticias(e){return this.http.get("https://newsapi.org/v2/top-headlines?country="+e.pais+"&category="+e.categoria+"&apiKey=dc6368da7d3d4ddc97701619e6f0dae3")}}function Hf(n,e){if(1&n&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.nombre)}}function FD(n,e){if(1&n&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.nombre)}}zd.\u0275fac=function(e){return new(e||zd)(l.LFG(Uf))},zd.\u0275prov=l.Yz7({token:zd,factory:zd.\u0275fac,providedIn:"root"});class qf{constructor(){this.parametrosSeleccionados=new l.vpe,this.categoriaSeleccionada="general",this.paisSeleccionado="pe",this.categorias=[{value:"general",nombre:"General"},{value:"business",nombre:"Negocios"},{value:"entertainment",nombre:"Entretenimiento"},{value:"health",nombre:"Salud"},{value:"science",nombre:"Ciencia"},{value:"sports",nombre:"Deeportes"},{value:"technology",nombre:"Tecnologia"}],this.paises=[{value:"ve",nombre:"Venezuela"},{value:"fr",nombre:"Francia"},{value:"ar",nombre:"Argentina"},{value:"br",nombre:"Brasil"},{value:"mx",nombre:"Mexico"},{value:"co",nombre:"Colombia"}]}buscarNoticia(){this.parametrosSeleccionados.emit({categoria:this.categoriaSeleccionada,pais:this.paisSeleccionado})}}function LD(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"div",3),l._UZ(2,"img",4),l.TgZ(3,"div",5)(4,"span",6),l._uU(5),l.qZA(),l.TgZ(6,"h5",7),l._uU(7),l.qZA(),l.TgZ(8,"p",8),l._uU(9),l.qZA(),l.TgZ(10,"a",9),l._uU(11,"Ver Noticia"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("src",t.urlToImage,l.LSH),l.xp6(3),l.Oqu(t.source.name),l.xp6(2),l.Oqu(t.title),l.xp6(2),l.Oqu(t.descripcion),l.xp6(1),l.Q6J("href",t.url,l.LSH)}}qf.\u0275fac=function(e){return new(e||qf)},qf.\u0275cmp=l.Xpm({type:qf,selectors:[["app-formulario"]],outputs:{parametrosSeleccionados:"parametrosSeleccionados"},decls:14,vars:4,consts:[[1,"jumbotron","mt-5"],[1,"heading"],[1,"row","mt-3"],[1,"col-lg-8","offset-lg-2"],[3,"ngSubmit"],[1,"form-group"],["name","categoria",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","pais",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block","btn-lg"],[3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Filtra Noticias por pais y categoria"),l.qZA(),l.TgZ(3,"div",2)(4,"div",3)(5,"form",4),l.NdJ("ngSubmit",function(){return t.buscarNoticia()}),l.TgZ(6,"div",5)(7,"select",6),l.NdJ("ngModelChange",function(i){return t.categoriaSeleccionada=i}),l.YNc(8,Hf,2,2,"option",7),l.qZA()(),l.TgZ(9,"div",5)(10,"select",8),l.NdJ("ngModelChange",function(i){return t.paisSeleccionado=i}),l.YNc(11,FD,2,2,"option",7),l.qZA()(),l.TgZ(12,"button",9),l._uU(13,"Buscar"),l.qZA()()()()()),2&e&&(l.xp6(7),l.Q6J("ngModel",t.categoriaSeleccionada),l.xp6(1),l.Q6J("ngForOf",t.categorias),l.xp6(2),l.Q6J("ngModel",t.paisSeleccionado),l.xp6(1),l.Q6J("ngForOf",t.paises))},dependencies:[pr,hd,i_,Tg,sf,Xi,Al,so,Nl],styles:[".heading[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:900;font-size:2rem;text-transform:uppercase;text-align:center}.btn[_ngcontent-%COMP%]{font-size:1.5rem}.jumbotron[_ngcontent-%COMP%]{background-color:#5c5c5cc3}"]});class Mu{}Mu.\u0275fac=function(e){return new(e||Mu)},Mu.\u0275cmp=l.Xpm({type:Mu,selectors:[["app-listado-noticias"]],inputs:{listadoNoticias:"listadoNoticias"},decls:2,vars:1,consts:[[1,"row","row-cols-1","row-cols-md-2","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body"],[1,"badge","bg-primary","mb-1"],[1,"card-title"],[1,"card-text"],["target","_blank",1,"btn","btn-primary","btn-block",3,"href"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,LD,12,5,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.listadoNoticias))},dependencies:[pr]});class Zd{constructor(){this.titulo=""}}Zd.\u0275fac=function(e){return new(e||Zd)},Zd.\u0275cmp=l.Xpm({type:Zd,selectors:[["app-navbar-noticias"]],inputs:{titulo:"titulo"},decls:3,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"navbar-brand"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"span",1),l._uU(2),l.qZA()()),2&e&&(l.xp6(2),l.Oqu(t.titulo))}});class Wd{}function hb(n,e){1&n&&l._UZ(0,"app-spinner-noticias")}Wd.\u0275fac=function(e){return new(e||Wd)},Wd.\u0275cmp=l.Xpm({type:Wd,selectors:[["app-spinner-noticias"]],decls:6,vars:0,consts:[[1,"d-flex","justify-content-center"],[1,"sk-folding-cube"],[1,"sk-cube1","sk-cube"],[1,"sk-cube2","sk-cube"],[1,"sk-cube4","sk-cube"],[1,"sk-cube3","sk-cube"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l.qZA()())},styles:['.sk-folding-cube[_ngcontent-%COMP%]{margin:20px auto;width:40px;height:40px;position:relative;transform:rotate(45deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#333;animation:_ngcontent-%COMP%_sk-foldCubeAngle 2.4s infinite linear both;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]:before{animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]:before{animation-delay:.6s}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]:before{animation-delay:.9s}@keyframes _ngcontent-%COMP%_sk-foldCubeAngle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}']});class Gf{constructor(e){this._noticiaService=e,this.listNoticias=[],this.loading=!1,this.key="dc6368da7d3d4ddc97701619e6f0dae3"}buscarNoticias(e){this.loading=!0,this.listNoticias=[],console.log("padre"),console.log(e),setTimeout(()=>{this._noticiaService.getNoticias(e).subscribe(t=>{this.loading=!1,console.log(t),this.listNoticias=t.articles},t=>{console.log(t),this.loading=!1})},1600)}}Gf.\u0275fac=function(e){return new(e||Gf)(l.Y36(zd))},Gf.\u0275cmp=l.Xpm({type:Gf,selectors:[["app-noticias"]],decls:5,vars:3,consts:[[3,"titulo"],[1,"container"],[3,"parametrosSeleccionados"],[4,"ngIf"],[3,"listadoNoticias"]],template:function(e,t){1&e&&(l._UZ(0,"app-navbar-noticias",0),l.TgZ(1,"div",1)(2,"app-formulario",2),l.NdJ("parametrosSeleccionados",function(i){return t.buscarNoticias(i)}),l.qZA(),l.YNc(3,hb,1,0,"app-spinner-noticias",3),l._UZ(4,"app-listado-noticias",4),l.qZA()),2&e&&(l.Q6J("titulo","Buscador de Noticias"),l.xp6(3),l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("listadoNoticias",t.listNoticias))},dependencies:[Sn,qf,Mu,Zd,Wd]});class Ua{constructor(){this.title="Piano"}aplicarSonido(e){const t=new Audio;t.src=`../../../assets/sonidos/note${e}.wav`,t.load(),t.play()}}Ua.\u0275fac=function(e){return new(e||Ua)},Ua.\u0275cmp=l.Xpm({type:Ua,selectors:[["app-piano"]],decls:18,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action",2,"background-color","red",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","orange",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","yellow",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","green",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","skyblue",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","blue",3,"click"],[1,"list-group-item","list-group-item-action",2,"background-color","violet",3,"click"],["controls",""],["src","../../../assets/sonidos/note1.wav","type","audio/ogg"],["src","../../../assets/sonidos/note2.wav","type","audio/ogg"],["src","../../../assets/sonidos/note3.wav","type","audio/ogg"],["src","../../../assets/sonidos/note4.wav","type","audio/ogg"],["src","../../../assets/sonidos/note5.wav","type","audio/ogg"],["src","../../../assets/sonidos/note6.wav","type","audio/ogg"],["src","../../../assets/sonidos/note7.wav","type","audio/ogg"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),l.NdJ("click",function(){return t.aplicarSonido(1)}),l.qZA(),l.TgZ(4,"a",4),l.NdJ("click",function(){return t.aplicarSonido(2)}),l.qZA(),l.TgZ(5,"a",5),l.NdJ("click",function(){return t.aplicarSonido(3)}),l.qZA(),l.TgZ(6,"a",6),l.NdJ("click",function(){return t.aplicarSonido(4)}),l.qZA(),l.TgZ(7,"a",7),l.NdJ("click",function(){return t.aplicarSonido(5)}),l.qZA(),l.TgZ(8,"a",8),l.NdJ("click",function(){return t.aplicarSonido(6)}),l.qZA(),l.TgZ(9,"a",9),l.NdJ("click",function(){return t.aplicarSonido(7)}),l.qZA()()()(),l.TgZ(10,"audio",10),l._UZ(11,"source",11)(12,"source",12)(13,"source",13)(14,"source",14)(15,"source",15)(16,"source",16)(17,"source",17),l.qZA())},styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;height:50px}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.list-group-item[_ngcontent-%COMP%]:active{opacity:.7}"]});class Us{constructor(e){this.http=e,this.error$=new Ur.x,this.terminoBusqueda$=new Ur.x}setError(e){this.error$.next(e)}getError(){return this.error$.asObservable()}enviarTerminoBusqueda(e){this.terminoBusqueda$.next(e)}getTerminoBusqueda(){return this.terminoBusqueda$.asObservable()}getImagenes(e,t,r){return this.http.get("https://pixabay.com/api/?key=33109684-0bbeeba2ff04ac750ec0fff36&q="+e+"&per_page"+t+"&page="+r)}}Us.\u0275fac=function(e){return new(e||Us)(l.LFG(Uf))},Us.\u0275prov=l.Yz7({token:Us,factory:Us.\u0275fac,providedIn:"root"});class zf{constructor(e){this._imagenService=e,this.nombreImagen=""}buscarImagenes(){""!==this.nombreImagen?this._imagenService.enviarTerminoBusqueda(this.nombreImagen):this._imagenService.setError("Agrega un texto de busqueda")}}zf.\u0275fac=function(e){return new(e||zf)(l.Y36(Us))},zf.\u0275cmp=l.Xpm({type:zf,selectors:[["app-buscar-imagen"]],decls:8,vars:1,consts:[[1,"jumbotron"],[3,"ngSubmit"],[1,"row"],[1,"col-lg-8"],["name","img","type","text","placeholder","Busca una imagen",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-4"],["type","submit",1,"buttton","btn","btn-primary","btn-lg","btn-block"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return t.buscarImagenes()}),l.TgZ(2,"div",2)(3,"div",3)(4,"input",4),l.NdJ("ngModelChange",function(i){return t.nombreImagen=i}),l.qZA()(),l.TgZ(5,"div",5)(6,"button",6),l._uU(7,"Buscar"),l.qZA()()()()()),2&e&&(l.xp6(4),l.Q6J("ngModel",t.nombreImagen))},dependencies:[hd,St,Xi,Al,so,Nl],styles:[".jumbotron[_ngcontent-%COMP%]{background-color:#5c5c5cc3}"]});class Zf{}function VD(n,e){1&n&&l._UZ(0,"app-spinner-pixabay")}function fb(n,e){if(1&n&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.TgZ(3,"div",8)(4,"a",9),l._uU(5,"VER IMAGEN"),l.qZA()(),l.TgZ(6,"div",10)(7,"div",11)(8,"div",5)(9,"p",12),l._uU(10,"Likes"),l.qZA(),l.TgZ(11,"span",13),l._uU(12),l.qZA()(),l.TgZ(13,"div",5)(14,"p",12),l._uU(15,"Views"),l.qZA(),l.TgZ(16,"span",13),l._uU(17),l.qZA()()()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("src",t.previewURL,l.LSH),l.xp6(2),l.Q6J("href",t.largeImageURL,l.LSH),l.xp6(8),l.Oqu(t.likes),l.xp6(5),l.Oqu(t.views)}}function pb(n,e){if(1&n&&(l.TgZ(0,"div",3),l.YNc(1,fb,18,4,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.listImagenes)}}function gb(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.paginaAnterior())}),l._uU(2,"\xabAnterior"),l.qZA()()}}function UD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.paginaPosterior())}),l._uU(2,"Siguiente\xbb"),l.qZA()()}}function mb(n,e){if(1&n&&(l.TgZ(0,"div",14)(1,"ul",15),l.YNc(2,gb,3,0,"li",16),l.YNc(3,UD,3,0,"li",16),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",t.paginaAnteriorClass()),l.xp6(1),l.Q6J("ngIf",t.paginaPosteriorClass())}}Zf.\u0275fac=function(e){return new(e||Zf)},Zf.\u0275cmp=l.Xpm({type:Zf,selectors:[["app-spinner-pixabay"]],decls:10,vars:0,consts:[[1,"sk-cube-grid"],[1,"sk-cube","sk-cube1"],[1,"sk-cube","sk-cube2"],[1,"sk-cube","sk-cube3"],[1,"sk-cube","sk-cube4"],[1,"sk-cube","sk-cube5"],[1,"sk-cube","sk-cube6"],[1,"sk-cube","sk-cube7"],[1,"sk-cube","sk-cube8"],[1,"sk-cube","sk-cube9"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),l.qZA())},styles:[".sk-cube-grid[_ngcontent-%COMP%]{width:40px;height:40px;margin:100px auto}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{width:33%;height:33%;background-color:#333;float:left;animation:_ngcontent-%COMP%_sk-cubeGridScaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%]{animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%]{animation-delay:.2s}@keyframes _ngcontent-%COMP%_sk-cubeGridScaleDelay{0%,70%,to{transform:scaleZ(1)}35%{transform:scale3D(0,0,1)}}"]});class Wf{constructor(e){this._imagenService=e,this.termino="",this.listImagenes=[],this.loading=!1,this.imagenesPorPagina=28,this.paginaActual=1,this.calcularTotalPaginas=0,this.suscription=this._imagenService.getTerminoBusqueda().subscribe(t=>{this.termino=t,this.paginaActual=1,this.loading=!0,this.obtenerImagenes()})}obtenerImagenes(){this._imagenService.getImagenes(this.termino,this.imagenesPorPagina,this.paginaActual).subscribe(e=>{this.loading=!1,0!==e.hits.length?(this.calcularTotalPaginas=Math.ceil(e.totalHits/this.imagenesPorPagina),this.listImagenes=e.hits):this._imagenService.setError("Opss... no se encontro ningun resultado")},e=>{this._imagenService.setError("Ops... Ocurrio un error"),this.loading=!1})}paginaAnterior(){this.paginaActual--,this.loading=!0,this.listImagenes=[],this.obtenerImagenes()}paginaPosterior(){this.paginaActual++,this.loading=!0,this.listImagenes=[],this.obtenerImagenes()}paginaAnteriorClass(){return 1!==this.paginaActual}paginaPosteriorClass(){return this.paginaActual!==this.calcularTotalPaginas}}Wf.\u0275fac=function(e){return new(e||Wf)(l.Y36(Us))},Wf.\u0275cmp=l.Xpm({type:Wf,selectors:[["app-listar-imagen"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","row row-cols-1 row-cols-md-4 g-4",4,"ngIf"],["class","d-flex justify-content-center mt-2",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body","text-center"],["target","_blank",1,"btn","btn-primary",3,"href"],[1,"card-footer","text-muted","text-center"],[1,"row"],[1,"likesViews"],[1,"badge","bg-light"],[1,"d-flex","justify-content-center","mt-2"],[1,"pagination","pagination-lg"],["class","page-item",4,"ngIf"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(l.YNc(0,VD,1,0,"app-spinner-pixabay",0),l.YNc(1,pb,2,1,"div",1),l.YNc(2,mb,4,2,"div",2)),2&e&&(l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("ngIf",!t.loading),l.xp6(1),l.Q6J("ngIf",t.listImagenes.length>0))},dependencies:[pr,Sn,Zf],styles:[".likesViews[_ngcontent-%COMP%]{font-weight:700;margin-bottom:-3px}a[_ngcontent-%COMP%]{cursor:pointer}"]});class Kf{constructor(){this.titulo=""}}function vx(n,e){if(1&n&&(l.TgZ(0,"div",1)(1,"strong"),l._uU(2),l.ALo(3,"uppercase"),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,1,t.texto))}}Kf.\u0275fac=function(e){return new(e||Kf)},Kf.\u0275cmp=l.Xpm({type:Kf,selectors:[["app-navbar-imagen"]],inputs:{titulo:"titulo"},decls:3,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"navbar-brand","mx-auto"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"span",1),l._uU(2),l.qZA()()),2&e&&(l.xp6(2),l.Oqu(t.titulo))}});class lm{constructor(e){this._imagenService=e,this.texto="",this.mostrar=!1,this.suscripcion=this._imagenService.getError().subscribe(t=>{this.mostrarMensaje(),this.texto=t})}ngOnDestroy(){this.suscripcion.unsubscribe()}mostrarMensaje(){this.mostrar=!0,setTimeout(()=>{this.mostrar=!1},2e3)}}lm.\u0275fac=function(e){return new(e||lm)(l.Y36(Us))},lm.\u0275cmp=l.Xpm({type:lm,selectors:[["app-error"]],decls:1,vars:1,consts:[["class","alert alert-dismissible alert-danger",4,"ngIf"],[1,"alert","alert-dismissible","alert-danger"]],template:function(e,t){1&e&&l.YNc(0,vx,4,3,"div",0),2&e&&l.Q6J("ngIf",t.mostrar)},dependencies:[Sn,Ar],styles:[".alert[_ngcontent-%COMP%]{text-align:center}"]});class cm{}cm.\u0275fac=function(e){return new(e||cm)},cm.\u0275cmp=l.Xpm({type:cm,selectors:[["app-pixabay"]],decls:5,vars:1,consts:[[3,"titulo"],[1,"container","mt-3"]],template:function(e,t){1&e&&(l._UZ(0,"app-navbar-imagen",0)(1,"app-error"),l.TgZ(2,"div",1),l._UZ(3,"app-buscar-imagen")(4,"app-listar-imagen"),l.qZA()),2&e&&l.Q6J("titulo","BUSCADOR DE IMAGENES - PIXABAY")},dependencies:[zf,Wf,Kf,lm]});class xu{constructor(){this.gastos$=new Ur.x,this.presupuesto=0,this.restante=0}agregarGasto(e){this.restante=this.restante-e.cantidad,this.gastos$.next(e)}getGastos(){return this.gastos$.asObservable()}}function yb(n,e){if(1&n&&(l.TgZ(0,"div",0)(1,"span",8),l._uU(2),l.ALo(3,"uppercase"),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,1,t.textIncorrecto))}}xu.\u0275fac=function(e){return new(e||xu)},xu.\u0275prov=l.Yz7({token:xu,factory:xu.\u0275fac,providedIn:"root"});class Nu{constructor(e){this._presupuestoService=e,this.nombreGasto="",this.cantidad=0,this.formularioIncorrecto=!1,this.textIncorrecto=""}agregarGasto(){if(this.cantidad>this._presupuestoService.restante)return this.formularioIncorrecto=!0,void(this.textIncorrecto="Cantidad ingresada es mayor al restante");""===this.nombreGasto||this.cantidad<=0?this.formularioIncorrecto=!0:(this._presupuestoService.agregarGasto({nombre:this.nombreGasto,cantidad:this.cantidad}),this.formularioIncorrecto=!1,this.nombreGasto="",this.cantidad=0)}}function BD(n,e){if(1&n&&(l.TgZ(0,"li",9)(1,"strong"),l._uU(2),l.qZA(),l.TgZ(3,"span",10),l._uU(4),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.hij("$",t.cantidad,"")}}Nu.\u0275fac=function(e){return new(e||Nu)(l.Y36(xu))},Nu.\u0275cmp=l.Xpm({type:Nu,selectors:[["app-ingresar-gasto"]],decls:14,vars:3,consts:[[1,"text-center"],["class","text-center",4,"ngIf"],[1,"form-group","mb-4"],["for","gasto"],["type","text","id","gasto","placeholder","Ej: Comida...",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","cantidad"],["type","number","id","cantidad","placeholder","Ingrese cantidad",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],[1,"badge","bg-danger","textError"]],template:function(e,t){1&e&&(l.TgZ(0,"h4",0),l._uU(1,"Ingresar Gasto"),l.qZA(),l._UZ(2,"hr"),l.YNc(3,yb,4,3,"div",1),l.TgZ(4,"div",2)(5,"label",3),l._uU(6,"Gasto"),l.qZA(),l.TgZ(7,"input",4),l.NdJ("ngModelChange",function(i){return t.nombreGasto=i}),l.qZA()(),l.TgZ(8,"div",2)(9,"label",5),l._uU(10,"Cantidad"),l.qZA(),l.TgZ(11,"input",6),l.NdJ("ngModelChange",function(i){return t.cantidad=i}),l.qZA()(),l.TgZ(12,"button",7),l.NdJ("click",function(){return t.agregarGasto()}),l._uU(13,"AGREGAR GASTO"),l.qZA()),2&e&&(l.xp6(3),l.Q6J("ngIf",t.formularioIncorrecto),l.xp6(4),l.Q6J("ngModel",t.nombreGasto),l.xp6(4),l.Q6J("ngModel",t.cantidad))},dependencies:[Sn,St,fd,Xi,so,Ar],styles:["button[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem}.textError[_ngcontent-%COMP%]{font-size:1rem}"]});class Yf{constructor(e){this._presupuestoService=e,this.listGastos=[],this.presupuesto=0,this.restante=0,this.subscription=this._presupuestoService.getGastos().subscribe(t=>{this.restante=this.restante-t.cantidad,this.listGastos.push(t)})}ngOnInit(){this.presupuesto=this._presupuestoService.presupuesto,this.restante=this._presupuestoService.restante}ngOnDestroy(){this.subscription.unsubscribe()}aplicarColorRestante(){return this.presupuesto/4>this.restante?"alert alert-danger":this.presupuesto/2>this.restante?"alert alert-warning":"alert alert-secondary"}}Yf.\u0275fac=function(e){return new(e||Yf)(l.Y36(xu))},Yf.\u0275cmp=l.Xpm({type:Yf,selectors:[["app-listar-gasto"]],decls:18,vars:4,consts:[[1,"text-center"],[1,"row","mt-5"],[1,"col-lg-6"],[1,"alert","alert-success","sizeAlert"],[1,"sizeAlert",3,"ngClass"],[1,"row"],[1,"col-lg-12"],[1,"list-group","list-group-flush"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"badge","rounded-pill","bg-secondary"]],template:function(e,t){1&e&&(l.TgZ(0,"h4",0),l._uU(1,"Listado de Gastos"),l.qZA(),l._UZ(2,"hr"),l.TgZ(3,"div",1)(4,"div",2)(5,"div",3),l._uU(6," Presupuesto: "),l.TgZ(7,"strong"),l._uU(8),l.qZA()()(),l.TgZ(9,"div",2)(10,"div",4),l._uU(11," Restante: "),l.TgZ(12,"strong"),l._uU(13),l.qZA()()()(),l.TgZ(14,"div",5)(15,"div",6)(16,"ul",7),l.YNc(17,BD,5,2,"li",8),l.qZA()()()),2&e&&(l.xp6(8),l.hij("$",t.presupuesto,""),l.xp6(2),l.Q6J("ngClass",t.aplicarColorRestante()),l.xp6(3),l.hij("$",t.restante,""),l.xp6(4),l.Q6J("ngForOf",t.listGastos))},dependencies:[kt,pr],styles:[".sizeAlert[_ngcontent-%COMP%], .badge[_ngcontent-%COMP%]{font-size:1.2rem}"]});class Kd{constructor(e,t){this._presupuestoService=e,this.router=t,this.presupuesto=0}ngOnInit(){0===this._presupuestoService.presupuesto&&this.router.navigate(["/ingresarPresupuesto"])}}function Qf(n,e){1&n&&(l.TgZ(0,"div",9)(1,"span",10),l._uU(2,"EL PRESUPUESTO DEBE SER MAYOR A 0"),l.qZA()())}Kd.\u0275fac=function(e){return new(e||Kd)(l.Y36(xu),l.Y36(wi))},Kd.\u0275cmp=l.Xpm({type:Kd,selectors:[["app-gastos"]],decls:11,vars:0,consts:[[1,"fondo"],[1,"container"],[1,"text-center","font-Title"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-lg-6"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),l._uU(3,"Gastos"),l.qZA(),l.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"app-ingresar-gasto"),l.qZA(),l.TgZ(9,"div",6),l._UZ(10,"app-listar-gasto"),l.qZA()()()()()())},dependencies:[Nu,Yf],styles:[".font-Title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#fff;text-transform:uppercase}.fondo[_ngcontent-%COMP%]{background:#2C3E50;background:linear-gradient(to right,#FD746C,#2C3E50)}"]});class Jf{constructor(e,t){this._presupuestoService=e,this.router=t,this.cantidad=0,this.cantidadIncorrect=!1}agregar(){this.cantidad>0?(this.cantidadIncorrect=!1,this._presupuestoService.presupuesto=this.cantidad,this._presupuestoService.restante=this.cantidad,this.router.navigate(["/gastos"])):this.cantidadIncorrect=!0}}Jf.\u0275fac=function(e){return new(e||Jf)(l.Y36(xu),l.Y36(wi))},Jf.\u0275cmp=l.Xpm({type:Jf,selectors:[["app-ingresar-presupuesto"]],decls:11,vars:2,consts:[[1,"fondo"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"text-center","font-Title"],[1,"card"],[1,"card-body"],["class","text-center mb-3",4,"ngIf"],["type","number","placeholder","Ingrese su presupuesto",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-secondary","btn-lg","btn-block","mt-2",3,"click"],[1,"text-center","mb-3"],[1,"badge","bg-danger","textError"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l._uU(4,"Ingrese Presupuesto"),l.qZA(),l.TgZ(5,"div",4)(6,"div",5),l.YNc(7,Qf,3,0,"div",6),l.TgZ(8,"input",7),l.NdJ("ngModelChange",function(i){return t.cantidad=i}),l.qZA(),l.TgZ(9,"button",8),l.NdJ("click",function(){return t.agregar()}),l._uU(10,"ACEPTAR"),l.qZA()()()()()()),2&e&&(l.xp6(7),l.Q6J("ngIf",t.cantidadIncorrect),l.xp6(1),l.Q6J("ngModel",t.cantidad))},dependencies:[Sn,St,fd,Xi,so],styles:["input[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}.font-Title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#fff;text-transform:uppercase}.textError[_ngcontent-%COMP%]{font-size:1rem}.fondo[_ngcontent-%COMP%]{background:#2C3E50;background:linear-gradient(to right,#FD746C,#2C3E50);height:100vh}"]});class Xf{}function jD(n,e){1&n&&(l.TgZ(0,"div",8)(1,"span",9),l._uU(2,"No hay tareas"),l.qZA()())}function $D(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",10)(1,"span",11),l.NdJ("click",function(){const i=l.CHM(t),u=i.$implicit,d=i.index,f=l.oxw();return l.KtG(f.actualizarTarea(u,d))}),l._UZ(2,"i",12),l.qZA(),l._uU(3),l.TgZ(4,"span",13),l.NdJ("click",function(){const u=l.CHM(t).index,d=l.oxw();return l.KtG(d.eliminarTarea(u))}),l._UZ(5,"i",14),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.ekj("text-success",t.estado),l.Q6J("ngClass",t.estado?"fa-solid fa-circle-check":"fa-regular fa-circle"),l.xp6(1),l.hij(" ",t.nombre," ")}}Xf.\u0275fac=function(e){return new(e||Xf)},Xf.\u0275cmp=l.Xpm({type:Xf,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1","mx-auto"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),l._uU(3,"Navbar"),l.qZA()()())}});class dm{constructor(){this.listTareas=[],this.nombreTarea=""}ngOnInit(){const e=localStorage.getItem("tareas");null!==e&&(this.listTareas=JSON.parse(e))}agregarTarea(){this.listTareas.push({nombre:this.nombreTarea,estado:!1}),console.log(this.listTareas),this.nombreTarea="",localStorage.setItem("tareas",JSON.stringify(this.listTareas))}eliminarTarea(e){this.listTareas.splice(e,1),localStorage.setItem("tareas",JSON.stringify(this.listTareas))}actualizarTarea(e,t){this.listTareas[t].estado=!e.estado}}dm.\u0275fac=function(e){return new(e||dm)},dm.\u0275cmp=l.Xpm({type:dm,selectors:[["app-tareas"]],decls:9,vars:3,consts:[[1,"fondo"],[1,"container"],[1,"row"],[1,"col-lg-8","offset-lg-2"],["type","text","placeholder","Ingrese tarea...",1,"form-control","form-control-lg",3,"ngModel","ngModelChange","keyup.enter"],["class","col-lg-6 offset-lg-3 d-flex justify-content-center",4,"ngIf"],[1,"list-group","mt-3"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"col-lg-6","offset-lg-3","d-flex","justify-content-center"],[1,"card","mt-3","p-2"],[1,"list-group-item","d-flex","justify-content-between"],[1,"cursor",3,"click"],[3,"ngClass"],[1,"cursor","text-danger",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),l.NdJ("ngModelChange",function(i){return t.nombreTarea=i})("keyup.enter",function(){return t.agregarTarea()}),l.qZA()(),l.YNc(6,jD,3,0,"div",5),l.TgZ(7,"ul",6),l.YNc(8,$D,6,4,"li",7),l.qZA()()()()),2&e&&(l.xp6(5),l.Q6J("ngModel",t.nombreTarea),l.xp6(1),l.Q6J("ngIf",0===t.listTareas.length),l.xp6(2),l.Q6J("ngForOf",t.listTareas))},dependencies:[kt,pr,Sn,St,Xi,so,Xf],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}.fondo[_ngcontent-%COMP%]{background-image:url(bosque3.c9ee526f55967c78.jpg);height:100vh}"]});var HD=k(4986),En=k(2122);function pv(){return(0,Er.e)((n,e)=>{let t,r=!1;n.subscribe((0,rr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function ep(n,e){return n===e}var gt,uo=k(2011),zD=(k(9568),k(3942)),Ee=k(5861),Ba=k(9681),tp=k(4859),Ru=k(1877),un=k(2090),ZD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jo={},gv=gv||{},qt=ZD||self;function hm(){}function Yd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function np(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mv="closure_uid_"+(1e9*Math.random()>>>0),WD=0;function KD(n,e,t){return n.call.apply(n.bind,arguments)}function YD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function bi(n,e,t){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KD:YD).apply(null,arguments)}function fm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function di(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Ou(){this.s=this.s,this.o=this.o}Ou.prototype.s=!1,Ou.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function _b(n){Object.prototype.hasOwnProperty.call(n,mv)&&n[mv]||(n[mv]=++WD)}(this)},Ou.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function _v(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Eb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yd(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function hi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hi.prototype.h=function(){this.defaultPrevented=!0};var QD=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",hm,e),qt.removeEventListener("test",hm,e)}catch{}return n}();function pm(n){return/^[\s\xa0]*$/.test(n)}var wb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rp(n,e){return n<e?-1:n>e?1:0}function Qd(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function lo(n){return-1!=Qd().indexOf(n)}function ip(n){return ip[" "](n),n}ip[" "]=hm;var vv,n,XD=lo("Opera"),Pu=lo("Trident")||lo("MSIE"),bb=lo("Edge"),gm=bb||Pu,nc=lo("Gecko")&&!(-1!=Qd().toLowerCase().indexOf("webkit")&&!lo("Edge"))&&!(lo("Trident")||lo("MSIE"))&&!lo("Edge"),Cb=-1!=Qd().toLowerCase().indexOf("webkit")&&!lo("Edge");function Ib(){var n=qt.document;return n?n.documentMode:void 0}e:{var mm="",sp=(n=Qd(),nc?/rv:([^\);]+)(\)|;)/.exec(n):bb?/Edge\/([\d\.]+)/.exec(n):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Cb?/WebKit\/(\S+)/.exec(n):XD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sp&&(mm=sp?sp[1]:""),Pu){var Ev=Ib();if(null!=Ev&&Ev>parseFloat(mm)){vv=String(Ev);break e}}vv=mm}var wv={};var Tb=qt.document&&Pu&&(Ib()||parseInt(vv,10))||void 0;function Jd(n,e){if(hi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nc){e:{try{ip(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Db[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jd.X.h.call(this)}}di(Jd,hi);var Db={2:"touch",3:"pen",4:"mouse"};Jd.prototype.h=function(){Jd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),tS=0;function nS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++tS,this.ba=this.ea=!1}function vm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cv(n){const e={};for(const t in n)e[t]=n[t];return e}const rS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Iv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<rS.length;u++)t=rS[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Em(n){this.src=n,this.g={},this.h=0}function Tv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=yv(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(vm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Sb(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}Em.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Sb(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new nS(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var Dv="closure_lm_"+(1e6*Math.random()|0),Sv={};function Ab(n,e,t,r,i){if(r&&r.once)return xb(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ab(n,e[u],t,r,i);return null}return t=rc(t),n&&n[Xd]?n.N(e,t,np(r)?!!r.capture:!!r,i):Mb(n,e,t,!1,r,i)}function Mb(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=np(i)?!!i.capture:!!i,f=Mv(n);if(f||(n[Dv]=f=new Em(n)),(t=f.add(e,t,r,d,u)).proxy)return t;if(r=function iS(){const e=sS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)QD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Rb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xb(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xb(n,e[u],t,r,i);return null}return t=rc(t),n&&n[Xd]?n.O(e,t,np(r)?!!r.capture:!!r,i):Mb(n,e,t,!0,r,i)}function Nb(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Nb(n,e[u],t,r,i);else r=np(r)?!!r.capture:!!r,t=rc(t),n&&n[Xd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Sb(u=n.g[e],t,r,i))&&(vm(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Mv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Sb(e,t,r,i)),(t=-1<n?e[n]:null)&&Av(t))}function Av(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Xd])Tv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Rb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Mv(e))?(Tv(t,n),0==t.h&&(t.src=null,e[Dv]=null)):vm(n)}}}function Rb(n){return n in Sv?Sv[n]:Sv[n]="on"+n}function sS(n,e){if(n.ba)n=!0;else{e=new Jd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Av(n),n=t.call(r,e)}return n}function Mv(n){return(n=n[Dv])instanceof Em?n:null}var xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function rc(n){return"function"==typeof n?n:(n[xv]||(n[xv]=function(e){return n.handleEvent(e)}),n[xv])}function Br(){Ou.call(this),this.i=new Em(this),this.P=this,this.I=null}function Kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new hi(e,n);else if(e instanceof hi)e.target=e.target||n;else{var i=e;Iv(e=new hi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=op(d,r,!0,e)&&i}if(i=op(d=e.g=n,r,!0,e)&&i,i=op(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=op(d=e.g=t[u],r,!1,e)&&i}function op(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&Tv(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}di(Br,Ou),Br.prototype[Xd]=!0,Br.prototype.removeEventListener=function(n,e,t,r){Nb(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)vm(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wm=qt.JSON.stringify;function Ob(){var n=eh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Rv,kb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ex,n=>n.reset());class Ex{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fb(n){qt.setTimeout(()=>{throw n},0)}function Nv(n,e){Rv||function oS(){var n=qt.Promise.resolve(void 0);Rv=function(){n.then(aS)}}(),Ov||(Rv(),Ov=!0),eh.add(n,e)}var Ov=!1,eh=new class Pb{constructor(){this.h=this.g=null}add(e,t){const r=kb.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function aS(){for(var n;n=Ob();){try{n.h.call(n.g)}catch(t){Fb(t)}var e=kb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ov=!1}function th(n,e){Br.call(this),this.h=n||1,this.g=e||qt,this.j=bi(this.lb,this),this.l=Date.now()}function Bs(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Pv(n,e,t){if("function"==typeof n)t&&(n=bi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bi(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function bm(n){n.g=Pv(()=>{n.g=null,n.i&&(n.i=!1,bm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}di(th,Br),(gt=th.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kr(this,"tick"),this.ca&&(Bs(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){th.X.M.call(this),Bs(this),delete this.g};class ap extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bm(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function up(n){Ou.call(this),this.h=n,this.g={}}di(up,Ou);var Lb=[];function Vb(n,e,t,r){Array.isArray(t)||(t&&(Lb[0]=t.toString()),t=Lb);for(var i=0;i<t.length;i++){var u=Ab(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function lp(n){bv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Av(e)},n),n.g={}}function ic(){this.g=!0}function sc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return wm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}up.prototype.M=function(){up.X.M.call(this),lp(this)},up.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ic.prototype.Aa=function(){this.g=!1},ic.prototype.info=function(){};var ku={},Cm=null;function nh(){return Cm=Cm||new Br}function Fv(n){hi.call(this,ku.Pa,n)}function oc(n){const e=nh();Kr(e,new Fv(e))}function Im(n,e){hi.call(this,ku.STAT_EVENT,n),this.stat=e}function Ui(n){const e=nh();Kr(e,new Im(e,n))}function Bb(n,e){hi.call(this,ku.Qa,n),this.size=e}function cp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}ku.Pa="serverreachability",di(Fv,hi),ku.STAT_EVENT="statevent",di(Im,hi),ku.Qa="timingevent",di(Bb,hi);var Tm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Lv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function dp(){}function jb(){}dp.prototype.h=null;var Sm,rh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dm(){hi.call(this,"d")}function Uv(){hi.call(this,"c")}function hp(){}function fp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new up(this),this.O=cS,this.T=new th(n=gm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bv}function Bv(){this.i=null,this.g="",this.h=!1}di(Dm,hi),di(Uv,hi),di(hp,dp),hp.prototype.g=function(){return new XMLHttpRequest},hp.prototype.i=function(){return{}},Sm=new hp;var cS=45e3,fi={},ja={};function jv(n,e,t){n.K=1,n.v=pp(js(e)),n.s=t,n.P=!0,$b(n,null)}function $b(n,e){n.F=Date.now(),ih(n),n.A=js(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Zb(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Bv,n.g=zm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ap(bi(n.La,n,n.g),n.N)),Vb(n.S,n.g,"readystatechange",n.ib),e=n.H?Cv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),oc(),function uS(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",f=u.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var T=w[0];w=w[1];var A=T.split("_");d=2<=A.length&&"type"==A[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function dS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function hS(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Hb(n,t),i==ja){4==e&&(n.o=4,Ui(14),r=!1),sc(n.j,n.m,null,"[Incomplete Response]");break}if(i==fi){n.o=4,Ui(15),sc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}sc(n.j,n.m,i,null),Mm(n,i)}dS(n)&&i!=ja&&i!=fi&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),lC(e),e.K=!0,Ui(11))):(sc(n.j,n.m,t,"[Invalid Chunked Response]"),uc(n),ac(n))}function Hb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ja:(t=Number(e.substring(t,r)),isNaN(t)?fi:(r+=1)+t>e.length?ja:(e=e.substr(r,t),n.C=r+t,e))}function ih(n){n.V=Date.now()+n.O,sh(n,n.O)}function sh(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cp(bi(n.gb,n),e)}function Am(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function ac(n){0==n.l.G||n.I||Gm(n.l,n)}function uc(n){Am(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Bs(n.T),lp(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Mm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Rm(t.h,n)))if(!n.J&&Rm(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;qm(t),t0(t)}Hm(t),Ui(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=cp(bi(t.cb,t),6e3));if(1>=zv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ah(t,11)}else if((n.J||t.g==n)&&qm(t),!pm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const A=w[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const B=w[5];null!=B&&"number"==typeof B&&0<B&&(t.J=r=1.5*B,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Z=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.h;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Om(u,u.h),u.h=null))}if(r.D){const de=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.za=de,Un(r.F,r.D,de))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=dC(r,r.H?r.ka:null,r.V),d.J){Zv(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(Am(f),ih(f)),r.g=d}else n0(r);0<t.i.length&&jm(t)}else"stop"!=w[0]&&"close"!=w[0]||ah(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ah(t,7):oC(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}oc()}catch{}}function qb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function pS(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function fS(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(gt=fp.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==Vu(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const T=Vu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||gm||this.g&&(this.h.h||this.g.fa()||rC(this.g)))){this.I||4!=T||7==e||oc(),Am(this);var t=this.g.aa();this.Y=t;t:if(dS(this)){var r=rC(this.g);n="";var i=r.length,u=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),ac(this);var d="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function lS(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pm(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ui(12),uc(this),ac(this);break e}sc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mm(this,t)}this.P?(hS(this,T,d),gm&&this.i&&3==T&&(Vb(this.S,this.T,"tick",this.hb),this.T.start())):(sc(this.j,this.m,d,null),Mm(this,d)),4==T&&uc(this),this.i&&!this.I&&(4==T?Gm(this.l,this):(this.i=!1,ih(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ui(12)):(this.o=0,Ui(13)),uc(this),ac(this)}}}catch{}},gt.hb=function(){if(this.g){var n=Vu(this.g),e=this.g.fa();this.C<e.length&&(Am(this),hS(this,n,e),this.i&&4!=n&&ih(this))}},gt.cancel=function(){this.I=!0,uc(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ub(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(oc(),Ui(17)),uc(this),this.o=2,ac(this)):sh(this,this.V-n)};var xm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fu){this.h=void 0!==e?e:n.h,oh(this,n.j),this.s=n.s,this.g=n.g,$v(this,n.m),this.l=n.l,e=n.i;var t=new mp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Hv(this,t),this.o=n.o}else n&&(t=String(n).match(xm))?(this.h=!!e,oh(this,t[1]||"",!0),this.s=Xo(t[2]||""),this.g=Xo(t[3]||"",!0),$v(this,t[4]),this.l=Xo(t[5]||"",!0),Hv(this,t[6]||"",!0),this.o=Xo(t[7]||"")):(this.h=!!e,this.i=new mp(null,this.h))}function js(n){return new Fu(n)}function oh(n,e,t){n.j=t?Xo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $v(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Hv(n,e,t){e instanceof mp?(n.i=e,function Wb(n,e){e&&!n.j&&(Lu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qv(this,r),Zb(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=gp(e,bx)),n.i=new mp(e,n.h))}function Un(n,e,t){n.i.set(e,t)}function pp(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gp(e,Nm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gp(e,Nm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(gp(t,"/"==t.charAt(0)?gS:wx,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gp(t,mS)),n.join("")};var Nm=/[#\/\?@]/g,wx=/[#\?:]/g,gS=/[#\?]/g,bx=/[#\?@]/g,mS=/#/g;function mp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Lu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qv(n,e){Lu(n),e=lc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Gv(n,e){return Lu(n),e=lc(n,e),n.g.has(e)}function Zb(n,e,t){qv(n,e),0<t.length&&(n.i=null,n.g.set(lc(n,e),_v(t)),n.h+=t.length)}function lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kb(n){this.l=n||Yb,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ga&&qt.g.Ga()&&qt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=mp.prototype).add=function(n,e){Lu(this),this.i=null,n=lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Lu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){Lu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},gt.W=function(n){Lu(this);let e=[];if("string"==typeof n)Gv(this,n)&&(e=e.concat(this.g.get(lc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Lu(this),this.i=null,Gv(this,n=lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var Yb=10;function Qb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zv(n){return n.h?1:n.g?n.g.size:0}function Rm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Om(n,e){n.g?n.g.add(e):n.h=e}function Zv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Jb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return _v(n.i)}function Wv(){}function Cx(){this.g=new Wv}function Xb(n,e,t){const r=t||"";try{qb(n,function(i,u){let d=i;np(i)&&(d=wm(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pm(n){this.l=n.ac||null,this.j=n.jb||!1}function Yv(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=eC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kb.prototype.cancel=function(){if(this.i=Jb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wv.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},Wv.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},di(Pm,dp),Pm.prototype.g=function(){return new Yv(this.l,this.j)},Pm.prototype.i=function(n){return function(){return n}}({}),di(Yv,Br);var eC=0;function _S(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function km(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fm(n)}function Fm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=Yv.prototype).open=function(n,e){if(this.readyState!=eC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fm(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,km(this)),this.readyState=eC},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fm(this)),this.g&&(this.readyState=3,Fm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_S(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?km(this):Fm(this),3==this.readyState&&_S(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,km(this))},gt.Ua=function(n){this.g&&(this.response=n,km(this))},gt.ga=function(){this.g&&km(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lm=qt.JSON.parse;function wr(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qv,this.K=this.L=!1}di(wr,Br);var Qv="",Vm=/^https?$/i,tC=["POST","PUT"];function vS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Um(n),Bm(n)}function Um(n){n.D||(n.D=!0,Kr(n,"complete"),Kr(n,"error"))}function Jv(n){if(n.h&&typeof gv<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.aa()))if(n.v&&4==Vu(n))Pv(n.Ha,0,n);else if(Kr(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(xm)[1]||null;if(!i&&qt.self&&qt.self.location){var u=qt.self.location.protocol;i=u.substr(0,u.length-1)}r=!Vm.test(i?i.toLowerCase():"")}t=r}if(t)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var d=2<Vu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Um(n)}}finally{Bm(n)}}}function Bm(n,e){if(n.g){Xv(n);const t=n.g,r=n.C[0]?hm:null;n.g=null,n.C=null,e||Kr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Xv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function rC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Qv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iC(n){let e="";return bv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function e0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=iC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function Uu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sC(n){this.Ca=0,this.i=[],this.j=new ic,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uu("baseRetryDelayMs",5e3,n),this.bb=Uu("retryDelaySeedMs",1e4,n),this.$a=Uu("forwardChannelMaxRetries",2,n),this.ta=Uu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Kb(n&&n.concurrentRequestLimit),this.Fa=new Cx,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function oC(n){if(ES(n),3==n.G){var e=n.U++,t=js(n.F);Un(t,"SID",n.I),Un(t,"RID",e),Un(t,"TYPE","terminate"),$m(n,t),(e=new fp(n,n.j,e,void 0)).K=2,e.v=pp(js(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zm(e.l,null),e.g.da(e.v)),e.F=Date.now(),ih(e)}_s(n)}function t0(n){n.g&&(lC(n),n.g.cancel(),n.g=null)}function ES(n){t0(n),n.u&&(qt.clearTimeout(n.u),n.u=null),qm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function jm(n){Qb(n.h)||n.m||(n.m=!0,Nv(n.Ja,n),n.C=0)}function aC(n,e){var t;t=e?e.m:n.U++;const r=js(n.F);Un(r,"SID",n.I),Un(r,"RID",t),Un(r,"AID",n.T),$m(n,r),n.o&&n.s&&e0(r,n.o,n.s),t=new fp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=uC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Om(n.h,t),jv(t,r,e)}function $m(n,e){n.ia&&bv(n.ia,function(t,r){Un(e,r,t)}),n.l&&qb({},function(t,r){Un(e,r,t)})}function uC(n,e,t){t=Math.min(n.i.length,t);var r=n.l?bi(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const T=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),f=!1;else try{Xb(T,d,"req"+w+"_")}catch{r&&r(T)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function n0(n){n.g||n.u||(n.Z=1,Nv(n.Ia,n),n.A=0)}function Hm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=cp(bi(n.Ia,n),cC(n,n.A)),n.A++,0))}function lC(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function $s(n){n.g=new fp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=js(n.sa);Un(e,"RID","rpc"),Un(e,"SID",n.I),Un(e,"CI",n.L?"0":"1"),Un(e,"AID",n.T),Un(e,"TYPE","xmlhttp"),$m(n,e),n.o&&n.s&&e0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=pp(js(e)),t.s=null,t.P=!0,$b(t,n)}function qm(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function Gm(n,e){var t=null;if(n.g==e){qm(n),lC(n),n.g=null;var r=2}else{if(!Rm(n.h,e))return;t=e.D,Zv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Kr(r=nh(),new Bb(r,t)),jm(n)}else n0(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function wS(n,e){return!(zv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=cp(bi(n.Ja,n,e),cC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Hm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:ah(n,5);break;case 4:ah(n,10);break;case 3:ah(n,6);break;default:ah(n,2)}}function cC(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ah(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=bi(n.kb,n);t||(t=new Fu("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||oh(t,"https"),pp(t)),function Ix(n,e){const t=new ic;if(qt.Image){const r=new Image;r.onload=fm(Kv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fm(Kv,t,r,"TestLoadImage: error",!1,e),r.onabort=fm(Kv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fm(Kv,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ui(2);n.G=0,n.l&&n.l.va(e),_s(n),ES(n)}function _s(n){if(n.G=0,n.la=[],n.l){const e=Jb(n.h);(0!=e.length||0!=n.i.length)&&(Eb(n.la,e),Eb(n.la,n.i),n.h.i.length=0,_v(n.i),n.i.length=0),n.l.ua()}}function dC(n,e,t){var r=t instanceof Fu?js(t):new Fu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),$v(r,r.m);else{var i=qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Fu(null,void 0);r&&oh(u,r),e&&(u.g=e),i&&$v(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Un(r,t,e),Un(r,"VER",n.ma),$m(n,r),r}function zm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Da&&!n.ra?new Pm({jb:!0}):n.ra)).Ka(n.H),e}function hC(){}function Zm(){if(Pu&&!(10<=Number(Tb)))throw Error("Environmental error: no available transport.")}function Bi(n,e){Br.call(this),this.g=new sC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!pm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new uh(this)}function r0(n){Dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function s0(){Uv.call(this),this.status=1}function uh(n){this.g=n}(gt=wr.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sm.g(),this.C=function Vv(n){return n.h||(n.h=n.i())}(this.u?this.u:Sm),this.g.onreadystatechange=bi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void vS(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=qt.FormData&&n instanceof qt.FormData,!(0<=yv(tC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xv(this),0<this.B&&((this.K=function nC(n){return Pu&&function eS(){return function JD(n){var e=wv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=wb(String(vv)).split("."),t=wb("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=rp(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||rp(0==i[2].length,0==u[2].length)||rp(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.qa,this)):this.A=Pv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){vS(this,u)}},gt.qa=function(){typeof gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),Bm(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bm(this,!0)),wr.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?Jv(this):this.fb())},gt.fb=function(){Jv(this)},gt.aa=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lm(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=sC.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new fp(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Cv(u),Iv(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uC(this,i,e),Un(t=js(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),$m(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(iC(u)))+"&"+e:this.o&&e0(t,this.o,u)),Om(this.h,i),this.Ya&&Un(t,"TYPE","init"),this.O?(Un(t,"$req",e),Un(t,"SID","null"),i.Z=!0,jv(i,t,null)):jv(i,t,e),this.G=2}}else 3==this.G&&(n?aC(this,n):0==this.i.length||Qb(this.h)||aC(this))},gt.Ia=function(){if(this.u=null,$s(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=cp(bi(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ui(10),t0(this),$s(this))},gt.cb=function(){null!=this.v&&(this.v=null,t0(this),Hm(this),Ui(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ui(2)):(this.j.info("Failed to ping google.com"),Ui(1))},(gt=hC.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},Zm.prototype.g=function(n,e){return new Bi(n,e)},di(Bi,Br),Bi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ui(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=dC(n,null,n.V),jm(n)},Bi.prototype.close=function(){oC(this.g)},Bi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&jm(e)},Bi.prototype.M=function(){this.g.l=null,delete this.j,oC(this.g),delete this.g,Bi.X.M.call(this)},di(r0,Dm),di(s0,Uv),di(uh,hC),uh.prototype.xa=function(){Kr(this.g,"a")},uh.prototype.wa=function(n){Kr(this.g,new r0(n))},uh.prototype.va=function(n){Kr(this.g,new s0)},uh.prototype.ua=function(){Kr(this.g,"b")},Zm.prototype.createWebChannel=Zm.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,Tm.NO_ERROR=0,Tm.TIMEOUT=8,Tm.HTTP_ERROR=6,Lv.COMPLETE="complete",jb.EventType=rh,rh.OPEN="a",rh.CLOSE="b",rh.ERROR="c",rh.MESSAGE="d",Br.prototype.listen=Br.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.Oa,wr.prototype.getLastErrorCode=wr.prototype.Ea,wr.prototype.getStatus=wr.prototype.aa,wr.prototype.getResponseJson=wr.prototype.Sa,wr.prototype.getResponseText=wr.prototype.fa,wr.prototype.send=wr.prototype.da,wr.prototype.setWithCredentials=wr.prototype.Ka;var fC=Jo.createWebChannelTransport=function(){return new Zm},pC=Jo.getStatEventTarget=function(){return nh()},o0=Jo.ErrorCode=Tm,gC=Jo.EventType=Lv,bS=Jo.Event=ku,Wm=Jo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Bu=Jo.FetchXmlHttpFactory=Pm,yp=Jo.WebChannel=jb,a0=Jo.XhrIo=wr;const ea="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let _p="9.16.0";const ju=new Ru.Yd("@firebase/firestore");function u0(){return ju.logLevel}function Ue(n,...e){if(ju.logLevel<=Ru.in.DEBUG){const t=e.map(Km);ju.debug(`Firestore (${_p}): ${n}`,...t)}}function or(n,...e){if(ju.logLevel<=Ru.in.ERROR){const t=e.map(Km);ju.error(`Firestore (${_p}): ${n}`,...t)}}function lh(n,...e){if(ju.logLevel<=Ru.in.WARN){const t=e.map(Km);ju.warn(`Firestore (${_p}): ${n}`,...t)}}function Km(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${_p}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function lt(n,e){n||rt()}function We(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class l0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class Ym{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qm{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Nr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Ee.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},y=w=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Nr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new l0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Yr(e)}}class yC{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class IS{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new yC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _C{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dx{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.A=t.token,new _C(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class c0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Sx(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function ch(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function vC(n){return n+"\0"}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Wn(0,0))}static max(){return new It(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jm{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Jm{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const Ax=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Jm{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return Ax.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Oe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(u(),i++)}if(u(),d)throw new Oe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(cn.fromString(e))}static fromName(e){return new ze(cn.fromString(e).popFirst(5))}static empty(){return new ze(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new cn(e.slice()))}}class Xm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function d0(n){return n.fields.find(e=>2===e.kind)}function $u(n){return n.fields.filter(e=>2!==e.kind)}Xm.UNKNOWN_ID=-1;class vp{constructor(e,t){this.fieldPath=e,this.kind=t}}class dc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dc(0,ji.min())}}function EC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Wn(t+1,0):new Wn(t,r));return new ji(i,ze.empty(),e)}function ey(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(It.min(),ze.empty(),-1)}static max(){return new ji(It.max(),ze.empty(),-1)}}function dh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hc(n){return wC.apply(this,arguments)}function wC(){return wC=(0,Ee.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==TS)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),wC.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,u=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++u,d&&u===i&&t()},y=>r(y))}),d=!0,u===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const u=e.length,d=new Array(u);let f=0;for(let y=0;y<u;y++){const w=y;t(e[w]).next(T=>{d[w]=T,++f,f===u&&r(d)},T=>i(T))}})}static doWhile(e,t){return new ce((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Nr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ep(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=f0(r.target.error);this.P.reject(new Ep(e,i))}}static open(e,t,r,i){try{return new ty(t,e.transaction(i,r))}catch(u){throw new Ep(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bC(t)}}class co{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===co.D((0,un.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Hu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,un.hl)())return!1;if(co.N())return!0;const e=(0,un.z$)(),t=co.D(e),r=0<t&&t<10,i=co.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new Ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Oe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ep(e,f))},u.onupgradeneeded=d=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Ee.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const y=ty.open(u.db,e,d?"readonly":"readwrite",r),w=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ce.reject(T))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,T="FirebaseError"!==w.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),u.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SS{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Hu(this.q.delete())}}class Ep extends Oe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $a(n){return"IndexedDbTransactionError"===n.name}class bC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hu(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Hu(this.store.add(e))}get(e){return Hu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Hu(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Hu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(d,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ce((u,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=u=>{const d=f0(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new ce((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new SS(f),w=t(f.primaryKey,f.value,y);if(w instanceof ce){const T=w.catch(A=>(y.done(),ce.reject(A)));r.push(T)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hu(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=f0(r.target.error);t(i)}})}let CC=!1;function f0(n){const e=co.D((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CC||(CC=!0,setTimeout(()=>{throw r},0)),r}}return n}class IC{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){$a(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield hc(r)}yield t.nt(6e4)}))}}class p0{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return ce.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ue("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,u)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=ey(u);dh(d,r)>0&&(r=d)}),new ji(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Hs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class TC{constructor(e,t,r,i,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}function DC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ny(n){return null==n}function wp(n){return 0===n&&1/n==-1/0}function SC(n){return"number"==typeof n&&Number.isInteger(n)&&!wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const Mx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(n){if(lt(!!n),"string"==typeof n){let e=0;const t=Mx.exec(n);if(lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hh(n){return"string"==typeof n?Qr.fromBase64String(n):Qr.fromUint8Array(n)}function g0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xS(n){const e=n.mapValue.fields.__previous_value__;return g0(e)?xS(e):e}function ry(n){const e=pc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},m0={nullValue:"NULL_VALUE"};function fh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g0(n)?4:W(n)?9007199254740991:10:rt()}function Ha(n,e){if(n===e)return!0;const t=fh(n);if(t!==fh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ry(n).isEqual(ry(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=pc(r.timestampValue),d=pc(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,hh(n.bytesValue).isEqual(hh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return br(r.geoPointValue.latitude)===br(i.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return br(r.integerValue)===br(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=br(r.doubleValue),d=br(i.doubleValue);return u===d?wp(u)===wp(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ch(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(DC(u)!==DC(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!Ha(u[f],d[f])))return!1;return!0}(n,e);default:return rt()}var i}function s(n,e){return void 0!==(n.values||[]).find(t=>Ha(t,e))}function o(n,e){if(n===e)return 0;const t=fh(n),r=fh(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=br(i.integerValue||i.doubleValue),f=br(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return a(n.timestampValue,e.timestampValue);case 4:return a(ry(n),ry(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=hh(i),f=hh(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Gt(d[y],f[y]);if(0!==w)return w}return Gt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Gt(br(i.latitude),br(u.latitude));return 0!==d?d:Gt(br(i.longitude),br(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],f=u.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=o(d[y],f[y]);if(w)return w}return Gt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===gc.mapValue&&u===gc.mapValue)return 0;if(i===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const A=Gt(f[T],w[T]);if(0!==A)return A;const B=o(d[f[T]],y[w[T]]);if(0!==B)return B}return Gt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw rt()}}function a(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=pc(n),r=pc(e),i=Gt(t.seconds,r.seconds);return 0!==i?i:Gt(t.nanos,r.nanos)}function c(n){return h(n)}function h(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=pc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hh(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=h(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const f of i)d?d=!1:u+=",",u+=`${f}:${h(r.fields[f])}`;return u+"}"}(n.mapValue):rt();var e}function p(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _(n){return!!n&&"integerValue"in n}function E(n){return!!n&&"arrayValue"in n}function C(n){return!!n&&"nullValue"in n}function S(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function N(n){return!!n&&"mapValue"in n}function F(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=F(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ne(n){return"nullValue"in n?m0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?p(ta.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function we(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?p(ta.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gc:rt()}function He(n,e){const t=o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ke(n,e){const t=o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xe{constructor(e,t){this.position=e,this.inclusive=t}}function Mt(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?ze.comparator(ze.fromName(d.referenceValue),t.key):o(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Fe(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}class $t{}class wt extends $t{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ck(e,t,r):"array-contains"===t?new Dk(e,r):"in"===t?new kx(e,r):"not-in"===t?new Sk(e,r):"array-contains-any"===t?new Ak(e,r):new wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ik(e,r):new Tk(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(o(t,this.value)):null!==t&&fh(this.value)===fh(t)&&this.matchesComparison(o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ft extends $t{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ft(e,t)}matches(e){return bp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bp(n){return"and"===n.op}function NS(n){return"or"===n.op}function RS(n){return xx(n)&&bp(n)}function xx(n){for(const e of n.filters)if(e instanceof Ft)return!1;return!0}function OS(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+c(n.value);if(RS(n))return n.filters.map(e=>OS(e)).join(",");{const e=n.filters.map(t=>OS(t)).join(",");return`${n.op}(${e})`}}function Nx(n,e){return n instanceof wt?(t=n,(r=e)instanceof wt&&t.op===r.op&&t.field.isEqual(r.field)&&Ha(t.value,r.value)):n instanceof Ft?function(t,r){return r instanceof Ft&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,d)=>i&&Nx(u,r.filters[d]),!0)}(n,e):void rt();var t,r}function Rx(n,e){const t=n.filters.concat(e);return Ft.create(t,n.op)}function Ox(n){return n instanceof wt?`${(e=n).field.canonicalString()} ${e.op} ${c(e.value)}`:n instanceof Ft?function(e){return e.op.toString()+" {"+e.getFilters().map(Ox).join(" ,")+"}"}(n):"Filter";var e}class Ck extends wt{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ik extends wt{constructor(e,t){super(e,"in",t),this.keys=Px(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tk extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Px(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Px(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class Dk extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E(t)&&s(t.arrayValue,this.value)}}class kx extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s(this.value.arrayValue,t)}}class Sk extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s(this.value.arrayValue,t)}}class Ak extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>s(this.value.arrayValue,r))}}class iy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Rr{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new AC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new AC(this.root,e,this.comparator,!1)}getReverseIterator(){return new AC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new AC(this.root,e,this.comparator,!0)}}class AC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??$i.RED,this.left=i??$i.EMPTY,this.right=u??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new $i(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fx(this.data.getIterator())}getIteratorFrom(e){return new Fx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Fx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sy(n){return n.hasNext()?n.getNext():void 0}class qs{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new qs([])}unionWith(e){let t=new Nn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ch(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!N(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=F(d):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());N(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];N(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Hi(F(this.value))}}function Lx(n){const e=[];return fc(n.fields,(t,r)=>{const i=new ar([t]);if(N(r)){const u=Lx(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new qs(e)}class Kn{constructor(e,t,r,i,u,d,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Kn(e,0,It.min(),It.min(),It.min(),Hi.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,It.min(),It.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,It.min(),It.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xk{constructor(e,t=null,r=[],i=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=f,this.ft=null}}function PS(n,e=null,t=[],r=[],i=null,u=null,d=null){return new xk(n,e,t,r,i,u,d)}function Cp(n){const e=We(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>OS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ny(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>c(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>c(r)).join(",")),e.ft=t}return e.ft}function y0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fe(n.startAt,e.startAt)&&Fe(n.endAt,e.endAt)}function MC(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xC(n,e){return n.filters.filter(t=>t instanceof wt&&t.field.isEqual(e))}function Vx(n,e,t){let r=m0,i=!0;for(const u of xC(n,e)){let d=m0,f=!0;switch(u.op){case"<":case"<=":d=ne(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,f=!1;break;case"!=":case"not-in":d=m0}He({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];He({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Ux(n,e,t){let r=gc,i=!0;for(const u of xC(n,e)){let d=gc,f=!0;switch(u.op){case">=":case">":d=we(u.value),f=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,f=!1;break;case"!=":case"not-in":d=gc}Ke({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Ke({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class mc{constructor(e,t=null,r=[],i=[],u=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=y,this.dt=null,this._t=null}}function Bx(n,e,t,r,i,u,d,f){return new mc(n,e,t,r,i,u,d,f)}function oy(n){return new mc(n)}function jx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function NC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function FS(n){return null!==n.collectionGroup}function Ip(n){const e=We(n);if(null===e.dt){e.dt=[];const t=NC(e),r=kS(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new iy(t)),e.dt.push(new iy(ar.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new iy(ar.keyField(),u))}}}return e.dt}function vs(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=PS(e.path,e.collectionGroup,Ip(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ip(e))t.push(new iy(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Xe(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xe(e.startAt.position,e.startAt.inclusive):null;e._t=PS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function LS(n,e){e.getFirstInequalityField(),NC(n);const t=n.filters.concat([e]);return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function RC(n,e,t){return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _0(n,e){return y0(vs(n),vs(e))&&n.limitType===e.limitType}function $x(n){return`${Cp(vs(n))}|lt:${n.limitType}`}function VS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Ox(r)).join(", ")}]`),ny(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>c(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>c(r)).join(",")),`Target(${t})`}(vs(n))}; limitType=${n.limitType})`}function US(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ip(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const f=Mt(i,u,d);return i.inclusive?f<=0:f<0}(t.startAt,Ip(t),r)||t.endAt&&!function(i,u,d){const f=Mt(i,u,d);return i.inclusive?f>=0:f>0}(t.endAt,Ip(t),r)));var t,r}function Hx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qx(n){return(e,t)=>{let r=!1;for(const i of Ip(n)){const u=Nk(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function Nk(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,u,d){const f=u.data.field(i),y=d.data.field(i);return null!==f&&null!==y?o(f,y):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function Gx(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function zx(n){return{integerValue:""+n}}function Zx(n,e){return SC(e)?zx(e):Gx(n,e)}class OC{constructor(){this._=void 0}}function Rk(n,e,t){return n instanceof ay?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Tp?Kx(n,e):n instanceof Dp?Yx(n,e):function(r,i){const u=Wx(r,i),d=Qx(u)+Qx(r.gt);return _(u)&&_(r.gt)?zx(d):Gx(r.yt,d)}(n,e)}function Ok(n,e,t){return n instanceof Tp?Kx(n,e):n instanceof Dp?Yx(n,e):t}function Wx(n,e){return n instanceof uy?_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ay extends OC{}class Tp extends OC{constructor(e){super(),this.elements=e}}function Kx(n,e){const t=Jx(e);for(const r of n.elements)t.some(i=>Ha(i,r))||t.push(r);return{arrayValue:{values:t}}}class Dp extends OC{constructor(e){super(),this.elements=e}}function Yx(n,e){let t=Jx(e);for(const r of n.elements)t=t.filter(i=>!Ha(i,r));return{arrayValue:{values:t}}}class uy extends OC{constructor(e,t){super(),this.yt=e,this.gt=t}}function Qx(n){return br(n.integerValue||n.doubleValue)}function Jx(n){return E(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class v0{constructor(e,t){this.field=e,this.transform=t}}class kk{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kC{}function Xx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cy(n.key,ur.none()):new ly(n.key,n.data,ur.none());{const t=n.data,r=Hi.empty();let i=new Nn(ar.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new yc(n.key,r,new qs(i.toArray()),ur.none())}}function Fk(n,e,t){n instanceof ly?function(r,i,u){const d=r.value.clone(),f=nN(r.fieldTransforms,i,u.transformResults);d.setAll(f),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof yc?function(r,i,u){if(!PC(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=nN(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(tN(r)),f.setAll(d),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function E0(n,e,t,r){return n instanceof ly?function(i,u,d,f){if(!PC(i.precondition,u))return d;const y=i.value.clone(),w=rN(i.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof yc?function(i,u,d,f){if(!PC(i.precondition,u))return d;const y=rN(i.fieldTransforms,f,u),w=u.data;return w.setAll(tN(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,PC(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function Lk(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Wx(r.transform,i||null);null!=u&&(null===t&&(t=Hi.empty()),t.set(r.field,u))}return t||null}function eN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ch(t,r,(i,u)=>function Pk(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tp&&r instanceof Tp||t instanceof Dp&&r instanceof Dp?ch(t.elements,r.elements,Ha):t instanceof uy&&r instanceof uy?Ha(t.gt,r.gt):t instanceof ay&&r instanceof ay);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ly extends kC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yc extends kC{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nN(n,e,t){const r=new Map;lt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,f=e.data.field(u.field);r.set(u.field,Ok(d,f,t[i]))}return r}function rN(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,Rk(u,d,e))}return r}class cy extends kC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BS extends kC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vk{constructor(e){this.count=e}}var Jr,fn;function iN(n){switch(n){default:return rt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function sN(n){if(void 0===n)return or("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Jr.OK:return pe.OK;case Jr.CANCELLED:return pe.CANCELLED;case Jr.UNKNOWN:return pe.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return pe.INTERNAL;case Jr.UNAVAILABLE:return pe.UNAVAILABLE;case Jr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Jr.NOT_FOUND:return pe.NOT_FOUND;case Jr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Jr.ABORTED:return pe.ABORTED;case Jr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Jr.DATA_LOSS:return pe.DATA_LOSS;default:return rt()}}(fn=Jr||(Jr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class ph{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return AS(this.inner)}size(){return this.innerSize}}const Uk=new Rr(ze.comparator);function Gs(){return Uk}const oN=new Rr(ze.comparator);function w0(...n){let e=oN;for(const t of n)e=e.insert(t.key,t);return e}function aN(n){let e=oN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qu(){return b0()}function uN(){return b0()}function b0(){return new ph(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bk=new Rr(ze.comparator),jk=new Nn(ze.comparator);function tn(...n){let e=jk;for(const t of n)e=e.add(t);return e}const $k=new Nn(Gt);function FC(){return $k}class C0{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,I0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new C0(It.min(),i,FC(),Gs(),tn())}}class I0{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new I0(r,t,tn(),tn(),tn())}}class LC{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class lN{constructor(e,t){this.targetId=e,this.Et=t}}class cN{constructor(e,t,r=Qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dN{constructor(){this.At=0,this.Rt=fN(),this.bt=Qr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=tn(),t=tn(),r=tn();return this.Rt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new I0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=fN()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Hk{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Gs(),this.qt=hN(),this.Ut=new Nn(Gt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const u=i.target;if(MC(u))if(0===r){const d=new ze(u.path);this.Qt(t,d,Kn.newNoDocument(d,It.min()))}else lt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,d)=>{const f=this.Yt(d);if(f){if(u.current&&MC(f.target)){const y=new ze(f.target.path);null!==this.Lt.get(y)||this.te(d,y)||this.Qt(d,y,Kn.newNoDocument(y,e))}u.St&&(t.set(d,u.Ct()),u.xt())}});let r=tn();this.qt.forEach((u,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Yt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Lt.forEach((u,d)=>d.setReadTime(e));const i=new C0(e,t,this.Ut,this.Lt,r);return this.Lt=Gs(),this.qt=hN(),this.Ut=new Nn(Gt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new dN,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Nn(Gt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new dN),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function hN(){return new Rr(ze.comparator)}function fN(){return new Rr(ze.comparator)}const qk={asc:"ASCENDING",desc:"DESCENDING"},Gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Zk{constructor(e,t){this.databaseId=e,this.wt=t}}function dy(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pN(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Wk(n,e){return dy(n,e.toTimestamp())}function jr(n){return lt(!!n),It.fromTimestamp(function(e){const t=pc(e);return new Wn(t.seconds,t.nanos)}(n))}function jS(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gN(n){const e=cn.fromString(n);return lt(IN(e)),e}function T0(n,e){return jS(n.databaseId,e.path)}function Gu(n,e){const t=gN(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(yN(t))}function $S(n,e){return jS(n.databaseId,e)}function mN(n){const e=gN(n);return 4===e.length?cn.emptyPath():yN(e)}function D0(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yN(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _N(n,e,t){return{name:T0(n,e),fields:t.value.mapValue.fields}}function vN(n,e,t){const r=Gu(n,e.name),i=jr(e.updateTime),u=e.createTime?jr(e.createTime):It.min(),d=new Hi({mapValue:{fields:e.fields}}),f=Kn.newFoundDocument(r,i,u,d);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function S0(n,e){let t;if(e instanceof ly)t={update:_N(n,e.key,e.value)};else if(e instanceof cy)t={delete:T0(n,e.key)};else if(e instanceof yc)t={update:_N(n,e.key,e.data),updateMask:nF(e.fieldMask)};else{if(!(e instanceof BS))return rt();t={verify:T0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof ay)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uy)return{fieldPath:u.field.canonicalString(),increment:d.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Wk(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function HS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ur.updateTime(jr(i.updateTime)):void 0!==i.exists?ur.exists(i.exists):ur.none():ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let f=null;"setToServerValue"in d?(lt("REQUEST_TIME"===d.setToServerValue),f=new ay):"appendMissingElements"in d?f=new Tp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Dp(d.removeAllFromArray.values||[]):"increment"in d?f=new uy(u,d.increment):rt();const y=ar.fromServerFormat(d.fieldPath);return new v0(y,f)}(n,i)):[];var i;if(e.update){const i=Gu(n,e.update.name),u=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new qs((e.updateMask.fieldPaths||[]).map(w=>ar.fromServerFormat(w)));return new yc(i,u,d,t,r)}return new ly(i,u,t,r)}if(e.delete){const i=Gu(n,e.delete);return new cy(i,t)}if(e.verify){const i=Gu(n,e.verify);return new BS(i,t)}return rt()}function EN(n,e){return{documents:[$S(n,e.path)]}}function qS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=$S(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$S(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return CN(Ft.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:hy((T=w).field),direction:Xk(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=e.limit,n.wt||ny(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function wN(n){let e=mN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){lt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const A=bN(T);return A instanceof Ft&&RS(A)?A.getFilters():[A]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new iy(fy((A=T).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,ny(A)?null:A}(t.limit));let y=null;var T;t.startAt&&(y=new Xe((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new Xe(T.values||[],!T.before)}(t.endAt)),Bx(e,i,d,u,f,"F",y,w)}function bN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fy(e.unaryFilter.field);return wt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fy(e.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fy(e.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fy(e.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?wt.create(fy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ft.create(e.compositeFilter.filters.map(t=>bN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function Xk(n){return qk[n]}function eF(n){return Gk[n]}function tF(n){return zk[n]}function hy(n){return{fieldPath:n.canonicalString()}}function fy(n){return ar.fromServerFormat(n.fieldPath)}function CN(n){return n instanceof wt?function(e){if("=="===e.op){if(S(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NAN"}};if(C(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(S(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NAN"}};if(C(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hy(e.field),op:eF(e.op),value:e.value}}}(n):n instanceof Ft?function(e){const t=e.getFilters().map(r=>CN(r));return 1===t.length?t[0]:{compositeFilter:{op:tF(e.op),filters:t}}}(n):rt()}function nF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Es(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TN(e)),e=rF(n.get(t),e);return TN(e)}function rF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function TN(n){return n+"\x01\x01"}function zu(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const f=n.substring(u,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:rt()}u=d+2}return new cn(r)}const DN=["userId","batchId"];function VC(n,e){return[n,Es(e)]}function SN(n,e,t){return[n,Es(e),t]}const iF={},sF=["prefixPath","collectionGroup","readTime","documentId"],oF=["prefixPath","collectionGroup","documentId"],aF=["collectionGroup","readTime","prefixPath","documentId"],uF=["canonicalId","targetId"],lF=["targetId","path"],cF=["path","targetId"],dF=["collectionId","parent"],hF=["indexId","uid"],fF=["uid","sequenceNumber"],pF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gF=["indexId","uid","orderedDocumentKey"],mF=["userId","collectionPath","documentId"],yF=["userId","collectionPath","largestBatchId"],_F=["userId","collectionGroup","largestBatchId"],AN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vF=[...AN,"documentOverlays"],MN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xN=MN,EF=[...xN,"indexConfiguration","indexState","indexEntries"];class GS extends DS{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Ci(n,e){const t=We(n);return co.M(t.se,e)}class zS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Fk(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=E0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=E0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uN();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(i.key)?null:f;const y=Xx(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&ch(this.mutations,e.mutations,(t,r)=>eN(t,r))&&ch(this.baseMutations,e.baseMutations,(t,r)=>eN(t,r))}}class ZS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){lt(e.mutations.length===r.length);let i=Bk;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new ZS(e,t,r,i)}}class WS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gh{constructor(e,t,r,i,u=It.min(),d=It.min(),f=Qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new gh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NN{constructor(e){this.ie=e}}function RN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:UC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:T0(i=n.ie,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:dy(i,u.version.toTimestamp()),createTime:dy(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Sp(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Sp(e.version)}}var i,u;return r}function UC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ap(n){const e=new Wn(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Mp(n,e){const t=(e.baseMutations||[]).map(u=>HS(n.ie,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>HS(n.ie,u)),i=Wn.fromMillis(e.localWriteTimeMs);return new zS(e.batchId,i,t,r)}function A0(n){const e=Ap(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ap(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(lt(1===(i=n.query).documents.length),r=vs(oy(mN(i.documents[0])))):r=vs(wN(n.query)),new gh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Qr.fromBase64String(n.resumeToken))}function ON(n,e){const t=Sp(e.snapshotVersion),r=Sp(e.lastLimboFreeSnapshotVersion);let i;i=MC(e.target)?EN(n.ie,e.target):qS(n.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cp(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function KS(n){const e=wN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?RC(e,e.limit,"L"):e}function YS(n,e){return new WS(e.largestBatchId,HS(n.ie,e.overlayMutation))}function PN(n,e){const t=e.path.lastSegment();return[n,Es(e.path.popLast()),t]}function kN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sp(r.readTime),documentKey:Es(r.documentKey.path),largestBatchId:r.largestBatchId}}class bF{getBundleMetadata(e,t){return FN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ap(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return FN(e).put({bundleId:(r=t).id,createTime:Sp(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return LN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:KS(i.bundledQuery),readTime:Ap(i.readTime)};var i})}saveNamedQuery(e,t){return LN(e).put({name:(r=t).name,readTime:Sp(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function FN(n){return Ci(n,"bundles")}function LN(n){return Ci(n,"namedQueries")}class BC{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new BC(e,t.uid||"")}getOverlay(e,t){return M0(e).get(PN(this.userId,t)).next(r=>r?YS(this.yt,r):null)}getOverlays(e,t){const r=qu();return ce.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const f=new WS(t,d);i.push(this.oe(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Es(d.getCollectionPath())));const u=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(M0(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(u)}getOverlaysForCollection(e,t,r){const i=qu(),u=Es(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return M0(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=YS(this.yt,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=qu();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return M0(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,w,T)=>{const A=YS(this.yt,w);u.size()<i||A.largestBatchId===d?(u.set(A.getKey(),A),d=A.largestBatchId):T.done()}).next(()=>u)}oe(e,t){return M0(e).put(function(r,i,u){const[d,f,y]=PN(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:S0(r.ie,u.mutation)}}(this.yt,this.userId,t))}}function M0(n){return Ci(n,"documentOverlays")}class xp{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),wp(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(hh(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?W(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):rt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),ze.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function CF(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function VN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=CF(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}xp.Ie=new xp;class IF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=VN(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=VN(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TF{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class DF{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class x0{constructor(){this.$e=new IF,this.Be=new TF(this.$e),this.Le=new DF(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Np{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Np(this.indexId,this.documentKey,this.arrayValue,r)}}function mh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=UN(n.arrayValue,e.arrayValue),0!==t?t:(t=UN(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function UN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class SF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){lt(e.collectionGroup===this.collectionId);const t=d0(e);if(void 0!==t&&!this.We(t))return!1;const r=$u(e);let i=0,u=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const d=r[i];if(!this.ze(this.Qe,d)||!this.He(this.Ke[u++],d))return!1;++i}for(;i<r.length;++i)if(u>=this.Ke.length||!this.He(this.Ke[u++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function BN(n){var e,t;if(lt(n instanceof wt||n instanceof Ft),n instanceof wt){if(n instanceof kx){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>wt.create(n.field,"==",u)))||[];return Ft.create(i,"or")}return n}const r=n.filters.map(i=>BN(i));return Ft.create(r,n.op)}function AF(n){if(0===n.getFilters().length)return[];const e=XS(BN(n));return lt(jN(e)),QS(e)||JS(e)?[e]:e.getFilters()}function QS(n){return n instanceof wt}function JS(n){return n instanceof Ft&&RS(n)}function jN(n){return QS(n)||JS(n)||function(e){if(e instanceof Ft&&NS(e)){for(const t of e.getFilters())if(!QS(t)&&!JS(t))return!1;return!0}return!1}(n)}function XS(n){if(lt(n instanceof wt||n instanceof Ft),n instanceof wt)return n;if(1===n.filters.length)return XS(n.filters[0]);const e=n.filters.map(r=>XS(r));let t=Ft.create(e,n.op);return t=jC(t),jN(t)?t:(lt(t instanceof Ft),lt(bp(t)),lt(t.filters.length>1),t.filters.reduce((r,i)=>eA(r,i)))}function eA(n,e){let t;return lt(n instanceof wt||n instanceof Ft),lt(e instanceof wt||e instanceof Ft),t=n instanceof wt?e instanceof wt?Ft.create([n,e],"and"):$N(n,e):e instanceof wt?$N(e,n):function(r,i){if(lt(r.filters.length>0&&i.filters.length>0),bp(r)&&bp(i))return Rx(r,i.getFilters());const u=NS(r)?r:i,d=NS(r)?i:r,f=u.filters.map(y=>eA(y,d));return Ft.create(f,"or")}(n,e),jC(t)}function $N(n,e){if(bp(e))return Rx(e,n.getFilters());{const t=e.filters.map(r=>eA(n,r));return Ft.create(t,"or")}}function jC(n){if(lt(n instanceof wt||n instanceof Ft),n instanceof wt)return n;const e=n.getFilters();if(1===e.length)return jC(e[0]);if(xx(n))return n;const t=e.map(i=>jC(i)),r=[];return t.forEach(i=>{i instanceof wt?r.push(i):i instanceof Ft&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ft.create(r,n.op)}class MF{constructor(){this.Je=new tA}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ji.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class tA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(cn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(cn.comparator)).toArray()}}const $C=new Uint8Array(0);class xF{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new tA,this.Xe=new ph(r=>Cp(r),(r,i)=>y0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const u={collectionId:r,parent:Es(i)};return HN(e).put(u)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[vC(t),""],!1,!0);return HN(e).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(zu(d.parent))}return r})}addFieldIndex(e,t){const r=HC(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=R0(e);return u.next(f=>{d.put(kN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=HC(e),i=R0(e),u=N0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=N0(e);let i=!0;const u=new Map;return ce.forEach(this.Ze(t),d=>this.tn(e,d).next(f=>{i&&(i=!!f),u.set(d,f)})).next(()=>{if(i){let d=tn();const f=[];return ce.forEach(u,(y,w)=>{var T;Ue("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`} to execute ${Cp(t)}`);const A=function(mt,ut){const Rt=d0(ut);if(void 0===Rt)return null;for(const Lt of xC(mt,Rt.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(w,y),B=function(mt,ut){const Rt=new Map;for(const Lt of $u(ut))for(const dn of xC(mt,Lt.fieldPath))switch(dn.op){case"==":case"in":Rt.set(Lt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Rt.set(Lt.fieldPath.canonicalString(),dn.value),Array.from(Rt.values())}return null}(w,y),z=function(mt,ut){const Rt=[];let Lt=!0;for(const dn of $u(ut)){const Is=0===dn.kind?Vx(mt,dn.fieldPath,mt.startAt):Ux(mt,dn.fieldPath,mt.startAt);Rt.push(Is.value),Lt&&(Lt=Is.inclusive)}return new Xe(Rt,Lt)}(w,y),Z=function(mt,ut){const Rt=[];let Lt=!0;for(const dn of $u(ut)){const Is=0===dn.kind?Ux(mt,dn.fieldPath,mt.endAt):Vx(mt,dn.fieldPath,mt.endAt);Rt.push(Is.value),Lt&&(Lt=Is.inclusive)}return new Xe(Rt,Lt)}(w,y),de=this.en(y,w,z),be=this.en(y,w,Z),Ze=this.nn(y,w,B),ct=this.sn(y.indexId,A,de,z.inclusive,be,Z.inclusive,Ze);return ce.forEach(ct,mt=>r.J(mt,t.limit).next(ut=>{ut.forEach(Rt=>{const Lt=ze.fromSegments(Rt.documentKey);d.has(Lt)||(d=d.add(Lt),f.push(Lt))})}))}).next(()=>f)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:AF(Ft.create(e.filters,"and")).map(r=>PS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,u,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),w=y/(null!=t?t.length:1),T=[];for(let A=0;A<y;++A){const B=t?this.rn(t[A/w]):$C,z=this.on(e,B,r[A%w],i),Z=this.un(e,B,u[A%w],d),de=f.map(be=>this.on(e,B,be,!0));T.push(...this.createRange(z,Z,de))}return T}on(e,t,r,i){const u=new Np(e,ze.empty(),t,r);return i?u:u.Ue()}un(e,t,r,i){const u=new Np(e,ze.empty(),t,r);return i?u.Ue():u}tn(e,t){const r=new SF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const f of u)r.je(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ce.forEach(i,u=>this.tn(e,u).next(d=>{d?0!==r&&d.fields.length<function(f){let y=new Nn(ar.comparator),w=!1;for(const T of f.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?w=!0:y=y.add(A.field));for(const T of f.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(w?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new x0;for(const i of $u(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.qe(i.kind);xp.Ie.ue(u,d)}return r.Fe()}rn(e){const t=new x0;return xp.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new x0;return xp.Ie.ue(p(this.databaseId,t),r.qe(function(i){const u=$u(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new x0);let u=0;for(const d of $u(e)){const f=r[u++];for(const y of i)if(this.hn(t,d.fieldPath)&&E(f))i=this.ln(i,d,f);else{const w=y.qe(d.kind);xp.Ie.ue(f,w)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new x0;y.seed(f.Fe()),xp.Ie.ue(d,y.qe(t.kind)),u.push(y)}return u}hn(e,t){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=HC(e),i=R0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ce.forEach(u,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,T){const A=T?new dc(T.sequenceNumber,new ji(Ap(T.readTime),new ze(zu(T.documentKey)),T.largestBatchId)):dc.empty(),B=w.fields.map(([z,Z])=>new vp(ar.fromServerFormat(z),Z));return new Xm(w.indexId,w.collectionGroup,B,A)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Gt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=HC(e),u=R0(e);return this.dn(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,y=>u.put(kN(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?ce.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ce.forEach(f,y=>this._n(e,i,y).next(w=>{const T=this.wn(u,y);return w.isEqual(T)?ce.resolve():this.mn(e,u,y,w,T)}))))})}gn(e,t,r,i){return N0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return N0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=N0(e);let u=new Nn(mh);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(d,f)=>{u=u.add(new Np(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}wn(e,t){let r=new Nn(mh);const i=this.cn(t,e);if(null==i)return r;const u=d0(t);if(null!=u){const d=e.data.field(u.fieldPath);if(E(d))for(const f of d.arrayValue.values||[])r=r.add(new Np(t.indexId,e.key,this.rn(f),i))}else r=r.add(new Np(t.indexId,e.key,$C,i));return r}mn(e,t,r,i,u){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,T,A){const B=f.getIterator(),z=y.getIterator();let Z=sy(B),de=sy(z);for(;Z||de;){let be=!1,Ze=!1;if(Z&&de){const ct=w(Z,de);ct<0?Ze=!0:ct>0&&(be=!0)}else null!=Z?Ze=!0:be=!0;be?(T(de),de=sy(z)):Ze?(A(Z),Z=sy(B)):(Z=sy(B),de=sy(z))}}(i,u,mh,f=>{d.push(this.gn(e,t,r,f))},f=>{d.push(this.yn(e,t,r,f))}),ce.waitFor(d)}dn(e){let t=1;return R0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>mh(d,f)).filter((d,f,y)=>!f||0!==mh(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=mh(d,e),y=mh(d,t);if(0===f)i[0]=e.Ue();else if(f>0&&y<0)i.push(d),i.push(d.Ue());else if(y>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2){if(this.pn(i[d],i[d+1]))return[];u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,$C,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,$C,[]]))}return u}pn(e,t){return mh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qN)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||rt())).next(qN)}}function HN(n){return Ci(n,"collectionParents")}function N0(n){return Ci(n,"indexEntries")}function HC(n){return Ci(n,"indexConfiguration")}function R0(n){return Ci(n,"indexState")}function qN(n){lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;dh(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ji(e.readTime,e.documentKey,t)}const GN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zs(e,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(T,A,B)=>(f++,B.delete()));u.push(y.next(()=>{lt(1===f)}));const w=[];for(const T of t.mutations){const A=SN(e,T.key.path,t.batchId);u.push(i.delete(A)),w.push(T.key)}return ce.waitFor(u).next(()=>w)}function qC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class GC{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){lt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new GC(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yh(e).Z({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=py(e),d=yh(e);return d.add({}).next(f=>{lt("number"==typeof f);const y=new zS(f,t,r,i),w=function(B,z,Z){const de=Z.baseMutations.map(Ze=>S0(B.ie,Ze)),be=Z.mutations.map(Ze=>S0(B.ie,Ze));return{userId:z,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:de,mutations:be}}(this.yt,this.userId,y),T=[];let A=new Nn((B,z)=>Gt(B.canonicalString(),z.canonicalString()));for(const B of i){const z=SN(this.userId,B.key.path,f);A=A.add(B.key.path.popLast()),T.push(d.put(w)),T.push(u.put(z,iF))}return A.forEach(B=>{T.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),ce.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return yh(e).get(t).next(r=>r?(lt(r.userId===this.userId),Mp(this.yt,r)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return yh(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(lt(f.batchId>=r),u=Mp(this.yt,f)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yh(e).W("userMutationsIndex",t).next(r=>r.map(i=>Mp(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=VC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return py(e).Z({range:i},(d,f,y)=>{const[w,T,A]=d,B=zu(T);if(w===this.userId&&t.path.isEqual(B))return yh(e).get(A).next(z=>{if(!z)throw rt();lt(z.userId===this.userId),u.push(Mp(this.yt,z))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Gt);const i=[];return t.forEach(u=>{const d=VC(this.userId,u.path),f=IDBKeyRange.lowerBound(d),y=py(e).Z({range:f},(w,T,A)=>{const[B,z,Z]=w,de=zu(z);B===this.userId&&u.path.isEqual(de)?r=r.add(Z):A.done()});i.push(y)}),ce.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=VC(this.userId,r),d=IDBKeyRange.lowerBound(u);let f=new Nn(Gt);return py(e).Z({range:d},(y,w,T)=>{const[A,B,z]=y,Z=zu(B);A===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(f=f.add(z)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(yh(e).get(u).next(d=>{if(null===d)throw rt();lt(d.userId===this.userId),r.push(Mp(this.yt,d))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zN(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return py(e).Z({range:r},(u,d,f)=>{if(u[0]===this.userId){const y=zu(u[1]);i.push(y)}else f.done()}).next(()=>{lt(0===i.length)})})}containsKey(e,t){return ZN(e,this.userId,t)}Rn(e){return WN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZN(n,e,t){const r=VC(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return py(n).Z({range:u,X:!0},(f,y,w)=>{const[T,A,B]=f;T===e&&A===i&&(d=!0),w.done()}).next(()=>d)}function yh(n){return Ci(n,"mutations")}function py(n){return Ci(n,"documentMutations")}function WN(n){return Ci(n,"mutationQueues")}class Rp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rp(0)}static vn(){return new Rp(-1)}}class NF{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Rp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>It.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return gy(e).Z((d,f)=>{const y=A0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>ce.waitFor(u)).next(()=>i)}forEachTarget(e,t){return gy(e).Z((r,i)=>{const u=A0(i);t(u)})}Vn(e){return KN(e).get("targetGlobalKey").next(t=>(lt(null!==t),t))}Sn(e,t){return KN(e).put("targetGlobalKey",t)}Dn(e,t){return gy(e).put(ON(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Cp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return gy(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=A0(f);y0(t,w.target)&&(u=w,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=_h(e);return t.forEach(d=>{const f=Es(d.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=_h(e);return ce.forEach(t,u=>{const d=Es(u.path);return ce.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=_h(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=_h(e);let u=tn();return i.Z({range:r,X:!0},(d,f,y)=>{const w=zu(d[1]),T=new ze(w);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Es(t.path),i=IDBKeyRange.bound([r],[vC(r)],!1,!0);let u=0;return _h(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}ne(e,t){return gy(e).get(t).next(r=>r?A0(r):null)}}function gy(n){return Ci(n,"targets")}function KN(n){return Ci(n,"targetGlobal")}function _h(n){return Ci(n,"targetDocuments")}function YN([n,e],[t,r]){const i=Gt(n,t);return 0===i?Gt(e,r):i}class RF{constructor(e){this.xn=e,this.buffer=new Nn(YN),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){$a(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield hc(r)}yield t.Fn(3e5)}))}}class PF{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Hs.at);const r=new RF(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(GN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GN):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,u,d,f,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,d=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(w=Date.now(),u0()<=Ru.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${u} targets in `+(y-f)+`ms\n\tRemoved ${A} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:A})))}}class kF{constructor(e,t){this.db=e,this.garbageCollector=new PF(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return zC(e,r)}removeReference(e,t,r){return zC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zC(e,t)}Gn(e,t){return function(r,i){let u=!1;return WN(r).tt(d=>ZN(r,d,i).next(f=>(f&&(u=!0),ce.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(w=>{if(!w)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,It.min()),_h(e).delete([0,Es(d.path)])))});i.push(y)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zC(e,t)}Kn(e,t){const r=_h(e);let i,u=Hs.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(u!==Hs.at&&t(new ze(zu(i)),u),u=w,i=y):u=Hs.at}).next(()=>{u!==Hs.at&&t(new ze(zu(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zC(n,e){return _h(n).put((r=n.currentSequenceNumber,{targetId:0,path:Es(e.path),sequenceNumber:r}));var r}class QN{constructor(){this.changes=new ph(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FF{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Op(e).put(r)}removeEntry(e,t,r){return Op(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],UC(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Kn.newInvalidDocument(t);return Op(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(O0(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Kn.newInvalidDocument(t)};return Op(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(O0(t))},(i,u)=>{r={document:this.jn(t,u),size:qC(u)}}).next(()=>r)}getEntries(e,t){let r=Gs();return this.zn(e,t,(i,u)=>{const d=this.jn(i,u);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Gs(),i=new Rr(ze.comparator);return this.zn(e,t,(u,d)=>{const f=this.jn(u,d);r=r.insert(u,f),i=i.insert(u,qC(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new Nn(tR);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(O0(i.first()),O0(i.last())),d=i.getIterator();let f=d.getNext();return Op(e).Z({index:"documentKeyIndex",range:u},(y,w,T)=>{const A=ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&tR(f,A)<0;)r(f,null),f=d.getNext();f&&f.isEqual(A)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?T.j(O0(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),UC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Op(e).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let f=Gs();for(const y of d){const w=this.jn(ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=Gs();const d=eR(t,r),f=eR(t,ji.max());return Op(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,T)=>{const A=this.jn(ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(A.key,A),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new LF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XN(e).get("remoteDocumentGlobalKey").next(t=>(lt(!!t),t))}Qn(e,t){return XN(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function wF(n,e){let t;if(e.document)t=vN(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=Ap(e.noDocument.readTime);t=Kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=ze.fromSegments(e.unknownDocument.path),i=Ap(e.unknownDocument.version);t=Kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Wn(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Kn.newInvalidDocument(e)}}function JN(n){return new FF(n)}class LF extends QN{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new ph(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nn((u,d)=>Gt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),d.isValidDocument()){const y=RN(this.Yn.yt,d);i=i.add(u.path.popLast());const w=qC(y);r+=w-f.size,t.push(this.Yn.addEntry(e,u,y))}else if(r-=f.size,this.trackRemovals){const y=RN(this.Yn.yt,d.convertToNoDocument(It.min()));t.push(this.Yn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function XN(n){return Ci(n,"remoteDocumentGlobal")}function Op(n){return Ci(n,"remoteDocumentsV14")}function O0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eR(n,e){const t=e.documentKey.path.toArray();return[n,UC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Gt(t[u],r[u]),i)return i;return i=Gt(t.length,r.length),i||(i=Gt(t[t.length-2],r[r.length-2]),i||Gt(t[t.length-1],r[r.length-1]))}class VF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&E0(r.mutation,i,qs.empty(),Wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tn()){const i=qu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=w0();return u.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=qu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let u=Gs();const d=b0(),f=b0();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof yc)?u=u.insert(w.key,w):void 0!==T?(d.set(w.key,T.mutation.getFieldMask()),E0(T.mutation,w,T.mutation.getFieldMask(),Wn.now())):d.set(w.key,qs.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((w,T)=>d.set(w,T)),t.forEach((w,T)=>{var A;return f.set(w,new VF(T,null!==(A=d.get(w))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=b0();let i=new Rr((d,f)=>d-f),u=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||qs.empty();T=f.applyToLocalView(w,T),r.set(y,T);const A=(i.get(f.batchId)||tn()).add(y);i=i.insert(f.batchId,A)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,T=y.value,A=uN();T.forEach(B=>{if(!u.has(B)){const z=Xx(t.get(B),r.get(B));null!==z&&A.set(B,z),u=u.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,A))}return ce.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ce.resolve(qu());let f=-1,y=u;return d.next(w=>ce.forEach(w,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(T)?ce.resolve():this.remoteDocumentCache.getEntry(e,T).next(B=>{y=y.insert(T,B)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,y,w,tn())).next(T=>({batchId:f,changes:aN(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=w0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=w0();return this.indexManager.getCollectionParents(e,i).next(d=>ce.forEach(d,f=>{const y=(w=t,T=f.child(i),new mc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,A)=>{u=u.insert(T,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Kn.newInvalidDocument(w)))});let d=w0();return i.forEach((f,y)=>{const w=u.get(f);void 0!==w&&E0(w.mutation,y,qs.empty(),Wn.now()),US(t,y)&&(d=d.insert(f,y))}),d})}}class UF{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:KS(r.bundledQuery),readTime:jr(r.readTime)}),ce.resolve();var r}}class BF{constructor(){this.overlays=new Rr(ze.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qu();return ce.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.oe(e,t,u)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=qu(),u=t.length+1,d=new ze(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Rr((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=u.get(w.largestBatchId);null===T&&(T=qu(),u=u.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=qu(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=i)););return ce.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WS(t,r));let u=this.es.get(t);void 0===u&&(u=tn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class nA{constructor(){this.ns=new Nn(Ii.ss),this.rs=new Nn(Ii.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ii(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ii(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ze(new cn([])),r=new Ii(t,e),i=new Ii(t,e+1),u=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new cn([])),r=new Ii(t,e),i=new Ii(t,e+1);let u=tn();return this.rs.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ii(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ii{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Gt(e._s,t._s)}static os(e,t){return Gt(e._s,t._s)||ze.comparator(e.key,t.key)}}class jF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Nn(Ii.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const d=new zS(u,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new Ii(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);u.push(f)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Gt);return t.forEach(i=>{const u=new Ii(i,0),d=new Ii(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],f=>{r=r.add(f._s)})}),ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;ze.isDocumentKey(u)||(u=u.child(""));const d=new Ii(new ze(u),0);let f=new Nn(Gt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y._s)),!0)},d),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){lt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ce.forEach(t.mutations,i=>{const u=new Ii(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ii(t,0),i=this.gs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $F{constructor(e){this.Es=e,this.docs=new Rr(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Gs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Kn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=Gs();const u=new ze(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||dh(ey(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}As(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HF(this)}getSize(e){return ce.resolve(this.size)}}class HF extends QN{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qF{constructor(e){this.persistence=e,this.Rs=new ph(t=>Cp(t),y0),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nA,this.targetCount=0,this.vs=Rp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(u).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class rR{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Hs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qF(this),this.indexManager=new MF,this.remoteDocumentCache=new $F(r=>this.referenceDelegate.xs(r)),this.yt=new NN(t),this.Ns=new UF(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new jF(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new GF(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class GF extends DS{constructor(e){super(),this.currentSequenceNumber=e}}class ZC{constructor(e){this.persistence=e,this.Fs=new nA,this.$s=null}static Bs(e){return new ZC(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,r=>{const i=ze.fromPath(r);return this.qs(e,i).next(u=>{u||t.removeEntry(i,It.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class zF{constructor(e){this.yt=e}$(e,t,r,i){const u=new ty("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DN,{unique:!0}),f.createObjectStore("documentMutations"),iR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),iR(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DN,{unique:!0});const T=y.store("mutations"),A=w.map(B=>T.put(B));return ce.waitFor(A)})}(e,u))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Us(u))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(u))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(u))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:mF});y.createIndex("collectionPathOverlayIndex",yF,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",_F,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:sF});y.createIndex("documentKeyIndex",oF),y.createIndex("collectionGroupIndex",aF)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:hF}).createIndex("sequenceNumberIndex",fF,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:pF}).createIndex("documentKeyIndex",gF,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=qC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ce.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>ce.forEach(f,y=>{lt(y.userId===u.userId);const w=Mp(this.yt,y);return zN(e,u.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((d,f)=>{const y=new cn(d),w=[0,Es(y)];u.push(t.get(w).next(T=>T?ce.resolve():t.put({targetId:0,path:Es(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:dF});const r=t.store("collectionParents"),i=new tA,u=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:Es(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new cn(d);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],w)=>{const T=zu(f);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=A0(i),d=ON(this.yt,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new ze(cn.fromString(w.document.name).popFirst(5)):w.noDocument?ze.fromSegments(w.noDocument.path):w.unknownDocument?ze.fromSegments(w.unknownDocument.path):rt()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(T))}).next(()=>ce.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=JN(this.yt),u=new rR(ZC.Bs,this.yt.ie);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var w;let T=null!==(w=f.get(y.userId))&&void 0!==w?w:tn();Mp(this.yt,y).keys().forEach(A=>T=T.add(A)),f.set(y.userId,T)}),ce.forEach(f,(y,w)=>{const T=new Yr(w),A=BC.re(this.yt,T),B=u.getIndexManager(T),z=GC.re(T,this.yt,B,u.referenceDelegate);return new nR(i,z,A,B).recalculateAndSaveOverlaysForDocumentKeys(new GS(t,Hs.at),y).next()})})}}function iR(n){n.createObjectStore("targetDocuments",{keyPath:lF}).createIndex("documentTargetsIndex",cF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uF,{unique:!0}),n.createObjectStore("targetGlobal")}const rA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iA{constructor(e,t,r,i,u,d,f,y,w,T,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=f,this.Js=w,this.Ys=T,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=B=>Promise.resolve(),!iA.C())throw new Oe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kF(this,i),this.ii=t+"main",this.yt=new NN(y),this.ri=new co(this.ii,this.Xs,new zF(this.yt)),this.Cs=new NF(this.referenceDelegate,this.yt),this.remoteDocumentCache=JN(this.yt),this.Ns=new bF,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,rA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Hs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>WC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if($a(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return P0(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return WC(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ci(r,"clientMetadata");return i.W().next(u=>{const d=e.Ii(u,18e5),f=u.filter(y=>-1===d.indexOf(y));return ce.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):P0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,rA);return!1}}return!(!this.networkEnabled||!this.inForeground)||WC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new GS(t,Hs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>WC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return GC.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xF(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return BC.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?EF:14===d?xN:13===d?MN:12===d?vF:11===d?AN:void rt();var d;let f;return this.ri.runTransaction(e,i,u,y=>(f=new GS(y,this.Ss?this.Ss.next():Hs.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(pe.FAILED_PRECONDITION,TS);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return P0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(pe.FAILED_PRECONDITION,rA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return P0(e).put("owner",t)}static C(){return co.C()}_i(e){const t=P0(e);return t.get("owner").next(r=>this.mi(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(or(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,un.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function P0(n){return Ci(n,"owner")}function WC(n){return Ci(n,"clientMetadata")}function sA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class oA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=tn(),i=tn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new oA(e,t.fromCache,r,i)}}class sR{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(jx(t))return ce.resolve(null);let r=vs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=RC(t,null,"F"),r=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=tn(...u);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,f);return this.$i(t,w,d,y.readTime)?this.ki(e,RC(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return jx(t)||i.isEqual(It.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,i)?this.Mi(e,t):(u0()<=Ru.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VS(t)),this.Bi(e,d,t,EC(i,-1)))})}Fi(e,t){let r=new Nn(qx(e));return t.forEach((i,u)=>{US(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return u0()<=Ru.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",VS(t)),this.Ni.getDocumentsMatchingQuery(e,t,ji.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class ZF{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Rr(Gt),this.Ui=new ph(u=>Cp(u),y0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function oR(n,e,t,r){return new ZF(n,e,t,r)}function aR(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Ee.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],f=[];let y=tn();for(const w of i){d.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of u){f.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),aA.apply(this,arguments)}function WF(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const T=y.batch,A=T.keys();let B=ce.resolve();return A.forEach(z=>{B=B.next(()=>w.getEntry(f,z)).next(Z=>{const de=y.docVersions.get(z);lt(null!==de),Z.version.compareTo(de)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),w.addEntry(Z)))})}),B.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=tn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uR(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function KF(n,e){const t=We(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((T,A)=>{const B=i.get(A);if(!B)return;f.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,A)));let z=B.withSequenceNumber(u.currentSequenceNumber);var Z,de,be;e.targetMismatches.has(A)?z=z.withResumeToken(Qr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),i=i.insert(A,z),de=z,be=T,(0===(Z=B).resumeToken.approximateByteSize()||de.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,z))});let y=Gs(),w=tn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(lR(u,d,e.documentUpdates).next(T=>{y=T.Wi,w=T.zi})),!r.isEqual(It.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(A=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return ce.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.qi=i,u))}function lR(n,e,t){let r=tn(),i=tn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Gs();return t.forEach((f,y)=>{const w=u.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function YF(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function my(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,ce.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new gh(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function yy(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,Ee.Z)(function*(n,e,t){const r=We(n),i=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!$a(d))throw d;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),uA.apply(this,arguments)}function KC(n,e,t){const r=We(n);let i=It.min(),u=tn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const T=We(f),A=T.Ui.get(w);return void 0!==A?ce.resolve(T.qi.get(A)):T.Cs.getTargetData(y,w)}(r,d,vs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{u=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:It.min(),t?u:tn())).next(f=>(hR(r,Hx(e),f),{documents:f,Hi:u})))}function cR(n,e){const t=We(n),r=We(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(d=>d?d.target:null))}function dR(n,e){const t=We(n),r=t.Ki.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,EC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hR(t,e,i),i))}function hR(n,e,t){let r=n.Ki.get(e)||It.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function lA(){return lA=(0,Ee.Z)(function*(n,e,t,r){const i=We(n);let u=tn(),d=Gs();for(const w of t){const T=e.Ji(w.metadata.name);w.document&&(u=u.add(T));const A=e.Yi(w);A.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(T,A)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield my(i,(w=r,vs(oy(cn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>lR(w,f,d).next(T=>(f.apply(w),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.Wi,T.zi)).next(()=>T.Wi)))}),lA.apply(this,arguments)}function JF(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Ee.Z)(function*(n,e,t=tn()){const r=yield my(n,vs(KS(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=jr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(Qr.EMPTY_BYTE_STRING,d);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(u,f).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),cA.apply(this,arguments)}function fR(n,e){return`firestore_clients_${n}_${e}`}function pR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dA(n,e){return`firestore_targets_${n}_${e}`}class YC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Oe(i.error.code,i.error.message))),d?new YC(e,t,i.state,u):(or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class k0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Oe(r.error.code,r.error.message))),u?new k0(e,r.state,i):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class QC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=FC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=SC(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new QC(e,u):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hA(t.clientId,t.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fA{constructor(){this.activeTargetIds=FC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pA{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rr(Gt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=fR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new fA),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(fR(e.persistenceKey,i));if(u){const d=QC.Zi(i,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dA(this.persistenceKey,e));if(r){const i=k0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let d=Hs.at;if(null!=u)try{const f=JSON.parse(u);lt("number"==typeof f),d=f}catch(f){or("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Hs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new YC(this.currentUser,e,t,r),u=pR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=pR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=dA(this.persistenceKey,e),u=new k0(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return QC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return YC.Zi(new Yr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return k0.Zi(i,t)}yr(e){return hA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),d=[],f=[];return u.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{u.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=FC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gR{constructor(){this.Lr=new fA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new fA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XF{Ur(e){}shutdown(){}}class mR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class nL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const d=this.ho(e,t);Ue("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,u),this.fo(e,d,f,r).then(y=>(Ue("RestConnection","Received: ",y),y),y=>{throw lh("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,u,d){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${eL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,d)=>{const f=new a0;f.setWithCredentials(!0),f.listenOnce(gC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case o0.NO_ERROR:const w=f.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(w)),u(w);break;case o0.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),d(new Oe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case o0.HTTP_ERROR:const T=f.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const B=A?.error;if(B&&B.status&&B.message){const z=function(Z){const de=Z.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(de)>=0?de:pe.UNKNOWN}(B.status);d(new Oe(z,B.message))}else d(new Oe(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(pe.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fC(),d=pC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Bu({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Ue("Connection","Creating WebChannel: "+y,f);const w=u.createWebChannel(y,f);let T=!1,A=!1;const B=new tL({Hr:Z=>{A?Ue("Connection","Not sending because WebChannel is closed:",Z):(T||(Ue("Connection","Opening WebChannel transport."),w.open(),T=!0),Ue("Connection","WebChannel sending:",Z),w.send(Z))},Jr:()=>w.close()}),z=(Z,de,be)=>{Z.listen(de,Ze=>{try{be(Ze)}catch(ct){setTimeout(()=>{throw ct},0)}})};return z(w,yp.EventType.OPEN,()=>{A||Ue("Connection","WebChannel transport opened.")}),z(w,yp.EventType.CLOSE,()=>{A||(A=!0,Ue("Connection","WebChannel transport closed"),B.io())}),z(w,yp.EventType.ERROR,Z=>{A||(A=!0,lh("Connection","WebChannel transport errored:",Z),B.io(new Oe(pe.UNAVAILABLE,"The operation could not be completed")))}),z(w,yp.EventType.MESSAGE,Z=>{var de;if(!A){const be=Z.data[0];lt(!!be);const ct=be.error||(null===(de=be[0])||void 0===de?void 0:de.error);if(ct){Ue("Connection","WebChannel received error:",ct);const mt=ct.status;let ut=function(Lt){const dn=Jr[Lt];if(void 0!==dn)return sN(dn)}(mt),Rt=ct.message;void 0===ut&&(ut=pe.INTERNAL,Rt="Unknown error status: "+mt+" with message "+ct.message),A=!0,B.io(new Oe(ut,Rt)),w.close()}else Ue("Connection","WebChannel received:",be),B.ro(be)}}),z(d,bS.STAT_EVENT,Z=>{Z.stat===Wm.PROXY?Ue("Connection","Detected buffering proxy"):Z.stat===Wm.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.so()},0),B}}function yR(){return typeof window<"u"?window:null}function JC(){return typeof document<"u"?document:null}function F0(n){return new Zk(n,!0)}class gA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class _R{constructor(e,t,r,i,u,d,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new gA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Oe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends _R{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Yk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:rt(),i=e.targetChange.targetIds||[],u=function(y,w){return y.wt?(lt(void 0===w||"string"==typeof w),Qr.fromBase64String(w||"")):(lt(void 0===w||w instanceof Uint8Array),Qr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const w=void 0===y.code?pe.UNKNOWN:sN(y.code);return new Oe(w,y.message||"")}(d);t=new cN(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Gu(n,r.document.name),u=jr(r.document.updateTime),d=r.document.createTime?jr(r.document.createTime):It.min(),f=new Hi({mapValue:{fields:r.document.fields}}),y=Kn.newFoundDocument(i,u,d,f);t=new LC(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Gu(n,r.document),u=r.readTime?jr(r.readTime):It.min(),d=Kn.newNoDocument(i,u);t=new LC([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Gu(n,r.document);t=new LC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new Vk(r.count||0);t=new lN(r.targetId,u)}}var y;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return It.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?jr(u.readTime):It.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=D0(this.yt),t.addTarget=function(i,u){let d;const f=u.target;return d=MC(f)?{documents:EN(i,f)}:{query:qS(i,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=pN(i,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(d.readTime=dy(i,u.snapshotVersion.toTimestamp())),d}(this.yt,e);const r=function Jk(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=D0(this.yt),t.removeTarget=e,this.Bo(t)}}class iL extends _R{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Qk(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,i){let u=jr(r.updateTime?r.updateTime:i);return u.isEqual(It.min())&&(u=jr(i)),new kk(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Zo(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=D0(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>S0(this.yt,r))};this.Bo(t)}}class sL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection._o(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(pe.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class aL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(or(t),this.ou=!1):Ue("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class uL{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var y;_c(d)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ee.Z)(function*(w){const T=We(w);T._u.add(4),yield _y(T),T.gu.set("Unknown"),T._u.delete(4),yield L0(T)}),function(w){return y.apply(this,arguments)})(d))}))}),this.gu=new aL(r,i)}}function L0(n){return yA.apply(this,arguments)}function yA(){return yA=(0,Ee.Z)(function*(n){if(_c(n))for(const e of n.wu)yield e(!0)}),yA.apply(this,arguments)}function _y(n){return _A.apply(this,arguments)}function _A(){return _A=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),_A.apply(this,arguments)}function XC(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),wA(t)?EA(t):Ey(t).ko()&&vA(t,e))}function V0(n,e){const t=We(n),r=Ey(t);t.du.delete(e),r.ko()&&vR(t,e),0===t.du.size&&(r.ko()?r.Fo():_c(t)&&t.gu.set("Unknown"))}function vA(n,e){n.yu.Ot(e.targetId),Ey(n).zo(e)}function vR(n,e){n.yu.Ot(e),Ey(n).Ho(e)}function EA(n){n.yu=new Hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ey(n).start(),n.gu.uu()}function wA(n){return _c(n)&&!Ey(n).No()&&n.du.size>0}function _c(n){return 0===We(n)._u.size}function ER(n){n.yu=void 0}function lL(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Ee.Z)(function*(n){n.du.forEach((e,t)=>{vA(n,e)})}),bA.apply(this,arguments)}function cL(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Ee.Z)(function*(n,e){ER(n),wA(n)?(n.gu.hu(e),EA(n)):n.gu.set("Unknown")}),CA.apply(this,arguments)}function dL(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof cN&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,u){const d=u.cause;for(const f of u.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.du.delete(f),i.yu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eI(n,r)}else if(e instanceof LC?n.yu.Kt(e):e instanceof lN?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(It.min()))try{const r=yield uR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.yu.Zt(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.du.get(y);w&&i.du.set(y,w.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(f=>{const y=i.du.get(f);if(!y)return;i.du.set(f,y.withResumeToken(Qr.EMPTY_BYTE_STRING,y.snapshotVersion)),vR(i,f);const w=new gh(y.target,f,1,y.sequenceNumber);vA(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield eI(n,r)}var r}),IA.apply(this,arguments)}function eI(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,Ee.Z)(function*(n,e,t){if(!$a(e))throw e;n._u.add(1),yield _y(n),n.gu.set("Offline"),t||(t=()=>uR(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield L0(n)}))}),TA.apply(this,arguments)}function wR(n,e){return e().catch(t=>eI(n,t,e))}function vy(n){return DA.apply(this,arguments)}function DA(){return DA=(0,Ee.Z)(function*(n){const e=We(n),t=vh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hL(e);)try{const i=yield YF(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,fL(e,i)}catch(i){yield eI(e,i)}bR(e)&&CR(e)}),DA.apply(this,arguments)}function hL(n){return _c(n)&&n.fu.length<10}function fL(n,e){n.fu.push(e);const t=vh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function bR(n){return _c(n)&&!vh(n).No()&&n.fu.length>0}function CR(n){vh(n).start()}function pL(n){return SA.apply(this,arguments)}function SA(){return SA=(0,Ee.Z)(function*(n){vh(n).eu()}),SA.apply(this,arguments)}function gL(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Ee.Z)(function*(n){const e=vh(n);for(const t of n.fu)e.Xo(t.mutations)}),AA.apply(this,arguments)}function mL(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,Ee.Z)(function*(n,e,t){const r=n.fu.shift(),i=ZS.from(r,e,t);yield wR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vy(n)}),MA.apply(this,arguments)}function yL(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,Ee.Z)(function*(n,e){var t;e&&vh(n).Yo&&(yield(t=(0,Ee.Z)(function*(r,i){if(iN(u=i.code)&&u!==pe.ABORTED){const d=r.fu.shift();vh(r).Mo(),yield wR(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield vy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),bR(n)&&CR(n)}),xA.apply(this,arguments)}function IR(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ee.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=_c(t);t._u.add(3),yield _y(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield L0(t)}),NA.apply(this,arguments)}function RA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Ee.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield L0(t)):e||(t._u.add(2),yield _y(t),t.gu.set("Unknown"))}),OA.apply(this,arguments)}function Ey(n){return n.pu||(n.pu=function(e,t,r){const i=We(e);return i.su(),new rL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:lL.bind(null,n),Zr:cL.bind(null,n),Wo:dL.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Mo(),wA(n)?EA(n):n.gu.set("Unknown")):(yield n.pu.stop(),ER(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function vh(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.su(),new iL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:pL.bind(null,n),Zr:yL.bind(null,n),tu:gL.bind(null,n),Zo:mL.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Iu.Mo(),yield vy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class PA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,f=new PA(e,t,d,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(or("AsyncQueue",`${e}: ${n}`),$a(n))return new Oe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class by{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=w0(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new by(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof by)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new by;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TR{constructor(){this.Tu=new Rr(ze.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cy{constructor(e,t,r,i,u,d,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,u){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Cy(e,t,by.emptySet(t),d,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _L{constructor(){this.Au=void 0,this.listeners=[]}}class vL{constructor(){this.queries=new ph(e=>$x(e),_0),this.onlineState="Unknown",this.Ru=new Set}}function kA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new _L),i)try{u.Au=yield t.onListen(r)}catch(d){const f=wy(d,`Initialization of query '${VS(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&UA(t)}),FA.apply(this,arguments)}function LA(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),VA.apply(this,arguments)}function EL(n,e){const t=We(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Pu(i)&&(r=!0);d.Au=i}}r&&UA(t)}function wL(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function UA(n){n.Ru.forEach(e=>{e.next()})}class BA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Cy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class bL{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class DR{constructor(e){this.yt=e}Ji(e){return Gu(this.yt,e)}Yi(e){return e.metadata.exists?vN(this.yt,e.document,!1):Kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return jr(e)}}class CL{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new DR(this.yt);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||tn()).add(u);t.set(d,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function QF(n,e,t,r){return lA.apply(this,arguments)}(e.localStore,new DR(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield JF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function SR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class xR{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=tn(),this.mutatedKeys=tn(),this.Gu=qx(e),this.Qu=new by(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new TR,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const B=i.get(T),z=US(this.query,A)?A:null,Z=!!B&&this.mutatedKeys.has(B.key),de=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let be=!1;B&&z?B.data.isEqual(z.data)?Z!==de&&(r.track({type:3,doc:z}),be=!0):this.Hu(B,z)||(r.track({type:2,doc:z}),be=!0,(y&&this.Gu(z,y)>0||w&&this.Gu(z,w)<0)&&(f=!0)):!B&&z?(r.track({type:0,doc:z}),be=!0):B&&!z&&(r.track({type:1,doc:B}),be=!0,(y||w)&&(f=!0)),be&&(z?(d=d.add(z),u=de?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,$i:f,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((w,T)=>function(A,B){const z=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return z(A)-z(B)}(w.type,T.type)||this.Gu(w.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.Uu;return this.Uu=f,0!==u.length||y?{snapshot:new Cy(this.query,e.Qu,i,u,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=tn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new MR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new AR(r))}),t}tc(e){this.qu=e.Hi,this.Ku=tn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Cy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class IL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TL{constructor(e){this.key=e,this.nc=!1}}class DL{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new ph(f=>$x(f),_0),this.rc=new Map,this.oc=new Set,this.uc=new Rr(ze.comparator),this.cc=new Map,this.ac=new nA,this.hc={},this.lc=new Map,this.fc=Rp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function SL(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ee.Z)(function*(n,e){const t=cM(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const d=yield my(t.localStore,vs(e));t.isPrimaryClient&&XC(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield $A(t,e,r,"current"===f,d.resumeToken)}return i}),jA.apply(this,arguments)}function $A(n,e,t,r,i){return HA.apply(this,arguments)}function HA(){return HA=(0,Ee.Z)(function*(n,e,t,r,i){n._c=(A,B,z)=>{return(Z=(0,Ee.Z)(function*(de,be,Ze,ct){let mt=be.view.Wu(Ze);mt.$i&&(mt=yield KC(de.localStore,be.query,!1).then(({documents:Lt})=>be.view.Wu(Lt,mt)));const ut=ct&&ct.targetChanges.get(be.targetId),Rt=be.view.applyChanges(mt,de.isPrimaryClient,ut);return XA(de,be.targetId,Rt.Xu),Rt.snapshot}),function(de,be,Ze,ct){return Z.apply(this,arguments)})(n,A,B,z);var Z};const u=yield KC(n.localStore,e,!0),d=new xR(e,u.Hi),f=d.Wu(u.documents),y=I0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,y);XA(n,t,w.Xu);const T=new IL(e,t,d);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),HA.apply(this,arguments)}function AL(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Ee.Z)(function*(n,e){const t=We(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!_0(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),V0(t.remoteStore,r.targetId),Iy(t,r.targetId)}).catch(hc))):(Iy(t,r.targetId),yield yy(t.localStore,r.targetId,!0))}),qA.apply(this,arguments)}function GA(){return GA=(0,Ee.Z)(function*(n,e,t){const r=dM(n);try{const i=yield function(u,d){const f=We(u),y=Wn.now(),w=d.reduce((B,z)=>B.add(z.key),tn());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",B=>{let z=Gs(),Z=tn();return f.Gi.getEntries(B,w).next(de=>{z=de,z.forEach((be,Ze)=>{Ze.isValidDocument()||(Z=Z.add(be))})}).next(()=>f.localDocuments.getOverlayedDocuments(B,z)).next(de=>{T=de;const be=[];for(const Ze of d){const ct=Lk(Ze,T.get(Ze.key).overlayedDocument);null!=ct&&be.push(new yc(Ze.key,ct,Lx(ct.value.mapValue),ur.exists(!0)))}return f.mutationQueue.addMutationBatch(B,y,be,d)}).next(de=>{A=de;const be=de.applyToLocalDocumentSet(T,Z);return f.documentOverlayCache.saveOverlays(B,de.batchId,be)})}).then(()=>({batchId:A.batchId,changes:aN(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let y=u.hc[u.currentUser.toKey()];y||(y=new Rr(Gt)),y=y.insert(d,f),u.hc[u.currentUser.toKey()]=y}(r,i.batchId,t),yield vc(r,i.changes),yield vy(r.remoteStore)}catch(i){const u=wy(i,"Failed to persist write");t.reject(u)}}),GA.apply(this,arguments)}function NR(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Ee.Z)(function*(n,e){const t=We(n);try{const r=yield KF(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.cc.get(u);d&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?lt(d.nc):i.removedDocuments.size>0&&(lt(d.nc),d.nc=!1))}),yield vc(t,r,e)}catch(r){yield hc(r)}}),zA.apply(this,arguments)}function RR(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,d)=>{const f=d.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(u,d){const f=We(u);f.onlineState=d;let y=!1;f.queries.forEach((w,T)=>{for(const A of T.listeners)A.bu(d)&&(y=!0)}),y&&UA(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xL(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ee.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let d=new Rr(ze.comparator);d=d.insert(u,Kn.newNoDocument(u,It.min()));const f=tn().add(u),y=new C0(It.min(),new Map,new Nn(Gt),d,f);yield NR(r,y),r.uc=r.uc.remove(u),r.cc.delete(e),eM(r)}else yield yy(r.localStore,e,!1).then(()=>Iy(r,e,t)).catch(hc)}),ZA.apply(this,arguments)}function NL(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield WF(t.localStore,e);JA(t,r,null),QA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vc(t,i)}catch(i){yield hc(i)}}),WA.apply(this,arguments)}function RL(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Ee.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(u,d){const f=We(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(T=>(lt(null!==T),w=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);JA(r,e,t),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vc(r,i)}catch(i){yield hc(i)}}),KA.apply(this,arguments)}function YA(){return YA=(0,Ee.Z)(function*(n,e){const t=We(n);_c(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=We(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=wy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),YA.apply(this,arguments)}function QA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function JA(n,e,t){const r=We(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||OR(n,r)})}function OR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(V0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),eM(n))}function XA(n,e,t){for(const r of t)r instanceof AR?(n.ac.addReference(r.key,e),PL(n,r)):r instanceof MR?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||OR(n,r.key)):rt()}function PL(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.oc.add(r),eM(n))}function eM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ze(cn.fromString(e)),r=n.fc.next();n.cc.set(r,new TL(t)),n.uc=n.uc.insert(t,r),XC(n.remoteStore,new gh(vs(oy(t.path)),r,2,Hs.at))}}function vc(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,Ee.Z)(function*(n,e,t){const r=We(n),i=[],u=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=oA.Ci(y.targetId,w);u.push(T)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(f=(0,Ee.Z)(function*(y,w){const T=We(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ce.forEach(w,B=>ce.forEach(B.Si,z=>T.persistence.referenceDelegate.addReference(A,B.targetId,z)).next(()=>ce.forEach(B.Di,z=>T.persistence.referenceDelegate.removeReference(A,B.targetId,z)))))}catch(A){if(!$a(A))throw A;Ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const B=A.targetId;if(!A.fromCache){const z=T.qi.get(B),de=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);T.qi=T.qi.insert(B,de)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,u))}),tM.apply(this,arguments)}function kL(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Ee.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield aR(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new Oe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vc(t,r.ji)}var i}),nM.apply(this,arguments)}function FL(n,e){const t=We(n),r=t.cc.get(e);if(r&&r.nc)return tn().add(r.key);{let i=tn();const u=t.rc.get(e);if(!u)return i;for(const d of u){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function LL(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,Ee.Z)(function*(n,e){const t=We(n),r=yield KC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&XA(t,e.targetId,i.Xu),i}),rM.apply(this,arguments)}function VL(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,Ee.Z)(function*(n,e){const t=We(n);return dR(t.localStore,e).then(r=>vc(t,r))}),iM.apply(this,arguments)}function UL(n,e,t,r){return sM.apply(this,arguments)}function sM(){return sM=(0,Ee.Z)(function*(n,e,t,r){const i=We(n),u=yield function(d,f){const y=We(d),w=We(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Tn(T,f).next(A=>A?y.localDocuments.getDocuments(T,A):ce.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield vy(i.remoteStore):"acknowledged"===t||"rejected"===t?(JA(i,e,r||null),QA(i,e),f=e,We(We(i.localStore).mutationQueue).An(f)):rt(),yield vc(i,u)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),sM.apply(this,arguments)}function oM(){return oM=(0,Ee.Z)(function*(n,e){const t=We(n);if(cM(t),dM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PR(t,r.toArray());t.dc=!0,yield RA(t.remoteStore,!0);for(const u of i)XC(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Iy(t,d),yy(t.localStore,d,!0))),V0(t.remoteStore,d)}),yield i,yield PR(t,r),function(u){const d=We(u);d.cc.forEach((f,y)=>{V0(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Rr(ze.comparator)}(t),t.dc=!1,yield RA(t.remoteStore,!1)}}),oM.apply(this,arguments)}function PR(n,e,t){return aM.apply(this,arguments)}function aM(){return aM=(0,Ee.Z)(function*(n,e,t){const r=We(n),i=[],u=[];for(const d of e){let f;const y=r.rc.get(d);if(y&&0!==y.length){f=yield my(r.localStore,vs(y[0]));for(const w of y){const T=r.ic.get(w),A=yield LL(r,T);A.snapshot&&u.push(A.snapshot)}}else{const w=yield cR(r.localStore,d);f=yield my(r.localStore,w),yield $A(r,kR(w),d,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(u),i}),aM.apply(this,arguments)}function kR(n){return Bx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jL(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function $L(n,e,t,r){return uM.apply(this,arguments)}function uM(){return uM=(0,Ee.Z)(function*(n,e,t,r){const i=We(n);if(i.dc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield dR(i.localStore,Hx(u[0])),f=C0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Qr.EMPTY_BYTE_STRING);yield vc(i,d,f);break}case"rejected":yield yy(i.localStore,e,!0),Iy(i,e,r);break;default:rt()}}),uM.apply(this,arguments)}function HL(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,Ee.Z)(function*(n,e,t){const r=cM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const u=yield cR(r.localStore,i),d=yield my(r.localStore,u);yield $A(r,kR(u),d.targetId,!1,d.resumeToken),XC(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield yy(r.localStore,i,!1).then(()=>{V0(r.remoteStore,i),Iy(r,i)}).catch(hc))}}),lM.apply(this,arguments)}function cM(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xL.bind(null,e),e.sc.Wo=EL.bind(null,e.eventManager),e.sc.wc=wL.bind(null,e.eventManager),e}function dM(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class FR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.yt=F0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return oR(this.persistence,new sR,e.initialUser,this.yt)}yc(e){return new rR(ZC.Bs,this.yt)}gc(e){return new gR}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LR extends FR{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield dM(r.Ac.syncEngine),yield vy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return oR(this.persistence,new sR,e.initialUser,this.yt)}Tc(e,t){return new OF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new p0(t,this.persistence);return new IC(e.asyncQueue,r)}yc(e){const t=sA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new iA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,yR(),JC(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new gR}}class GL extends LR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof pA&&(r.sharedClientState.syncEngine={Fr:UL.bind(null,i),$r:$L.bind(null,i),Br:HL.bind(null,i),vi:jL.bind(null,i),Mr:VL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Ee.Z)(function*(d){yield function BL(n,e){return oM.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=yR();if(!pA.C(t))throw new Oe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hM{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,r.syncEngine),yield RA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vL}createDatastore(e){const t=F0(e.databaseInfo.databaseId),r=new nL(e.databaseInfo);return new sL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>RR(this.syncEngine,f,0),d=mR.C()?new mR:new XF,new uL(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,f,y,w){const T=new DL(r,i,u,d,f,y);return w&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=We(t);Ue("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield _y(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fM(n,e,t){if(!t)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VR(n,e,t,r){if(!0===e&&!0===r)throw new Oe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UR(n){if(!ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BR(n){if(ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tI(n);throw new Oe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jR(n,e){if(e<=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const $R=new Map;class HR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,VR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mC;switch(t.type){case"gapi":return new IS(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$R.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),$R.delete(e),t.terminate())}(this),Promise.resolve()}}function qR(n,e,t,r={}){var i;const u=(n=ln(n,U0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&lh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Yr.MOCK_USER;else{d=(0,un.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Oe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yr(y)}n._authCredentials=new Ym(new l0(d,f))}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Zu extends qi{constructor(e,t,r){super(e,t,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new ze(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function GR(n,e,...t){if(n=(0,un.m9)(n),fM("collection","path",e),n instanceof U0){const r=cn.fromString(e,...t);return BR(r),new Zu(n,null,r)}{if(!(n instanceof Yn||n instanceof Zu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return BR(r),new Zu(n.firestore,null,r)}}function nI(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=c0.R()),fM("doc","path",e),n instanceof U0){const r=cn.fromString(e,...t);return UR(r),new Yn(n,null,new ze(r))}{if(!(n instanceof Yn||n instanceof Zu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return UR(r),new Yn(n.firestore,n instanceof Zu?n.converter:null,new ze(r))}}function zR(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof Yn||n instanceof Zu)&&(e instanceof Yn||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pM(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof qi&&e instanceof qi&&n.firestore===e.firestore&&_0(n._query,e._query)&&n.converter===e.converter}function ZR(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ZL{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Nr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new bL(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(u,d){const f=We(u),y=D0(f.yt)+"/documents",w={documents:d.map(z=>T0(f.yt,z))},T=yield f._o("BatchGetDocuments",y,w,d.length),A=new Map;T.forEach(z=>{const Z=function Kk(n,e){return"found"in e?function(t,r){lt(!!r.found);const i=Gu(t,r.found.name),u=jr(r.found.updateTime),d=r.found.createTime?jr(r.found.createTime):It.min(),f=new Hi({mapValue:{fields:r.found.fields}});return Kn.newFoundDocument(i,u,d,f)}(n,e):"missing"in e?function(t,r){lt(!!r.missing),lt(!!r.readTime);const i=Gu(t,r.missing),u=jr(r.readTime);return Kn.newNoDocument(i,u)}(n,e):rt()}(f.yt,z);A.set(Z.key.toString(),Z)});const B=[];return d.forEach(z=>{const Z=A.get(z.toString());lt(!!Z),B.push(Z)}),B}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=ze.fromPath(i);e.mutations.push(new BS(u,e.precondition(u)))}),yield(r=(0,Ee.Z)(function*(i,u){const d=We(i),f=D0(d.yt)+"/documents",y={writes:u.map(w=>S0(d.yt,w))};yield d.ao("Commit",f,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?ur.exists(!1):ur.updateTime(t):ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Oe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(t)}return ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QL{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.xo=new gA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ee.Z)(function*(){const t=new YL(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!ny(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!iN(t)}return!1}}class JL{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=c0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ee.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ue("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function WR(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(u){r.isEqual(u)||(yield aR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),gM.apply(this,arguments)}function KR(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yM(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>IR(e.remoteStore,u)),n.onlineComponents=e}),mM.apply(this,arguments)}function yM(n){return _M.apply(this,arguments)}function _M(){return _M=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield WR(n,new FR)),n.offlineComponents}),_M.apply(this,arguments)}function iI(n){return vM.apply(this,arguments)}function vM(){return vM=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield KR(n,new hM)),n.onlineComponents}),vM.apply(this,arguments)}function YR(n){return yM(n).then(e=>e.persistence)}function sI(n){return yM(n).then(e=>e.localStore)}function EM(n){return iI(n).then(e=>e.remoteStore)}function wM(n){return iI(n).then(e=>e.syncEngine)}function Ty(n){return bM.apply(this,arguments)}function bM(){return bM=(0,Ee.Z)(function*(n){const e=yield iI(n),t=e.eventManager;return t.onListen=SL.bind(null,e.syncEngine),t.onUnlisten=AL.bind(null,e.syncEngine),t}),bM.apply(this,arguments)}function JR(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,u,d,f,y){const w=new rI({next:A=>{u.enqueueAndForget(()=>LA(i,T));const B=A.docs.has(d);!B&&A.fromCache?y.reject(new Oe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&A.fromCache&&f&&"server"===f.source?y.reject(new Oe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new BA(oy(d.path),w,{includeMetadataChanges:!0,Nu:!0});return kA(i,T)}(yield Ty(n),n.asyncQueue,e,t,r)})),r.promise}function XR(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,u,d,f,y){const w=new rI({next:A=>{u.enqueueAndForget(()=>LA(i,T)),A.fromCache&&"server"===f.source?y.reject(new Oe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new BA(d,w,{includeMetadataChanges:!0,Nu:!0});return kA(i,T)}(yield Ty(n),n.asyncQueue,e,t,r)})),r.promise}class oV{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new gA(this,"async_queue_retry"),this.Wc=()=>{const t=JC();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=JC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=JC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Nr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!$a(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,or("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=PA.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(i),i}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function CM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class aV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends U0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new oV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eO(this),this._firestoreClient.terminate()}}function lV(n,e){const t="object"==typeof n?n:(0,Ba.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ba._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,un.P0)("firestore");u&&qR(i,...u)}return i}function $r(n){return n._firestoreClient||eO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eO(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TC(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new JL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function tO(n,e,t){const r=new Nr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield WR(n,t),yield KR(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===pe.FAILED_PRECONDITION||d.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;lh("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function nO(n){if(n._initialized||n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(Qr.fromBase64String(e))}catch(t){throw new Oe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wu(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pp{constructor(e){this._methodName=e}}class oI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const _V=/^__.*__$/;class vV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ly(e,this.data,t,this.fieldTransforms)}}class rO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class aI{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new aI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(iO(this.sa)&&_V.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class EV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||F0(e)}da(e,t,r,i=!1){return new aI({sa:e,methodName:t,fa:r,path:ar.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function kp(n){const e=n._freezeSettings(),t=F0(n._databaseId);return new EV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uI(n,e,t,r,i,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,i);SM("Data must be an object, but it was:",d,r);const f=aO(r,d);let y,w;if(u.merge)y=new qs(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const B=AM(e,A,t);if(!d.contains(B))throw new Oe(pe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);lO(T,B)||T.push(B)}y=new qs(T),w=d.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,w=d.fieldTransforms;return new vV(new Hi(f),y,w)}class B0 extends Pp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof B0}}function sO(n,e,t){return new aI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class IM extends Pp{_toFieldTransform(e){return new v0(e.path,new ay)}isEqual(e){return e instanceof IM}}class wV extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sO(this,e,!0),r=this._a.map(u=>Fp(u,t)),i=new Tp(r);return new v0(e.path,i)}isEqual(e){return this===e}}class bV extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sO(this,e,!0),r=this._a.map(u=>Fp(u,t)),i=new Dp(r);return new v0(e.path,i)}isEqual(e){return this===e}}class CV extends Pp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new uy(e.yt,Zx(e.yt,this.wa));return new v0(e.path,t)}isEqual(e){return this===e}}function TM(n,e,t,r){const i=n.da(1,e,t);SM("Data must be an object, but it was:",i,r);const u=[],d=Hi.empty();fc(r,(y,w)=>{const T=lI(e,y,t);w=(0,un.m9)(w);const A=i.ca(T);if(w instanceof B0)u.push(T);else{const B=Fp(w,A);null!=B&&(u.push(T),d.set(T,B))}});const f=new qs(u);return new rO(d,f,i.fieldTransforms)}function DM(n,e,t,r,i,u){const d=n.da(1,e,t),f=[AM(e,r,t)],y=[i];if(u.length%2!=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)f.push(AM(e,u[B])),y.push(u[B+1]);const w=[],T=Hi.empty();for(let B=f.length-1;B>=0;--B)if(!lO(w,f[B])){const z=f[B];let Z=y[B];Z=(0,un.m9)(Z);const de=d.ca(z);if(Z instanceof B0)w.push(z);else{const be=Fp(Z,de);null!=be&&(w.push(z),T.set(z,be))}}const A=new qs(w);return new rO(T,A,d.fieldTransforms)}function oO(n,e,t,r=!1){return Fp(t,n.da(r?4:3,e))}function Fp(n,e){if(uO(n=(0,un.m9)(n)))return SM("Unsupported field value:",e,n),aO(n,e);if(n instanceof Pp)return function(t,r){if(!iO(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let f=Fp(d,r.aa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zx(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Wn.fromDate(t);return{timestampValue:dy(r.yt,i)}}if(t instanceof Wn){const i=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dy(r.yt,i)}}if(t instanceof oI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wu)return{bytesValue:pN(r.yt,t._byteString)};if(t instanceof Yn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${tI(t)}`)}(n,e)}function aO(n,e){const t={};return AS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(n,(r,i)=>{const u=Fp(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function uO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof oI||n instanceof Wu||n instanceof Yn||n instanceof Pp)}function SM(n,e,t){if(!uO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=tI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function AM(n,e,t){if((e=(0,un.m9)(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return lI(n,e);throw cI("Field path arguments must be of type string or ",n,!1,void 0,t)}const IV=new RegExp("[~\\*/\\[\\]]");function lI(n,e,t){if(e.search(IV)>=0)throw cI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw cI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cI(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Oe(pe.INVALID_ARGUMENT,f+n+y)}function lO(n,e){return n.some(t=>t.isEqual(e))}class j0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TV extends j0{data(){return super.data()}}function dI(n,e){return"string"==typeof e?lI(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}function cO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MM{}class $0 extends MM{}function Eh(n,e,...t){let r=[];e instanceof MM&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof Dy).length,d=i.filter(f=>f instanceof H0).length;if(u>1||u>0&&d>0)throw new Oe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H0 extends $0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H0(e,t,r)}_apply(e){const t=this._parse(e);return pO(e._query,t),new qi(e.firestore,e.converter,LS(e._query,t))}_parse(e){const t=kp(e.firestore);return function(i,u,d,f,y,w,T){let A;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){fO(T,w);const B=[];for(const z of T)B.push(hO(f,i,z));A={arrayValue:{values:B}}}else A=hO(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||fO(T,w),A=oO(d,"where",T,"in"===w||"not-in"===w);return wt.create(y,w,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dy extends MM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const d=i.getFlattenedFilters();for(const f of d)pO(u,f),u=LS(u,f)}(e._query,t),new qi(e.firestore,e.converter,LS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xM extends $0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xM(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new iy(i,u);return function(f,y){if(null===kS(f)){const w=NC(f);null!==w&&gO(0,w,y.field)}}(r,d),d}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new mc(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hI extends $0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hI(e,t,r)}_apply(e){return new qi(e.firestore,e.converter,RC(e._query,this._limit,this._limitType))}}class fI extends $0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fI(e,t,r)}_apply(e){const t=dO(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(i=t,new mc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class pI extends $0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pI(e,t,r)}_apply(e){const t=dO(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(i=t,new mc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function dO(n,e,t,r){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof j0)return function(i,u,d,f,y){if(!f)throw new Oe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of Ip(i))if(T.field.isKeyField())w.push(p(u,f.key));else{const A=f.data.field(T.field);if(g0(A))throw new Oe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const B=T.field.canonicalString();throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}w.push(A)}return new Xe(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=kp(n.firestore);return function(u,d,f,y,w,T){const A=u.explicitOrderBy;if(w.length>A.length)throw new Oe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let z=0;z<w.length;z++){const Z=w[z];if(A[z].field.isKeyField()){if("string"!=typeof Z)throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!FS(u)&&-1!==Z.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const de=u.path.child(cn.fromString(Z));if(!ze.isDocumentKey(de))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const be=new ze(de);B.push(p(d,be))}else{const de=oO(f,y,Z);B.push(de)}}return new Xe(B,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function hO(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FS(e)&&-1!==t.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!ze.isDocumentKey(r))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p(n,new ze(r))}if(t instanceof Yn)return p(n,t._key);throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tI(t)}.`)}function fO(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pO(n,e){if(e.isInequality()){const r=NC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=kS(n);null!==u&&gO(0,i,u)}const t=function(r,i){for(const u of r)for(const d of u.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gO(n,e,t){if(!t.isEqual(e))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NM{convertValue(e,t="none"){switch(fh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return fc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new oI(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ry(e));default:return null}}convertTimestamp(e){const t=pc(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);lt(IN(r));const i=new ta(r.get(1),r.get(3)),u=new ze(r.popFirst(5));return i.isEqual(t)||or(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function gI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class PV extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends j0{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends wc{data(e={}){return super.data(e)}}class wh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Lp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:kV(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function yO(n,e){return n instanceof wc&&e instanceof wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wh&&e instanceof wh&&n._firestore===e._firestore&&pM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class bh extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function _O(n,e,t){n=ln(n,Yn);const r=ln(n.firestore,Qn),i=gI(n.converter,e,t);return Sy(r,[uI(kp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ur.none())])}function vO(n,e,t,...r){n=ln(n,Yn);const i=ln(n.firestore,Qn),u=kp(i);let d;return d="string"==typeof(e=(0,un.m9)(e))||e instanceof Ec?DM(u,"updateDoc",n._key,e,t,r):TM(u,"updateDoc",n._key,e),Sy(i,[d.toMutation(n._key,ur.exists(!0))])}function EO(n,...e){var t,r,i;n=(0,un.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||CM(e[d])||(u=e[d],d++);const f={includeMetadataChanges:u.includeMetadataChanges};if(CM(e[d])){const A=e[d];e[d]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[d+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[d+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let y,w,T;if(n instanceof Yn)w=ln(n.firestore,Qn),T=oy(n._key.path),y={next:A=>{e[d]&&e[d](RM(w,n,A))},error:e[d+1],complete:e[d+2]};else{const A=ln(n,qi);w=ln(A.firestore,Qn),T=A._query;const B=new bh(w);y={next:z=>{e[d]&&e[d](new wh(w,B,A,z))},error:e[d+1],complete:e[d+2]},cO(n._query)}return function(A,B,z,Z){const de=new rI(Z),be=new BA(B,de,z);return A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return kA(yield Ty(A),be)})),()=>{de.bc(),A.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return LA(yield Ty(A),be)}))}}($r(w),T,f,y)}function Sy(n,e){return function(t,r){const i=new Nr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function ML(n,e,t){return GA.apply(this,arguments)}(yield wM(t),r,i)})),i.promise}($r(n),e)}function RM(n,e,t){const r=t.docs.get(e._key),i=new bh(n);return new wc(n,i,e._key,r,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}const GV={maxAttempts:5};class wO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kp(e)}set(e,t,r){this._verifyNotCommitted();const i=Ch(e,this._firestore),u=gI(i.converter,t,r),d=uI(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Ch(e,this._firestore);let d;return d="string"==typeof(t=(0,un.m9)(t))||t instanceof Ec?DM(this._dataReader,"WriteBatch.update",u._key,t,r,i):TM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new cy(t._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new Oe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kp(e)}get(e){const t=Ch(e,this._firestore),r=new PV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const u=i[0];if(u.isFoundDocument())return new j0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new j0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Ch(e,this._firestore),u=gI(i.converter,t,r),d=uI(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=Ch(e,this._firestore);let d;return d="string"==typeof(t=(0,un.m9)(t))||t instanceof Ec?DM(this._dataReader,"Transaction.update",u._key,t,r,i):TM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new bh(this._firestore);return super.get(e).then(i=>new wc(this._firestore,r,t._key,i._document,new Lp(!1,!1),t.converter))}}function OM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CO(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function IO(){if(!function MS(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_p=Ba.SDK_VERSION,(0,Ba._registerComponent)(new tp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new Qn(new Qm(t.getProvider("auth-internal")),new Dx(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(f.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Ba.registerVersion)(ea,"3.8.1",n),(0,Ba.registerVersion)(ea,"3.8.1","esm2017")}();class G0{constructor(e){this._delegate=e}static fromBase64String(e){return IO(),new G0(Wu.fromBase64String(e))}static fromUint8Array(e){return CO(),new G0(Wu.fromUint8Array(e))}toBase64(){return IO(),this._delegate.toBase64()}toUint8Array(){return CO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PM(n){return function tU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class nU{enableIndexedDbPersistence(e,t){return function cV(n,e){nO(n=ln(n,Qn));const t=$r(n),r=n._freezeSettings(),i=new hM;return tO(t,i,new LR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function dV(n){nO(n=ln(n,Qn));const e=$r(n),t=n._freezeSettings(),r=new hM;return tO(e,r,new GL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hV(n){if(n._initialized&&!n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!co.C())return Promise.resolve();const i=r+"main";yield co.delete(i)}),function(r){return t.apply(this,arguments)})(sA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class TO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){qR(this._delegate,e,t,r)}enableNetwork(){return function pV(n){return function XL(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield YR(n),t=yield EM(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i._u.delete(0),L0(i)}(t)}))}($r(n=ln(n,Qn)))}(this._delegate)}disableNetwork(){return function gV(n){return function eV(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield YR(n),t=yield EM(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const u=We(i);u._u.add(0),yield _y(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=ln(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fV(n){return function(e){const t=new Nr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function OL(n,e){return YA.apply(this,arguments)}(yield wM(e),t)})),t.promise}($r(n=ln(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function qV(n,e){return function rV(n,e){const t=new rI(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Ty(n),i=t,We(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Ty(n),i=t,void We(r).Ru.delete(i);var r,i}))}}($r(n=ln(n,Qn)),CM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ay(this,GR(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new na(this,nI(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function zL(n,e){if(n=ln(n,U0),fM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(n,null,(t=e,new mc(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ZV(n,e,t){n=ln(n,Qn);const r=Object.assign(Object.assign({},GV),t);return function(i){if(i.maxAttempts<1)throw new Oe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const f=new Nr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const y=yield function QR(n){return iI(n).then(e=>e.datastore)}(i);new QL(i.asyncQueue,y,d,u,f).run()})),f.promise}($r(n),i=>e(new zV(n,i)),r)}(this._delegate,t=>e(new DO(this,t)))}batch(){return $r(this._delegate),new SO(new wO(this._delegate,e=>Sy(this._delegate,e)))}loadBundle(e){return function mV(n,e){const t=$r(n=ln(n,Qn)),r=new aV;return function iV(n,e,t,r){const i=function(u,d){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,w){if(y instanceof Uint8Array)return ZR(y,w);if(y instanceof ArrayBuffer)return ZR(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new ZL(y,d);var y}(t,F0(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function qL(n,e,t){const r=We(n);var i;(i=(0,Ee.Z)(function*(u,d,f){try{const y=yield d.getMetadata();if(yield function(B,z){const Z=We(B),de=jr(z.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",be=>Z.Ns.getBundleMetadata(be,z.id)).then(be=>!!be&&be.createTime.compareTo(de)>=0)}(u.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(B=y).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);f._updateProgress(SR(y));const w=new CL(y,u.localStore,d.yt);let T=yield d.mc();for(;T;){const B=yield w.Fu(T);B&&f._updateProgress(B),T=yield d.mc()}const A=yield w.complete();return yield vc(u,A.Lu,void 0),yield function(B,z){const Z=We(B);return Z.persistence.runTransaction("Save bundle","readwrite",de=>Z.Ns.saveBundleMetadata(de,z))}(u.localStore,y),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(y){return lh("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var B}),function(u,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield wM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function yV(n,e){return function sV(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield sI(n),e)}))}($r(n=ln(n,Qn)),e).then(t=>t?new qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class mI extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new G0(new Wu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return na.forKey(t,this.firestore,null)}}class DO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}get(e){const t=Up(e);return this._delegate.get(t).then(r=>new z0(this._firestore,new wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Up(e);return r?(OM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class SO{constructor(e){this._delegate=e}set(e,t,r){const i=Up(e);return r?(OM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Z0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Vp(e,new mI(e),t),i.set(t,u)),u}}Vp.INSTANCES=new WeakMap;class na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new na(t,new Yn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new na(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ay(this.firestore,GR(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof Yn&&zR(this._delegate,e)}set(e,t){t=OM("DocumentReference.set",t);try{return t?_O(this._delegate,e,t):_O(this._delegate,e)}catch(r){throw ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vO(this._delegate,e):vO(this._delegate,e,t,...r)}catch(i){throw ws(i,"updateDoc()","DocumentReference.update()")}}delete(){return function $V(n){return Sy(ln(n.firestore,Qn),[new cy(n._key,ur.none())])}(this._delegate)}onSnapshot(...e){const t=AO(e),r=MO(e,i=>new z0(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return EO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function LV(n){n=ln(n,Yn);const e=ln(n.firestore,Qn),t=$r(e),r=new bh(e);return function tV(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,u,d){try{const f=yield function(y,w){const T=We(y);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,w))}(i,u);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Oe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=wy(f,`Failed to get document '${u} from cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield sI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wc(e,r,n._key,i,new Lp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function VV(n){n=ln(n,Yn);const e=ln(n.firestore,Qn);return JR($r(e),n._key,{source:"server"}).then(t=>RM(e,n,t))}(this._delegate):function FV(n){n=ln(n,Yn);const e=ln(n.firestore,Qn);return JR($r(e),n._key).then(t=>RM(e,n,t))}(this._delegate),t.then(r=>new z0(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new na(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function AO(n){for(const e of n)if("object"==typeof e&&!PM(e))return e;return{}}function MO(n,e){var t,r;let i;return i=PM(n[0])?n[0]:PM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yO(this._delegate,e._delegate)}}class Z0 extends z0{data(e){const t=this._delegate.data(e);return function Tx(n,e){n||rt()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}where(e,t,r){try{return new bs(this.firestore,Eh(this._delegate,function DV(n,e,t){const r=e,i=dI("where",n);return H0._create(i,r,t)}(e,t,r)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,Eh(this._delegate,function SV(n,e="asc"){const t=e,r=dI("orderBy",n);return xM._create(r,t)}(e,t)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,Eh(this._delegate,function AV(n){return jR("limit",n),hI._create("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,Eh(this._delegate,function MV(n){return jR("limitToLast",n),hI._create("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,Eh(this._delegate,function xV(...n){return fI._create("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,Eh(this._delegate,function NV(...n){return fI._create("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,Eh(this._delegate,function RV(...n){return pI._create("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,Eh(this._delegate,function OV(...n){return pI._create("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return pM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function BV(n){n=ln(n,qi);const e=ln(n.firestore,Qn),t=$r(e),r=new bh(e);return function nV(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,u,d){try{const f=yield KC(i,u,!0),y=new xR(u,f.Hi),w=y.Wu(f.documents),T=y.applyChanges(w,!1);d.resolve(T.snapshot)}catch(f){const y=wy(f,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield sI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new wh(e,r,n,i))}(this._delegate):"server"===e?.source?function jV(n){n=ln(n,qi);const e=ln(n.firestore,Qn),t=$r(e),r=new bh(e);return XR(t,n._query,{source:"server"}).then(i=>new wh(e,r,n,i))}(this._delegate):function UV(n){n=ln(n,qi);const e=ln(n.firestore,Qn),t=$r(e),r=new bh(e);return cO(n._query),XR(t,n._query).then(i=>new wh(e,r,n,i))}(this._delegate),t.then(r=>new kM(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AO(e),r=MO(e,i=>new kM(this.firestore,new wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return EO(this._delegate,t,r)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class iU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Z0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Z0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new iU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Z0(this._firestore,r))})}isEqual(e){return yO(this._delegate,e._delegate)}}class Ay extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new na(this.firestore,e):null}doc(e){try{return new na(this.firestore,void 0===e?nI(this._delegate):nI(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function HV(n,e){const t=ln(n.firestore,Qn),r=nI(n),i=gI(n.converter,e);return Sy(t,[uI(kp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new na(this.firestore,t))}isEqual(e){return zR(this._delegate,e._delegate)}withConverter(e){return new Ay(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Up(n){return ln(n,Yn)}class FM{constructor(...e){this._delegate=new Ec(...e)}static documentId(){return new FM(ar.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof Ec&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function KV(){return new IM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function WV(){return new B0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function YV(...n){return new wV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function QV(...n){return new bV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function JV(n){return new CV("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sU={Firestore:TO,GeoPoint:oI,Timestamp:Wn,Blob:G0,Transaction:DO,WriteBatch:SO,DocumentReference:na,DocumentSnapshot:z0,Query:bs,QueryDocumentSnapshot:Z0,QuerySnapshot:kM,CollectionReference:Ay,FieldPath:FM,FieldValue:Bp,setLogLevel:function rU(n){!function CS(n){ju.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function aU(n){(function oU(n,e){n.INTERNAL.registerComponent(new tp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},sU)))})(n,(e,t)=>new TO(e,t,new nU)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(zD.Z);var uU=k(6451),yI=k(5363),lU=k(6063);class cU extends Ur.x{constructor(e=1/0,t=1/0,r=lU.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var dU=k(3099);function xO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,dU.B)({connector:()=>new cU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function NO(n,e){return(0,yd.m)(e)?Wr(()=>n,e):Wr(()=>n)}var LM=k(9468),jp=k(259);class My{constructor(e){return e}}class RO{constructor(){return(0,jp.C6)()}}const VM=new l.OlP("angularfire2._apps"),fU={provide:My,useFactory:function hU(n){return n&&1===n.length?n[0]:new My((0,jp.Mq)())},deps:[[new l.FiY,VM]]},pU={provide:RO,deps:[[new l.FiY,VM]]};function gU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new My(r)}}let mU=(()=>{class n{constructor(t){(0,jp.KN)("angularfire",En.q4.full,"core"),(0,jp.KN)("angularfire",En.q4.full,"app"),(0,jp.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fU,pU]}),n})();const _U=(0,En.u3)(jp.ZF,!0),UM=new Map,OO={activated:!1,tokenObservers:[]},vU={initialized:!1,enabled:!1};function Gi(n){return UM.get(n)||Object.assign({},OO)}function _I(){return vU}class TU{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function DU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cs=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kO(n){if(!Gi(n).activated)throw Cs.create("use-before-activation",{appName:n.name})}function $M(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,u)}catch(A){throw Cs.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==d.status)throw Cs.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(A){throw Cs.create("fetch-parse-error",{originalErrorMessage:A?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),HM.apply(this,arguments)}function xU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const W0="firebase-app-check-store";let wI=null;function LO(){return wI||(wI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Cs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(W0,{keyPath:"compositeKey"})}}catch(t){e(Cs.create("storage-open",{originalErrorMessage:t?.message}))}}),wI)}function qM(){return qM=(0,Ee.Z)(function*(n,e){const r=(yield LO()).transaction(W0,"readwrite"),u=r.objectStore(W0).put({compositeKey:n,value:e});return new Promise((d,f)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var w;f(Cs.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),qM.apply(this,arguments)}const K0=new Ru.Yd("@firebase/app-check");function ZM(n,e){return(0,un.hl)()?function PU(n,e){return function VO(n,e){return qM.apply(this,arguments)}(function BO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{K0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jO(){return _I().enabled}function $O(){return KM.apply(this,arguments)}function KM(){return KM=(0,Ee.Z)(function*(){const n=_I();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KM.apply(this,arguments)}const BU={error:"UNKNOWN_ERROR"};function jU(n){return un.US.encodeString(JSON.stringify(n),!1)}function bI(n){return YM.apply(this,arguments)}function YM(){return YM=(0,Ee.Z)(function*(n,e=!1){const t=n.app;kO(t);const r=Gi(t);let u,i=r.token;if(i&&!xy(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(xy(y)?i=y:yield ZM(t,void 0))}if(!e&&i&&xy(i))return{token:i.token};let f,d=!1;if(jO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$M(xU(t,yield $O()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield ZM(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield Gi(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?K0.warn(y.message):K0.error(y),u=y}return i?u?f=xy(i)?{token:i.token,internalError:u}:GO(u):(f={token:i.token},r.token=i,yield ZM(t,i)):f=GO(u),d&&qO(t,f),f}),YM.apply(this,arguments)}function JM(n,e){const t=Gi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HO(n){const{app:e}=n,t=Gi(e);let r=t.tokenRefresher;r||(r=function $U(n){const{app:e}=n;return new TU((0,Ee.Z)(function*(){let r;if(r=Gi(e).token?yield bI(n,!0):yield bI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qO(n,e){const t=Gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function xy(n){return n.expireTimeMillis-Date.now()>0}function GO(n){return{token:jU(BU),error:n}}class HU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Gi(this.app);for(const t of e)JM(this.app,t.next);return Promise.resolve()}}const XO="app-check-internal";!function r2(){(0,Ba._registerComponent)(new tp.wA("app-check",n=>function qU(n,e){return new HU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XO).initialize()})),(0,Ba._registerComponent)(new tp.wA(XO,n=>function GU(n){return{getToken:e=>bI(n,e),addTokenListener:e=>function QM(n,e,t,r){const{app:i}=n,u=Gi(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&xy(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),HO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>HO(n))}(n,"INTERNAL",e),removeTokenListener:e=>JM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ba.registerVersion)("@firebase/app-check","0.6.1")}();class II{constructor(){return(0,En.vb)("app-check")}}typeof window<"u"&&window;var u2=k(9260);const tP=new l.OlP("angularfire2.auth.use-emulator"),nP=new l.OlP("angularfire2.auth.settings"),rP=new l.OlP("angularfire2.auth.tenant-id"),iP=new l.OlP("angularfire2.auth.langugage-code"),sP=new l.OlP("angularfire2.auth.use-device-language"),oP=new l.OlP("angularfire.auth.persistence"),aP=(n,e,t,r,i,u,d,f)=>(0,uo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return f&&y.setPersistence(f),y},[t,r,i,u,d,f]);let uP=(()=>{class n{constructor(t,r,i,u,d,f,y,w,T,A,B,z){const Z=new Ur.x,de=Et(void 0).pipe((0,yI.Q)(d.outsideAngular),Wr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,yt.U)(()=>(0,uo.on)(t,u,r)),(0,yt.U)(be=>aP(be,u,f,w,T,A,y,B)),xO({bufferSize:1,refCount:!1}));if(Nc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Et(null);else{de.pipe(Oa()).subscribe();const Ze=de.pipe(Wr(ut=>ut.getRedirectResult().then(Rt=>Rt,()=>null)),En.iC,xO({bufferSize:1,refCount:!1})),ct=de.pipe(Wr(ut=>new qn.y(Rt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Lt=>Rt.next(Lt),Lt=>Rt.error(Lt),()=>Rt.complete()))})))),mt=de.pipe(Wr(ut=>new qn.y(Rt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Lt=>Rt.next(Lt),Lt=>Rt.error(Lt),()=>Rt.complete()))}))));this.authState=Ze.pipe(NO(ct),(0,LM.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular)),this.user=Ze.pipe(NO(mt),(0,LM.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular)),this.idToken=this.user.pipe(Wr(ut=>ut?(0,mn.D)(ut.getIdToken()):Et(null))),this.idTokenResult=this.user.pipe(Wr(ut=>ut?(0,mn.D)(ut.getIdTokenResult()):Et(null))),this.credential=(0,uU.T)(Ze,Z,this.authState.pipe(li(ut=>!ut))).pipe((0,yt.U)(ut=>ut?.user?ut:null),(0,LM.R)(d.outsideAngular),(0,yI.Q)(d.insideAngular))}return(0,uo.pX)(this,de,u,{spy:{apply:(be,Ze,ct)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&ct.then(mt=>Z.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uo.Dh),l.LFG(uo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(En.HU),l.LFG(tP,8),l.LFG(nP,8),l.LFG(rP,8),l.LFG(iP,8),l.LFG(sP,8),l.LFG(oP,8),l.LFG(II,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lP(n,e){return function c2(n,e=HD.z){return new qn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function r1(n,e){return lP(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function TI(n,e){return r1(n,e).pipe(hf(void 0),pv(),(0,yt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(T=>T.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),u}))}function cP(n,e,t){return TI(n,t).pipe(ff((r,i)=>function h2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function f2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return i1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return i1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return i1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function qD(n,e=Pl.y){return n=n??ep,(0,Er.e)((t,r)=>{let i,u=!0;t.subscribe((0,rr.x)(r,d=>{const f=e(d);(u||!n(i,f))&&(u=!1,i=f,r.next(d))}))})}(),(0,yt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function i1(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function dP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class hP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=TI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(hf(void 0),pv(),li(([r,i])=>i.length>0||!r),(0,yt.U)(([r,i])=>i),En.iC)}auditTrail(e){return this.stateChanges(e).pipe(ff((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dP(e);return cP(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return r1(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),En.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(En.iC)}add(e){return this.ref.add(e)}doc(e){return new fP(this.ref.doc(e),this.afs)}}class fP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=mP(r,t);return new hP(i,u,this.afs)}snapshotChanges(){return function d2(n,e){return lP(n,e).pipe(hf(void 0),pv(),(0,yt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(En.iC)}}class p2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TI(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),li(t=>t.length>0),En.iC):TI(this.query,this.afs.schedulers.outsideAngular).pipe(En.iC)}auditTrail(e){return this.stateChanges(e).pipe(ff((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dP(e);return cP(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return r1(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),En.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(En.iC)}}const pP=new l.OlP("angularfire2.enableFirestorePersistence"),gP=new l.OlP("angularfire2.firestore.persistenceSettings"),g2=new l.OlP("angularfire2.firestore.settings"),m2=new l.OlP("angularfire2.firestore.use-emulator");function mP(n,e=(t=>t)){return{query:e(n),ref:n}}let yP=(()=>{class n{constructor(t,r,i,u,d,f,y,w,T,A,B,z,Z,de,be,Ze,ct){this.schedulers=y;const mt=(0,uo.on)(t,f,r),ut=T;A&&aP(mt,f,B,Z,de,be,z,Ze),[this.firestore,this.persistenceEnabled$]=(0,uo.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const Rt=f.runOutsideAngular(()=>mt.firestore());if(u&&Rt.settings(u),ut&&Rt.useEmulator(...ut),i&&!Nc(d)){const Lt=()=>{try{return(0,mn.D)(Rt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),Et(!1)}};return[Rt,f.runOutsideAngular(Lt)]}return[Rt,Et(!1)]},[u,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=mP(i,r),f=this.schedulers.ngZone.run(()=>u);return new hP(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new p2(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new fP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uo.Dh),l.LFG(uo.xv,8),l.LFG(pP,8),l.LFG(g2,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(En.HU),l.LFG(gP,8),l.LFG(m2,8),l.LFG(uP,8),l.LFG(tP,8),l.LFG(nP,8),l.LFG(rP,8),l.LFG(iP,8),l.LFG(sP,8),l.LFG(oP,8),l.LFG(II,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y2=(()=>{class n{constructor(){u2.Z.registerVersion("angularfire",En.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:pP,useValue:!0},{provide:gP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yP]}),n})();class $p{constructor(e){this.firestore=e,this.tarjeta$=new Ur.x}guardarTarjeta(e){return this.firestore.collection("tarjetas").add(e)}obtenerTarjetas(){return this.firestore.collection("tarjetas",e=>e.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarTarjeta(e){return this.firestore.collection("tarjetas").doc(e).delete()}editarTarjeta(e,t){return this.firestore.collection("tarjetas").doc(e).update(t)}addTarjetaEdit(e){this.tarjeta$.next(e)}getTarjetaEdit(){return this.tarjeta$.asObservable()}}$p.\u0275fac=function(e){return new(e||$p)(l.LFG(yP))},$p.\u0275prov=l.Yz7({token:$p,factory:$p.\u0275fac,providedIn:"root"});class _P{}class _2{}const bc="*";function v2(n,e){return{type:7,name:n,definitions:e,options:{}}}function vP(n,e=null){return{type:4,styles:e,timings:n}}function EP(n,e=null){return{type:2,steps:n,options:e}}function Y0(n){return{type:6,styles:n,offset:null}}function s1(n,e,t){return{type:0,name:n,styles:e,options:t}}function wP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bP(n){Promise.resolve().then(n)}class Q0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class CP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?bP(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const IP=["toast-component",""];function E2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function w2(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function b2(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,w2,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function C2(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function I2(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function T2(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class R2{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class O2{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class P2{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ur.x,this._activate=new Ur.x,this._manualClose=new Ur.x,this._resetTimeout=new Ur.x,this._countDuplicate=new Ur.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class DI{constructor(e,t,r,i,u,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=d,this._onTap=new Ur.x,this._onAction=new Ur.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const DP=new l.OlP("ToastConfig");class k2 extends O2{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class F2{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let L2=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V2=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new k2(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new F2(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(L2),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SI=(()=>{class n{constructor(t,r,i,u,d){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts)if((!d||d&&f.title===t)&&f.message===r)return f.toastRef.onDuplicate(i,u),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&u.enableHtml&&(w=this.sanitizer.sanitize(l.q3G.HTML,r));const T=new P2(y),A=new DI(this.index,u,w,i,t,T),z=l.zs3.create({providers:[{provide:DI,useValue:A}],parent:this._injector}),Z=new R2(u.toastComponent,z),de=y.attach(Z,u.newestOnTop);T.componentInstance=de.instance;const be={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:de};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(DP),l.LFG(V2),l.LFG(l.zs3),l.LFG(Aa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U2={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(SI),l.Y36(DI),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:IP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,E2,3,0,"button",0),l.YNc(1,b2,3,5,"div",1),l.YNc(2,C2,1,3,"div",2),l.YNc(3,I2,2,4,"div",3),l.YNc(4,T2,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[Sn],encapsulation:2,data:{animation:[v2("flyInOut",[s1("inactive",Y0({opacity:0})),s1("active",Y0({opacity:1})),s1("removed",Y0({opacity:0})),wP("inactive => active",vP("{{ easeTime }}ms {{ easing }}")),wP("active => removed",vP("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let SP=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:DP,useValue:{default:U2,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ca]}),n})();function B2(n,e){1&n&&(l.TgZ(0,"div",21)(1,"span",22),l._uU(2,"Loading..."),l.qZA()())}class J0{ngOnInit(){this._tarjetaService.getTarjetaEdit().subscribe(e=>{this.id=e.id,this.titulo="Editar Tarjeta",this.form.patchValue({titular:e.titular,numeroTarjeta:e.numeroTarjeta,fechaExpiracion:e.fechaExpiracion,cvv:e.cvv})})}constructor(e,t,r){this.fb=e,this._tarjetaService=t,this.toastr=r,this.loading=!1,this.titulo="Agregar Tarjeta",this.form=this.fb.group({titular:["",An.required],numeroTarjeta:["",[An.required,An.minLength(16),An.maxLength(16)]],fechaExpiracion:["",[An.required,An.minLength(5),An.maxLength(5)]],cvv:["",[An.required,An.minLength(3),An.maxLength(3)]]})}guardarTarjeta(){void 0===this.id?this.agregarTarjeta():this.editarTarjeta(this.id)}editarTarjeta(e){const t={titular:this.form.value.titular,numeroTarjeta:this.form.value.numeroTarjeta,fechaExpiracion:this.form.value.fechaExpiracion,cvv:this.form.value.cvv,fechaCreacion:new Date};this.loading=!0,this._tarjetaService.editarTarjeta(e,t).then(()=>{this.loading=!1,this.titulo="Agregar Tarjeta",this.form.reset(),this.id=void 0,this.toastr.info("La Tarjeta ha sido actualizada","Registro actualizado")},r=>{console.log(r)})}agregarTarjeta(){const e={titular:this.form.value.titular,numeroTarjeta:this.form.value.numeroTarjeta,fechaExpiracion:this.form.value.fechaExpiracion,cvv:this.form.value.cvv,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,console.log(e),this._tarjetaService.guardarTarjeta(e).then(()=>{this.loading=!1,console.log("Tarjeta Registrada"),this.toastr.success("Tarjeta registrada con exito","Tarjeta registrada"),this.form.reset()},t=>{this.loading=!1,this.toastr.error("Ocurrio un error","Error"),console.log(t)})}}function j2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td")(8,"i",5),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.editarTarjeta(u))}),l.qZA()(),l.TgZ(9,"td")(10,"i",6),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.eliminarTarjeta(u.id))}),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.titular),l.xp6(2),l.Oqu(t.numeroTarjeta),l.xp6(2),l.Oqu(t.fechaExpiracion)}}J0.\u0275fac=function(e){return new(e||J0)(l.Y36($1),l.Y36($p),l.Y36(SI))},J0.\u0275cmp=l.Xpm({type:J0,selectors:[["app-crear-tarjeta"]],decls:30,vars:22,consts:[[1,"card"],[1,"card-body"],[1,"titulo","mb-3"],["class","spinner-border","role","status",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"fas","fa-user-circle"],["type","text","formControlName","titular","placeholder","Titular",1,"form-control"],[1,"fas","fa-credit-card"],["type","text","formControlName","numeroTarjeta","maxlength","16","placeholder","Numero de la Tarjeta",1,"form-control"],[1,"row"],[1,"col-lg-7"],[1,"fas","fa-calendar-alt"],["type","text","formControlName","fechaExpiracion","maxlength","5","placeholder","MM/YY",1,"form-control"],[1,"col-lg-5"],[1,"fas","fa-key"],["type","password","formControlName","cvv","maxlength","3","placeholder","CVV",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled"],[1,"fas","fa-database"],["role","status",1,"spinner-border"],[1,"visually-hidden","float-end"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3),l.ALo(4,"uppercase"),l.YNc(5,B2,3,0,"div",3),l.qZA(),l.TgZ(6,"form",4),l.NdJ("ngSubmit",function(){return t.guardarTarjeta()}),l.TgZ(7,"div",5)(8,"span",6),l._UZ(9,"i",7),l.qZA(),l._UZ(10,"input",8),l.qZA(),l.TgZ(11,"div",5)(12,"span",6),l._UZ(13,"i",9),l.qZA(),l._UZ(14,"input",10),l.qZA(),l.TgZ(15,"div",11)(16,"div",12)(17,"div",5)(18,"span",6),l._UZ(19,"i",13),l.qZA(),l._UZ(20,"input",14),l.qZA()(),l.TgZ(21,"div",15)(22,"div",5)(23,"span",6),l._UZ(24,"i",16),l.qZA(),l._UZ(25,"input",17),l.qZA()()(),l.TgZ(26,"div",18)(27,"button",19),l._UZ(28,"i",20),l._uU(29," ACEPTAR "),l.qZA()()()()()),2&e){let r,i,u,d,f,y,w,T;l.xp6(3),l.hij("",l.lcZ(4,20,t.titulo)," "),l.xp6(2),l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("formGroup",t.form),l.xp6(3),l.ekj("green-icon",null==(r=t.form.get("titular"))?null:r.valid)("red-icon",(null==(i=t.form.get("titular"))?null:i.invalid)&&(null==(i=t.form.get("titular"))?null:i.touched)),l.xp6(4),l.ekj("red-icon",(null==(u=t.form.get("numeroTarjeta"))?null:u.invalid)&&(null==(u=t.form.get("numeroTarjeta"))?null:u.touched))("green-icon",null==(d=t.form.get("numeroTarjeta"))?null:d.valid),l.xp6(6),l.ekj("red-icon",(null==(f=t.form.get("fechaExpiracion"))?null:f.invalid)&&(null==(f=t.form.get("fechaExpiracion"))?null:f.touched))("green-icon",null==(y=t.form.get("fechaExpiracion"))?null:y.valid),l.xp6(5),l.ekj("red-icon",(null==(w=t.form.get("cvv"))?null:w.invalid)&&(null==(w=t.form.get("cvv"))?null:w.touched))("green-icon",null==(T=t.form.get("cvv"))?null:T.valid),l.xp6(3),l.Q6J("disabled",t.form.invalid)}},dependencies:[Sn,hd,St,Xi,Al,c_,ks,r_,Ar],styles:[".green-icon[_ngcontent-%COMP%]{color:#198754}.red-icon[_ngcontent-%COMP%]{color:#dc3545}.spinner-border[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}"]});class X0{constructor(e,t){this._tarjetaService=e,this.toastr=t,this.listTarjetas=[]}ngOnInit(){this.obtenerTarjetas()}obtenerTarjetas(){this._tarjetaService.obtenerTarjetas().subscribe(e=>{this.listTarjetas=[],e.forEach(t=>{this.listTarjetas.push({id:t.payload.doc.id,...t.payload.doc.data()})}),console.log(this.listTarjetas)})}eliminarTarjeta(e){this._tarjetaService.eliminarTarjeta(e).then(()=>{this.toastr.error("La Tarjeta fue eliminada con exito!","Registro Eliminado")},t=>{console.log(t),this.toastr.error("Ocurrio con error","Error")})}editarTarjeta(e){this._tarjetaService.addTarjetaEdit(e)}}X0.\u0275fac=function(e){return new(e||X0)(l.Y36($p),l.Y36(SI))},X0.\u0275cmp=l.Xpm({type:X0,selectors:[["app-listar-tarjeta"]],decls:7,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"titulo"],[1,"table"],[4,"ngFor","ngForOf"],[1,"far","fa-edit","text-info",3,"click"],[1,"far","fa-trash-alt","text-danger",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3,"LISTAR TARJETAS"),l.qZA(),l.TgZ(4,"div",3)(5,"tbody"),l.YNc(6,j2,11,3,"tr",4),l.qZA()()()()),2&e&&(l.xp6(6),l.Q6J("ngForOf",t.listTarjetas))},dependencies:[pr],styles:[".far[_ngcontent-%COMP%]{cursor:pointer;margin-right:7px}"]});class eE{}eE.\u0275fac=function(e){return new(e||eE)},eE.\u0275cmp=l.Xpm({type:eE,selectors:[["app-tarjeta-credito"]],decls:13,vars:0,consts:[[1,"fondo"],[1,"container"],[1,"row"],[1,"col-lg-8","offset-lg-2"],[1,"card"],[1,"card-body"],[1,"titulo"],[1,"row","mt-4"],[1,"col-lg-6"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),l._uU(7,"TARJETA DE CREDITO"),l.qZA()()()()(),l.TgZ(8,"div",7)(9,"div",8),l._UZ(10,"app-crear-tarjeta"),l.qZA(),l.TgZ(11,"div",8),l._UZ(12,"app-listar-tarjeta"),l.qZA()()()())},dependencies:[J0,X0],styles:[".titulo[_ngcontent-%COMP%]{text-align:center}.fondo[_ngcontent-%COMP%]{background:#870000;background:linear-gradient(to right,#190A05,#870000);height:100vh}"]});const $2=[{path:"",component:$f,title:"Inicio"},{path:"citas",component:Ld,title:"Citas"},{path:"clima",component:Au,title:"Clima"},{path:"convertidor",component:Hd,title:"Clima"},{path:"dados",component:qd,title:"Clima"},{path:"list-empleados",component:jf,title:"Clima"},{path:"noticias",component:Gf,title:"Clima"},{path:"piano",component:Ua,title:"Clima"},{path:"pixabay",component:cm,title:"Clima"},{path:"presupuesto",component:Jf,title:"Clima"},{path:"gastos",component:Kd},{path:"tareas",component:dm,title:"Clima"},{path:"credit-card",component:eE,title:"Clima"}];class Ny{}function AP(n){return new l.vHH(3e3,!1)}function CB(){return typeof window<"u"&&typeof window.document<"u"}function a1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ih(n){switch(n.length){case 0:return new Q0;case 1:return n[0];default:return new CP(n)}}function MP(n,e,t,r,i=new Map,u=new Map){const d=[],f=[];let y=-1,w=null;if(r.forEach(T=>{const A=T.get("offset"),B=A==y,z=B&&w||new Map;T.forEach((Z,de)=>{let be=de,Ze=Z;if("offset"!==de)switch(be=e.normalizePropertyName(be,d),Ze){case"!":Ze=i.get(de);break;case bc:Ze=u.get(de);break;default:Ze=e.normalizeStyleValue(de,be,Ze,d)}z.set(be,Ze)}),B||f.push(z),w=z,y=A}),d.length)throw function dB(n){return new l.vHH(3502,!1)}();return f}function u1(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&l1(t,"start",n)));break;case"done":n.onDone(()=>r(t&&l1(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&l1(t,"destroy",n)))}}function l1(n,e,t){const u=c1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function c1(n,e,t,r,i="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!d}}function ho(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function xP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}Ny.\u0275fac=function(e){return new(e||Ny)},Ny.\u0275mod=l.oAB({type:Ny}),Ny.\u0275inj=l.cJS({imports:[Ww.forRoot($2),Ww]});let d1=(n,e)=>!1,NP=(n,e,t)=>[],RP=null;function h1(n){const e=n.parentNode||n.host;return e===RP?null:e}(a1()||typeof Element<"u")&&(CB()?(RP=(()=>document.documentElement)(),d1=(n,e)=>{for(;e;){if(e===n)return!0;e=h1(e)}return!1}):d1=(n,e)=>n.contains(e),NP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hp=null,OP=!1;const PP=d1,kP=NP;let FP=(()=>{class n{validateStyleProperty(t){return function TB(n){Hp||(Hp=function DB(){return typeof document<"u"?document.body:null}()||{},OP=!!Hp.style&&"WebkitAppearance"in Hp.style);let e=!0;return Hp.style&&!function IB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hp.style,!e&&OP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return PP(t,r)}getParentElement(t){return h1(t)}query(t,r,i){return kP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,d,f=[],y){return new Q0(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),f1=(()=>{class n{}return n.NOOP=new FP,n})();const p1="ng-enter",AI="ng-leave",MI="ng-trigger",xI=".ng-trigger",VP="ng-animating",g1=".ng-animating";function Cc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:m1(parseFloat(e[1]),e[2])}function m1(n,e){return"s"===e?1e3*n:n}function NI(n,e,t){return n.hasOwnProperty("duration")?n:function MB(n,e,t){let i,u=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(AP()),{duration:0,delay:0,easing:""};i=m1(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=m1(parseFloat(y),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function H2(){return new l.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function q2(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,AP())}return{duration:i,delay:u,easing:d}}(n,e,t)}function tE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function UP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Th(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function jP(n,e,t){return t?e+":"+t+";":""}function $P(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=jP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=jP(0,OB(t),n.style[t]));n.setAttribute("style",e)}function Ku(n,e,t){n.style&&(e.forEach((r,i)=>{const u=_1(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),a1()&&$P(n))}function qp(n,e){n.style&&(e.forEach((t,r)=>{const i=_1(r);n.style[i]=""}),a1()&&$P(n))}function nE(n){return Array.isArray(n)?1==n.length?n[0]:EP(n):n}const y1=new RegExp("{{\\s*(.+?)\\s*}}","g");function HP(n){let e=[];if("string"==typeof n){let t;for(;t=y1.exec(n);)e.push(t[1]);y1.lastIndex=0}return e}function rE(n,e,t){const r=n.toString(),i=r.replace(y1,(u,d)=>{let f=e[d];return null==f&&(t.push(function z2(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function RI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const RB=/-+([a-z0-9])/g;function _1(n){return n.replace(RB,(...e)=>e[1].toUpperCase())}function OB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Z2(n){return new l.vHH(3004,!1)}()}}function qP(n,e){return window.getComputedStyle(n)[e]}function UB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function BB(n,e,t){if(":"==n[0]){const y=function jB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function aB(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function oB(n){return new l.vHH(3015,!1)}()),e;const i=r[1],u=r[2],d=r[3];e.push(GP(i,d));"<"==u[0]&&!("*"==i&&"*"==d)&&e.push(GP(d,i))}(r,t,e)):t.push(n),t}const FI=new Set(["true","1"]),LI=new Set(["false","0"]);function GP(n,e){const t=FI.has(n)||LI.has(n),r=FI.has(e)||LI.has(e);return(i,u)=>{let d="*"==n||n==i,f="*"==e||e==u;return!d&&t&&"boolean"==typeof i&&(d=i?FI.has(n):LI.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?FI.has(e):LI.has(e)),d&&f}}const $B=new RegExp("s*:selfs*,?","g");function v1(n,e,t,r){return new HB(n).build(e,t,r)}class HB{constructor(e){this._driver=e}build(e,t,r){const i=new zB(t);return this._resetContextStyleTimingState(i),fo(this,nE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function K2(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,u.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function Y2(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{HP(y).forEach(w=>{d.hasOwnProperty(w)||u.add(w)})})}),u.size&&(RI(u.values()),t.errors.push(function Q2(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fo(this,nE(e.animation),t);return{type:1,matchers:UB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Gp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fo(this,r,t)),options:Gp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(d=>{t.currentTime=r;const f=fo(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Gp(e.options)}}visitAnimate(e,t){const r=function WB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return E1(NI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=E1(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=NI(t,e);return E1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Y0({});if(5==u.type)i=this.visitKeyframes(u,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=Y0(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===bc?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(UP(f));let u=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!u))for(let y of f.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let A=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function X2(n,e,t,r,i){return new l.vHH(3010,!1)}()),A=!1),u=T.startTime),A&&w.set(y,{startTime:u,endTime:i}),t.options&&function NB(n,e,t){const r=e.params||{},i=HP(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function G2(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function eB(){return new l.vHH(3011,!1)}()),r;let u=0;const d=[];let f=!1,y=!1,w=0;const T=e.steps.map(Ze=>{const ct=this._makeStyleAst(Ze,t);let mt=null!=ct.offset?ct.offset:function ZB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ct.styles),ut=0;return null!=mt&&(u++,ut=ct.offset=mt),y=y||ut<0||ut>1,f=f||ut<w,w=ut,d.push(ut),ct});y&&t.errors.push(function tB(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function nB(){return new l.vHH(3200,!1)}());const A=e.steps.length;let B=0;u>0&&u<A?t.errors.push(function rB(){return new l.vHH(3202,!1)}()):0==u&&(B=1/(A-1));const z=A-1,Z=t.currentTime,de=t.currentAnimateTimings,be=de.duration;return T.forEach((Ze,ct)=>{const mt=B>0?ct==z?1:B*ct:d[ct],ut=mt*be;t.currentTime=Z+de.delay+ut,de.duration=ut,this._validateStyleAst(Ze,t),Ze.offset=mt,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:fo(this,nE(e.animation),t),options:Gp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function qB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($B,"")),n=n.replace(/@\*/g,xI).replace(/@\w+/g,t=>xI+"-"+t.slice(1)).replace(/:animating/g,g1),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,ho(t.collectedStyles,t.currentQuerySelector,new Map);const f=fo(this,nE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Gp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function iB(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:NI(e.timings,t.errors,!0);return{type:12,animation:fo(this,nE(e.animation),t),timings:r,options:null}}}class zB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gp(n){return n?(n=tE(n)).params&&(n.params=function GB(n){return n?tE(n):null}(n.params)):n={},n}function E1(n,e,t){return{duration:n,delay:e,easing:t}}function w1(n,e,t,r,i,u,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:d,subTimeline:f}}class VI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const QB=new RegExp(":enter","g"),XB=new RegExp(":leave","g");function b1(n,e,t,r,i,u=new Map,d=new Map,f,y,w=[]){return(new ej).buildKeyframes(n,e,t,r,i,u,d,f,y,w)}class ej{buildKeyframes(e,t,r,i,u,d,f,y,w,T=[]){w=w||new VI;const A=new C1(e,t,w,i,u,T,[]);A.options=y;const B=y.delay?Cc(y.delay):0;A.currentTimeline.delayNextStep(B),A.currentTimeline.setStyles([d],null,A.errors,y),fo(this,r,A);const z=A.timelines.filter(Z=>Z.containsAnimation());if(z.length&&f.size){let Z;for(let de=z.length-1;de>=0;de--){const be=z[de];if(be.element===t){Z=be;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,A.errors,y)}return z.length?z.map(Z=>Z.buildKeyframes()):[w1(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const d="number"==typeof u?u:Cc(rE(u,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?Cc(r.duration):null,f=null!=r.delay?Cc(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,f);u=Math.max(u,w.duration+w.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=UI);const d=Cc(u.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>fo(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Cc(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),fo(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return NI(t.params?rE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Cc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=UI);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,w);u&&A.delayNextStep(u),w===t.element&&(y=A.currentTimeline),fo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const A=T.currentTime;fo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const UI={};class C1{constructor(e,t,r,i,u,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new BI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Cc(r.duration)),null!=r.delay&&(i.delay=Cc(r.delay));const u=r.params;if(u){let d=i.params;d||(d=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=rE(u[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new C1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=UI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new tj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(QB,"."+this._enterClassName)).replace(XB,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!u&&0==f.length&&d.push(function sB(n){return new l.vHH(3014,!1)}()),f}}class BI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new BI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||bc),this._currentKeyframe.set(t,bc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},d=function nj(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,bc)}else Th(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const w=rE(y,u,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??bc),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=Th(f,new Map,this._backFill);w.forEach((T,A)=>{"!"===T?e.add(A):T===bc&&t.add(A)}),r||w.set("offset",y/this.duration),i.push(w)});const u=e.size?RI(e.values()):[],d=t.size?RI(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return w1(this.element,i,u,d,this.duration,this.startTime,this.easing,!1)}}class tj extends BI{constructor(e,t,r,i,u,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,f=t/d,y=Th(e[0]);y.set("offset",0),u.push(y);const w=Th(e[0]);w.set("offset",WP(f)),u.push(w);const T=e.length-1;for(let A=1;A<=T;A++){let B=Th(e[A]);const z=B.get("offset");B.set("offset",WP((t+z*r)/d)),u.push(B)}r=d,t=0,i="",e=u}return w1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function WP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class I1{}const rj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ij extends I1{normalizePropertyName(e,t){return _1(e)}normalizeStyleValue(e,t,r,i){let u="";const d=r.toString().trim();if(rj.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function W2(n,e){return new l.vHH(3005,!1)}())}return d+u}}function KP(n,e,t,r,i,u,d,f,y,w,T,A,B){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:A,errors:B}}const T1={};class YP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function sj(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,d,f,y,w,T){const A=[],B=this.ast.options&&this.ast.options.params||T1,Z=this.buildStyles(r,f&&f.params||T1,A),de=y&&y.params||T1,be=this.buildStyles(i,de,A),Ze=new Set,ct=new Map,mt=new Map,ut="void"===i,Rt={params:oj(de,B),delay:this.ast.options?.delay},Lt=T?[]:b1(e,t,this.ast.animation,u,d,Z,be,Rt,w,A);let dn=0;if(Lt.forEach(Ic=>{dn=Math.max(Ic.duration+Ic.delay,dn)}),A.length)return KP(t,this._triggerName,r,i,ut,Z,be,[],[],ct,mt,dn,A);Lt.forEach(Ic=>{const Tc=Ic.element,gk=ho(ct,Tc,new Set);Ic.preStyleProps.forEach(zp=>gk.add(zp));const oE=ho(mt,Tc,new Set);Ic.postStyleProps.forEach(zp=>oE.add(zp)),Tc!==t&&Ze.add(Tc)});const Is=RI(Ze.values());return KP(t,this._triggerName,r,i,ut,Z,be,Lt,Is,ct,mt,dn)}}function oj(n,e){const t=tE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class aj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=tE(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!==d&&(i[u]=d)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((d,f)=>{d&&(d=rE(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(f,d)})}),r}}class lj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new aj(i.style,i.options&&i.options.params||{},r))}),QP(this.states,"true","1"),QP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new YP(e,i,this.states))}),this.fallbackTransition=function cj(n,e,t){return new YP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function QP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const dj=new VI;class hj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=v1(this._driver,t,r,[]);if(r.length)throw function hB(n){return new l.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=MP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let d;const f=new Map;if(u?(d=b1(this._driver,t,u,p1,AI,new Map,new Map,r,dj,i),d.forEach(T=>{const A=ho(f,T.element,new Map);T.postStyleProps.forEach(B=>A.set(B,null))})):(i.push(function fB(){return new l.vHH(3300,!1)}()),d=[]),i.length)throw function pB(n){return new l.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((B,z)=>{T.set(z,this._driver.computeStyle(A,z,bc))})});const w=Ih(d.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function gB(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=c1(t,"","","");return u1(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const JP="ng-animate-queued",D1="ng-animate-disabled",yj=[],XP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_j={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ra="__ng_removed";class S1{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function bj(n){return n??null}(r?e.value:e),r){const u=tE(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const iE="void",A1=new S1(iE);class vj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ia(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function mB(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function yB(n){return new l.vHH(3303,!1)}();if(!function Cj(n){return"start"==n||"done"==n}(r))throw function _B(n,e){return new l.vHH(3400,!1)}();const u=ho(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};u.push(d);const f=ho(this._engine.statesByElement,e,new Map);return f.has(t)||(ia(e,MI),ia(e,MI+"-"+t),f.set(t,A1)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function vB(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),d=new M1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ia(e,MI),ia(e,MI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new S1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=A1),w.value!==iE&&y.value===w.value){if(!function Dj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,w.params)){const de=[],be=u.matchStyles(y.value,y.params,de),Ze=u.matchStyles(w.value,w.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{qp(e,be),Ku(e,Ze)})}return}const B=ho(this._engine.playersByElement,e,[]);B.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let z=u.matchTransition(y.value,w.value,e,w.params),Z=!1;if(!z){if(!i)return;z=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:y,toState:w,player:d,isFallbackTransition:Z}),Z||(ia(e,JP),d.onStart(()=>{Ry(e,JP)})),d.onDone(()=>{let de=this.players.indexOf(d);de>=0&&this.players.splice(de,1);const be=this._engine.playersByElement.get(e);if(be){let Ze=be.indexOf(d);Ze>=0&&be.splice(Ze,1)}}),this.players.push(d),B.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,xI,!0);r.forEach(i=>{if(i[ra])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const f=[];if(u.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,iE,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Ih(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const d=u.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||A1,T=new S1(iE),A=new M1(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ra];(!u||u===XP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ia(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=c1(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,u1(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ej{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new vj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(jI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jI(t))return;const u=t[ra];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ia(e,D1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ry(e,D1))}removeNode(e,t,r,i){if(jI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[ra]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return jI(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,xI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,g1,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ih(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ra];if(t&&t.setForRemoval){if(e[ra]=XP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(D1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ia(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ih(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function EB(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new VI,i=[],u=new Map,d=[],f=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(_t=>{T.add(_t);const Ot=this.driver.query(_t,".ng-animate-queued",!0);for(let jt=0;jt<Ot.length;jt++)T.add(Ot[jt])});const A=this.bodyNode,B=Array.from(this.statesByElement.keys()),z=nk(B,this.collectedEnterElements),Z=new Map;let de=0;z.forEach((_t,Ot)=>{const jt=p1+de++;Z.set(Ot,jt),_t.forEach(yn=>ia(yn,jt))});const be=[],Ze=new Set,ct=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Ot=this.collectedLeaveElements[_t],jt=Ot[ra];jt&&jt.setForRemoval&&(be.push(Ot),Ze.add(Ot),jt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(yn=>Ze.add(yn)):ct.add(Ot))}const mt=new Map,ut=nk(B,Array.from(Ze));ut.forEach((_t,Ot)=>{const jt=AI+de++;mt.set(Ot,jt),_t.forEach(yn=>ia(yn,jt))}),e.push(()=>{z.forEach((_t,Ot)=>{const jt=Z.get(Ot);_t.forEach(yn=>Ry(yn,jt))}),ut.forEach((_t,Ot)=>{const jt=mt.get(Ot);_t.forEach(yn=>Ry(yn,jt))}),be.forEach(_t=>{this.processLeaveNode(_t)})});const Rt=[],Lt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(jt=>{const yn=jt.player,Ti=jt.element;if(Rt.push(yn),this.collectedEnterElements.length){const is=Ti[ra];if(is&&is.setForMove){if(is.previousTriggersValues&&is.previousTriggersValues.has(jt.triggerName)){const Zp=is.previousTriggersValues.get(jt.triggerName),sa=this.statesByElement.get(jt.element);if(sa&&sa.has(jt.triggerName)){const qI=sa.get(jt.triggerName);qI.value=Zp,sa.set(jt.triggerName,qI)}}return void yn.destroy()}}const Yu=!A||!this.driver.containsElement(A,Ti),po=mt.get(Ti),Dh=Z.get(Ti),Cr=this._buildInstruction(jt,r,Dh,po,Yu);if(Cr.errors&&Cr.errors.length)return void Lt.push(Cr);if(Yu)return yn.onStart(()=>qp(Ti,Cr.fromStyles)),yn.onDestroy(()=>Ku(Ti,Cr.toStyles)),void i.push(yn);if(jt.isFallbackTransition)return yn.onStart(()=>qp(Ti,Cr.fromStyles)),yn.onDestroy(()=>Ku(Ti,Cr.toStyles)),void i.push(yn);const _k=[];Cr.timelines.forEach(is=>{is.stretchStartingKeyframe=!0,this.disabledNodes.has(is.element)||_k.push(is)}),Cr.timelines=_k,r.append(Ti,Cr.timelines),d.push({instruction:Cr,player:yn,element:Ti}),Cr.queriedElements.forEach(is=>ho(f,is,[]).push(yn)),Cr.preStyleProps.forEach((is,Zp)=>{if(is.size){let sa=y.get(Zp);sa||y.set(Zp,sa=new Set),is.forEach((qI,F1)=>sa.add(F1))}}),Cr.postStyleProps.forEach((is,Zp)=>{let sa=w.get(Zp);sa||w.set(Zp,sa=new Set),is.forEach((qI,F1)=>sa.add(F1))})});if(Lt.length){const _t=[];Lt.forEach(Ot=>{_t.push(function wB(n,e){return new l.vHH(3505,!1)}())}),Rt.forEach(Ot=>Ot.destroy()),this.reportError(_t)}const dn=new Map,Is=new Map;d.forEach(_t=>{const Ot=_t.element;r.has(Ot)&&(Is.set(Ot,Ot),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,dn))}),i.forEach(_t=>{const Ot=_t.element;this._getPreviousPlayers(Ot,!1,_t.namespaceId,_t.triggerName,null).forEach(yn=>{ho(dn,Ot,[]).push(yn),yn.destroy()})});const Ic=be.filter(_t=>ik(_t,y,w)),Tc=new Map;tk(Tc,this.driver,ct,w,bc).forEach(_t=>{ik(_t,y,w)&&Ic.push(_t)});const oE=new Map;z.forEach((_t,Ot)=>{tk(oE,this.driver,new Set(_t),y,"!")}),Ic.forEach(_t=>{const Ot=Tc.get(_t),jt=oE.get(_t);Tc.set(_t,new Map([...Array.from(Ot?.entries()??[]),...Array.from(jt?.entries()??[])]))});const zp=[],mk=[],yk={};d.forEach(_t=>{const{element:Ot,player:jt,instruction:yn}=_t;if(r.has(Ot)){if(T.has(Ot))return jt.onDestroy(()=>Ku(Ot,yn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(yn.totalTime),void i.push(jt);let Ti=yk;if(Is.size>1){let po=Ot;const Dh=[];for(;po=po.parentNode;){const Cr=Is.get(po);if(Cr){Ti=Cr;break}Dh.push(po)}Dh.forEach(Cr=>Is.set(Cr,Ti))}const Yu=this._buildAnimation(jt.namespaceId,yn,dn,u,oE,Tc);if(jt.setRealPlayer(Yu),Ti===yk)zp.push(jt);else{const po=this.playersByElement.get(Ti);po&&po.length&&(jt.parentPlayer=Ih(po)),i.push(jt)}}else qp(Ot,yn.fromStyles),jt.onDestroy(()=>Ku(Ot,yn.toStyles)),mk.push(jt),T.has(Ot)&&i.push(jt)}),mk.forEach(_t=>{const Ot=u.get(_t.element);if(Ot&&Ot.length){const jt=Ih(Ot);_t.setRealPlayer(jt)}}),i.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<be.length;_t++){const Ot=be[_t],jt=Ot[ra];if(Ry(Ot,AI),jt&&jt.hasAnimation)continue;let yn=[];if(f.size){let Yu=f.get(Ot);Yu&&Yu.length&&yn.push(...Yu);let po=this.driver.query(Ot,g1,!0);for(let Dh=0;Dh<po.length;Dh++){let Cr=f.get(po[Dh]);Cr&&Cr.length&&yn.push(...Cr)}}const Ti=yn.filter(Yu=>!Yu.destroyed);Ti.length?Ij(this,Ot,Ti):this.processLeaveNode(Ot)}return be.length=0,zp.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Ot=this.players.indexOf(_t);this.players.splice(Ot,1)}),_t.play()}),zp}elementContainsData(e,t){let r=!1;const i=t[ra];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==iE;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==u,A=ho(r,w,[]);this._getPreviousPlayers(w,T,d,f,t.toState).forEach(z=>{const Z=z.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),z.destroy(),A.push(z)})}qp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,d){const f=t.triggerName,y=t.element,w=[],T=new Set,A=new Set,B=t.timelines.map(Z=>{const de=Z.element;T.add(de);const be=de[ra];if(be&&be.removedBeforeQueried)return new Q0(Z.duration,Z.delay);const Ze=de!==y,ct=function Tj(n){const e=[];return rk(n,e),e}((r.get(de)||yj).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===de),mt=u.get(de),ut=d.get(de),Rt=MP(0,this._normalizer,0,Z.keyframes,mt,ut),Lt=this._buildPlayer(Z,Rt,ct);if(Z.subTimeline&&i&&A.add(de),Ze){const dn=new M1(e,f,de);dn.setRealPlayer(Lt),w.push(dn)}return Lt});w.forEach(Z=>{ho(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function wj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>ia(Z,VP));const z=Ih(B);return z.onDestroy(()=>{T.forEach(Z=>Ry(Z,VP)),Ku(y,t.toStyles)}),A.forEach(Z=>{ho(i,Z,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Q0(e.duration,e.delay)}}class M1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Q0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>u1(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jI(n){return n&&1===n.nodeType}function ek(n,e){const t=n.style.display;return n.style.display=e??"none",t}function tk(n,e,t,r,i){const u=[];t.forEach(y=>u.push(ek(y)));const d=[];r.forEach((y,w)=>{const T=new Map;y.forEach(A=>{const B=e.computeStyle(w,A,i);T.set(A,B),(!B||0==B.length)&&(w[ra]=_j,d.push(w))}),n.set(w,T)});let f=0;return t.forEach(y=>ek(y,u[f++])),d}function nk(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function d(f){if(!f)return 1;let y=u.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),u.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function ia(n,e){n.classList?.add(e)}function Ry(n,e){n.classList?.remove(e)}function Ij(n,e,t){Ih(t).onDone(()=>n.processLeaveNode(e))}function rk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof CP?rk(r.players,e):e.push(r)}}function ik(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class $I{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new Ej(e,t,r),this._timelineEngine=new hj(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],T=v1(this._driver,u,y,[]);if(y.length)throw function cB(n,e){return new l.vHH(3404,!1)}();f=function uj(n,e,t){return new lj(n,e,t)}(i,T,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,d]=xP(r);this._timelineEngine.command(u,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[d,f]=xP(r);return this._timelineEngine.listen(d,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Aj=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ku(this._element,this._initialStyles),this._endStyles&&(Ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qp(this._element,this._endStyles),this._endStyles=null),Ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x1(n){let e=null;return n.forEach((t,r)=>{(function Mj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class sk{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:qP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PP(e,t)}getParentElement(e){return h1(e)}query(e,t,r){return kP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const w=new Map,T=d.filter(z=>z instanceof sk);(function PB(n,e){return 0===n||0===e})(r,i)&&T.forEach(z=>{z.currentSnapshot.forEach((Z,de)=>w.set(de,Z))});let A=function xB(n){return n.length?n[0]instanceof Map?n:n.map(e=>UP(e)):[]}(t).map(z=>Th(z));A=function kB(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,d)=>{r.has(d)||i.push(d),r.set(d,u)}),i.length)for(let u=1;u<e.length;u++){let d=e[u];i.forEach(f=>d.set(f,qP(n,f)))}}return e}(e,A,w);const B=function Sj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=x1(e[0]),e.length>1&&(r=x1(e[e.length-1]))):e instanceof Map&&(t=x1(e)),t||r?new Aj(n,t,r):null}(e,A);return new sk(e,A,y,B)}}let Nj=(()=>{class n extends _P{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?EP(t):t;return ok(this._renderer,null,r,"register",[i]),new Rj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rj extends _2{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Oj(this._id,e,t||{},this._renderer)}}class Oj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ok(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ok(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ak="@.disabled";let Pj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const f=d?.parentNode(u);f&&d.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new uk("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(d,f,t,T.name,T)};return r.data.animation.forEach(y),new kj(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,f]=u;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG($I),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uk{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ak?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class kj extends uk{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ak?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Fj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),d="";return"@"!=u.charAt(0)&&([u,d]=function Lj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let Vj=(()=>{class n extends $I{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(f1),l.LFG(I1),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const lk=[{provide:_P,useClass:Nj},{provide:I1,useFactory:function Uj(){return new ij}},{provide:$I,useClass:Vj},{provide:l.FYo,useFactory:function Bj(n,e,t){return new Pj(n,e,t)},deps:[ba,$I,l.R0b]}],N1=[{provide:f1,useFactory:()=>new xj},{provide:l.QbO,useValue:"BrowserAnimations"},...lk],ck=[{provide:f1,useClass:FP},{provide:l.QbO,useValue:"NoopAnimations"},...lk];let jj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ck:N1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:N1,imports:[$h]}),n})();class sE{constructor(){this.title="HolaMundo",this.placeHold="escriba aqui",this.deshabilitado=!1,this.texto="",this.valorTabla=!0,this.estudiantes=[{nombre:"Carlos",apellido:"Mey",edad:26},{nombre:"Carlos",apellido:"Mey",edad:26},{nombre:"Carlos",apellido:"Mey",edad:25},{nombre:"Carlos",apellido:"Mey",edad:25},{nombre:"Carlos",apellido:"Mey",edad:26}],setInterval(()=>this.title="HelloWorld",1e3)}mostrar(){this.valorTabla=!this.valorTabla}}sE.\u0275fac=function(e){return new(e||sE)},sE.\u0275cmp=l.Xpm({type:sE,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"router-outlet")},dependencies:[k_]});const dk_firebase={projectId:"tarjetacredito-eee61",appId:"1:1020872028321:web:a349d39d2247dc8c43c0e0",databaseURL:"https://tarjetacredito-eee61-default-rtdb.firebaseio.com",storageBucket:"tarjetacredito-eee61.appspot.com",apiKey:"AIzaSyCN9U_OZSWNCw-3cLTf_zSciC3iloo43jg",authDomain:"tarjetacredito-eee61.firebaseapp.com",messagingSenderId:"1020872028321"};k(1808);class fk{constructor(){return(0,En.vb)("auth")}}class P1{constructor(e){return e}}const pk="firestore",k1=new l.OlP("angularfire2.firestore-instances");function Zj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new P1(r)}}const Wj={provide:class Gj{constructor(){return(0,En.vb)(pk)}},deps:[[new l.FiY,k1]]},Kj={provide:P1,useFactory:function zj(n,e){const t=(0,En.JM)(pk,n,e);return t&&new P1(t)},deps:[[new l.FiY,k1],My]};let Yj=(()=>{class n{constructor(){(0,jp.KN)("angularfire",En.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Kj,Wj]}),n})();const Jj=(0,En.u3)(lV,!0);class Oy{}Oy.\u0275fac=function(e){return new(e||Oy)},Oy.\u0275mod=l.oAB({type:Oy,bootstrap:[sE]}),Oy.\u0275inj=l.cJS({imports:[$h,NE,Ny,mx,RE,uo.hO.initializeApp(dk_firebase),y2,function yU(n,...e){return{ngModule:mU,providers:[{provide:VM,useFactory:gU(n),multi:!0,deps:[l.R0b,l.zs3,En.HU,...e]}]}}(()=>_U(dk_firebase)),function Qj(n,...e){return{ngModule:Yj,providers:[{provide:k1,useFactory:Zj(n),multi:!0,deps:[l.R0b,l.zs3,En.HU,RO,[new l.FiY,fk],[new l.FiY,II],...e]}]}}(()=>Jj()),jj,SP,SP.forRoot()]}),Rs().bootstrapModule(Oy).catch(n=>console.error(n))},9751:(dt,Ae,k)=>{k.d(Ae,{y:()=>he});var l=k(2961),$=k(727),O=k(8822),re=k(9635),ue=k(2416),ie=k(576),ye=k(2806);let he=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const qe=new X;return qe.source=this,qe.operator=Me,qe}subscribe(Me,qe,nt){const ge=function q(X){return X&&X instanceof l.Lv||function G(X){return X&&(0,ie.m)(X.next)&&(0,ie.m)(X.error)&&(0,ie.m)(X.complete)}(X)&&(0,$.Nn)(X)}(Me)?Me:new l.Hp(Me,qe,nt);return(0,ye.x)(()=>{const{operator:Te,source:Ie}=this;ge.add(Te?Te.call(ge,Ie):Ie?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Me){try{return this._subscribe(Me)}catch(qe){Me.error(qe)}}forEach(Me,qe){return new(qe=me(qe))((nt,ge)=>{const Te=new l.Hp({next:Ie=>{try{Me(Ie)}catch(Pe){ge(Pe),Te.unsubscribe()}},error:ge,complete:nt});this.subscribe(Te)})}_subscribe(Me){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Me)}[O.L](){return this}pipe(...Me){return(0,re.U)(Me)(this)}toPromise(Me){return new(Me=me(Me))((qe,nt)=>{let ge;this.subscribe(Te=>ge=Te,Te=>nt(Te),()=>qe(ge))})}}return X.create=Be=>new X(Be),X})();function me(X){var Be;return null!==(Be=X??ue.v.Promise)&&void 0!==Be?Be:Promise}},7579:(dt,Ae,k)=>{k.d(Ae,{x:()=>ye});var l=k(9751),$=k(727);const re=(0,k(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=k(8737),ie=k(2806);let ye=(()=>{class me extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const X=new he(this,this);return X.operator=q,X}_throwIfClosed(){if(this.closed)throw new re}next(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(q)}})}error(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:X}=this;for(;X.length;)X.shift().error(q)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:X,isStopped:Be,observers:Me}=this;return X||Be?$.Lc:(this.currentObservers=null,Me.push(q),new $.w0(()=>{this.currentObservers=null,(0,ue.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:X,thrownError:Be,isStopped:Me}=this;X?q.error(Be):Me&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return me.create=(G,q)=>new he(G,q),me})();class he extends ye{constructor(G,q){super(),this.destination=G,this.source=q}next(G){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===X||X.call(q,G)}error(G){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===X||X.call(q,G)}complete(){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===q||q.call(G)}_subscribe(G){var q,X;return null!==(X=null===(q=this.source)||void 0===q?void 0:q.subscribe(G))&&void 0!==X?X:$.Lc}}},2961:(dt,Ae,k)=>{k.d(Ae,{Hp:()=>nt,Lv:()=>X});var l=k(576),$=k(727),O=k(2416),re=k(7849);function ue(){}const ie=me("C",void 0,void 0);function me(ke,Ne,De){return{kind:ke,value:Ne,error:De}}var G=k(3410),q=k(2806);class X extends $.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,$.Nn)(Ne)&&Ne.add(this)):this.destination=Pe}static create(Ne,De,je){return new nt(Ne,De,je)}next(Ne){this.isStopped?Ie(function he(ke){return me("N",ke,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?Ie(function ye(ke){return me("E",void 0,ke)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?Ie(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Me(ke,Ne){return Be.call(ke,Ne)}class qe{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:De}=this;if(De.next)try{De.next(Ne)}catch(je){ge(je)}}error(Ne){const{partialObserver:De}=this;if(De.error)try{De.error(Ne)}catch(je){ge(je)}else ge(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(De){ge(De)}}}class nt extends X{constructor(Ne,De,je){let ee;if(super(),(0,l.m)(Ne)||!Ne)ee={next:Ne??void 0,error:De??void 0,complete:je??void 0};else{let le;this&&O.v.useDeprecatedNextContext?(le=Object.create(Ne),le.unsubscribe=()=>this.unsubscribe(),ee={next:Ne.next&&Me(Ne.next,le),error:Ne.error&&Me(Ne.error,le),complete:Ne.complete&&Me(Ne.complete,le)}):ee=Ne}this.destination=new qe(ee)}}function ge(ke){O.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(ke):(0,re.h)(ke)}function Ie(ke,Ne){const{onStoppedNotification:De}=O.v;De&&G.z.setTimeout(()=>De(ke,Ne))}const Pe={closed:!0,next:ue,error:function Te(ke){throw ke},complete:ue}},727:(dt,Ae,k)=>{k.d(Ae,{Lc:()=>ie,w0:()=>ue,Nn:()=>ye});var l=k(576);const O=(0,k(3888).d)(me=>function(q){me(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((X,Be)=>`${Be+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var re=k(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(Me){G=Me instanceof O?Me.errors:[Me]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Me of Be)try{he(Me)}catch(qe){G=G??[],qe instanceof O?G=[...G,...qe.errors]:G.push(qe)}}if(G)throw new O(G)}}add(G){var q;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(G)}}_hasParent(G){const{_parentage:q}=this;return q===G||Array.isArray(q)&&q.includes(G)}_addParent(G){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(G),q):q?[q,G]:G}_removeParent(G){const{_parentage:q}=this;q===G?this._parentage=null:Array.isArray(q)&&(0,re.P)(q,G)}remove(G){const{_finalizers:q}=this;q&&(0,re.P)(q,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const me=new ue;return me.closed=!0,me})();const ie=ue.EMPTY;function ye(me){return me instanceof ue||me&&"closed"in me&&(0,l.m)(me.remove)&&(0,l.m)(me.add)&&(0,l.m)(me.unsubscribe)}function he(me){(0,l.m)(me)?me():me.unsubscribe()}},2416:(dt,Ae,k)=>{k.d(Ae,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,k)=>{k.d(Ae,{E:()=>$});const $=new(k(9751).y)(ue=>ue.complete())},8996:(dt,Ae,k)=>{k.d(Ae,{D:()=>Ne});var l=k(8421),$=k(5363),O=k(9468),ie=k(9751),he=k(2202),me=k(576),G=k(9672);function X(De,je){if(!De)throw new Error("Iterable cannot be null");return new ie.y(ee=>{(0,G.f)(ee,je,()=>{const le=De[Symbol.asyncIterator]();(0,G.f)(ee,je,()=>{le.next().then(ve=>{ve.done?ee.complete():ee.next(ve.value)})},0,!0)})})}var Be=k(3670),Me=k(8239),qe=k(1144),nt=k(6495),ge=k(2206),Te=k(4532),Ie=k(3260);function Ne(De,je){return je?function ke(De,je){if(null!=De){if((0,Be.c)(De))return function re(De,je){return(0,l.Xf)(De).pipe((0,O.R)(je),(0,$.Q)(je))}(De,je);if((0,qe.z)(De))return function ye(De,je){return new ie.y(ee=>{let le=0;return je.schedule(function(){le===De.length?ee.complete():(ee.next(De[le++]),ee.closed||this.schedule())})})}(De,je);if((0,Me.t)(De))return function ue(De,je){return(0,l.Xf)(De).pipe((0,O.R)(je),(0,$.Q)(je))}(De,je);if((0,ge.D)(De))return X(De,je);if((0,nt.T)(De))return function q(De,je){return new ie.y(ee=>{let le;return(0,G.f)(ee,je,()=>{le=De[he.h](),(0,G.f)(ee,je,()=>{let ve,Q;try{({value:ve,done:Q}=le.next())}catch(J){return void ee.error(J)}Q?ee.complete():ee.next(ve)},0,!0)}),()=>(0,me.m)(le?.return)&&le.return()})}(De,je);if((0,Ie.L)(De))return function Pe(De,je){return X((0,Ie.Q)(De),je)}(De,je)}throw(0,Te.z)(De)}(De,je):(0,l.Xf)(De)}},8421:(dt,Ae,k)=>{k.d(Ae,{Xf:()=>Be});var l=k(655),$=k(1144),O=k(8239),re=k(9751),ue=k(3670),ie=k(2206),ye=k(4532),he=k(6495),me=k(3260),G=k(576),q=k(7849),X=k(8822);function Be(ke){if(ke instanceof re.y)return ke;if(null!=ke){if((0,ue.c)(ke))return function Me(ke){return new re.y(Ne=>{const De=ke[X.L]();if((0,G.m)(De.subscribe))return De.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,$.z)(ke))return function qe(ke){return new re.y(Ne=>{for(let De=0;De<ke.length&&!Ne.closed;De++)Ne.next(ke[De]);Ne.complete()})}(ke);if((0,O.t)(ke))return function nt(ke){return new re.y(Ne=>{ke.then(De=>{Ne.closed||(Ne.next(De),Ne.complete())},De=>Ne.error(De)).then(null,q.h)})}(ke);if((0,ie.D)(ke))return Te(ke);if((0,he.T)(ke))return function ge(ke){return new re.y(Ne=>{for(const De of ke)if(Ne.next(De),Ne.closed)return;Ne.complete()})}(ke);if((0,me.L)(ke))return function Ie(ke){return Te((0,me.Q)(ke))}(ke)}throw(0,ye.z)(ke)}function Te(ke){return new re.y(Ne=>{(function Pe(ke,Ne){var De,je,ee,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(ke);!(je=yield De.next()).done;)if(Ne.next(je.value),Ne.closed)return}catch(ve){ee={error:ve}}finally{try{je&&!je.done&&(le=De.return)&&(yield le.call(De))}finally{if(ee)throw ee.error}}Ne.complete()})})(ke,Ne).catch(De=>Ne.error(De))})}},6451:(dt,Ae,k)=>{k.d(Ae,{T:()=>ie});var l=k(8189),$=k(8421),O=k(515),re=k(7669),ue=k(8996);function ie(...ye){const he=(0,re.yG)(ye),me=(0,re._6)(ye,1/0),G=ye;return G.length?1===G.length?(0,$.Xf)(G[0]):(0,l.J)(me)((0,ue.D)(G,he)):O.E}},5403:(dt,Ae,k)=>{k.d(Ae,{x:()=>$});var l=k(2961);function $(re,ue,ie,ye,he){return new O(re,ue,ie,ye,he)}class O extends l.Lv{constructor(ue,ie,ye,he,me,G){super(ue),this.onFinalize=me,this.shouldUnsubscribe=G,this._next=ie?function(q){try{ie(q)}catch(X){ue.error(X)}}:super._next,this._error=he?function(q){try{he(q)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(dt,Ae,k)=>{k.d(Ae,{U:()=>O});var l=k(4482),$=k(5403);function O(re,ue){return(0,l.e)((ie,ye)=>{let he=0;ie.subscribe((0,$.x)(ye,me=>{ye.next(re.call(ue,me,he++))}))})}},8189:(dt,Ae,k)=>{k.d(Ae,{J:()=>O});var l=k(5577),$=k(4671);function O(re=1/0){return(0,l.z)($.y,re)}},5577:(dt,Ae,k)=>{k.d(Ae,{z:()=>he});var l=k(4004),$=k(8421),O=k(4482),re=k(9672),ue=k(5403),ye=k(576);function he(me,G,q=1/0){return(0,ye.m)(G)?he((X,Be)=>(0,l.U)((Me,qe)=>G(X,Me,Be,qe))((0,$.Xf)(me(X,Be))),q):("number"==typeof G&&(q=G),(0,O.e)((X,Be)=>function ie(me,G,q,X,Be,Me,qe,nt){const ge=[];let Te=0,Ie=0,Pe=!1;const ke=()=>{Pe&&!ge.length&&!Te&&G.complete()},Ne=je=>Te<X?De(je):ge.push(je),De=je=>{Me&&G.next(je),Te++;let ee=!1;(0,$.Xf)(q(je,Ie++)).subscribe((0,ue.x)(G,le=>{Be?.(le),Me?Ne(le):G.next(le)},()=>{ee=!0},void 0,()=>{if(ee)try{for(Te--;ge.length&&Te<X;){const le=ge.shift();qe?(0,re.f)(G,qe,()=>De(le)):De(le)}ke()}catch(le){G.error(le)}}))};return me.subscribe((0,ue.x)(G,Ne,()=>{Pe=!0,ke()})),()=>{nt?.()}}(X,Be,me,q)))}},5363:(dt,Ae,k)=>{k.d(Ae,{Q:()=>re});var l=k(9672),$=k(4482),O=k(5403);function re(ue,ie=0){return(0,$.e)((ye,he)=>{ye.subscribe((0,O.x)(he,me=>(0,l.f)(he,ue,()=>he.next(me),ie),()=>(0,l.f)(he,ue,()=>he.complete(),ie),me=>(0,l.f)(he,ue,()=>he.error(me),ie)))})}},3099:(dt,Ae,k)=>{k.d(Ae,{B:()=>ue});var l=k(8421),$=k(7579),O=k(2961),re=k(4482);function ue(ye={}){const{connector:he=(()=>new $.x),resetOnError:me=!0,resetOnComplete:G=!0,resetOnRefCountZero:q=!0}=ye;return X=>{let Be,Me,qe,nt=0,ge=!1,Te=!1;const Ie=()=>{Me?.unsubscribe(),Me=void 0},Pe=()=>{Ie(),Be=qe=void 0,ge=Te=!1},ke=()=>{const Ne=Be;Pe(),Ne?.unsubscribe()};return(0,re.e)((Ne,De)=>{nt++,!Te&&!ge&&Ie();const je=qe=qe??he();De.add(()=>{nt--,0===nt&&!Te&&!ge&&(Me=ie(ke,q))}),je.subscribe(De),!Be&&nt>0&&(Be=new O.Hp({next:ee=>je.next(ee),error:ee=>{Te=!0,Ie(),Me=ie(Pe,me,ee),je.error(ee)},complete:()=>{ge=!0,Ie(),Me=ie(Pe,G),je.complete()}}),(0,l.Xf)(Ne).subscribe(Be))})(X)}}function ie(ye,he,...me){if(!0===he)return void ye();if(!1===he)return;const G=new O.Hp({next:()=>{G.unsubscribe(),ye()}});return(0,l.Xf)(he(...me)).subscribe(G)}},9468:(dt,Ae,k)=>{k.d(Ae,{R:()=>$});var l=k(4482);function $(O,re=0){return(0,l.e)((ue,ie)=>{ie.add(O.schedule(()=>ue.subscribe(ie),re))})}},8505:(dt,Ae,k)=>{k.d(Ae,{b:()=>ue});var l=k(576),$=k(4482),O=k(5403),re=k(4671);function ue(ie,ye,he){const me=(0,l.m)(ie)||ye||he?{next:ie,error:ye,complete:he}:ie;return me?(0,$.e)((G,q)=>{var X;null===(X=me.subscribe)||void 0===X||X.call(me);let Be=!0;G.subscribe((0,O.x)(q,Me=>{var qe;null===(qe=me.next)||void 0===qe||qe.call(me,Me),q.next(Me)},()=>{var Me;Be=!1,null===(Me=me.complete)||void 0===Me||Me.call(me),q.complete()},Me=>{var qe;Be=!1,null===(qe=me.error)||void 0===qe||qe.call(me,Me),q.error(Me)},()=>{var Me,qe;Be&&(null===(Me=me.unsubscribe)||void 0===Me||Me.call(me)),null===(qe=me.finalize)||void 0===qe||qe.call(me)}))}):re.y}},4408:(dt,Ae,k)=>{k.d(Ae,{o:()=>ue});var l=k(727);class $ extends l.w0{constructor(ye,he){super()}schedule(ye,he=0){return this}}const O={setInterval(ie,ye,...he){const{delegate:me}=O;return me?.setInterval?me.setInterval(ie,ye,...he):setInterval(ie,ye,...he)},clearInterval(ie){const{delegate:ye}=O;return(ye?.clearInterval||clearInterval)(ie)},delegate:void 0};var re=k(8737);class ue extends ${constructor(ye,he){super(ye,he),this.scheduler=ye,this.work=he,this.pending=!1}schedule(ye,he=0){var me;if(this.closed)return this;this.state=ye;const G=this.id,q=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(q,G,he)),this.pending=!0,this.delay=he,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(q,this.id,he),this}requestAsyncId(ye,he,me=0){return O.setInterval(ye.flush.bind(ye,this),me)}recycleAsyncId(ye,he,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return he;null!=he&&O.clearInterval(he)}execute(ye,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ye,he);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,he){let G,me=!1;try{this.work(ye)}catch(q){me=!0,G=q||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ye,scheduler:he}=this,{actions:me}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=ye&&(this.id=this.recycleAsyncId(he,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,k)=>{k.d(Ae,{v:()=>O});var l=k(6063);class ${constructor(ue,ie=$.now){this.schedulerActionCtor=ue,this.now=ie}schedule(ue,ie=0,ye){return new this.schedulerActionCtor(this,ue).schedule(ye,ie)}}$.now=l.l.now;class O extends ${constructor(ue,ie=$.now){super(ue,ie),this.actions=[],this._active=!1}flush(ue){const{actions:ie}=this;if(this._active)return void ie.push(ue);let ye;this._active=!0;do{if(ye=ue.execute(ue.state,ue.delay))break}while(ue=ie.shift());if(this._active=!1,ye){for(;ue=ie.shift();)ue.unsubscribe();throw ye}}}},4986:(dt,Ae,k)=>{k.d(Ae,{z:()=>O});var l=k(4408);const O=new(k(7565).v)(l.o)},6063:(dt,Ae,k)=>{k.d(Ae,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,k)=>{k.d(Ae,{z:()=>l});const l={setTimeout($,O,...re){const{delegate:ue}=l;return ue?.setTimeout?ue.setTimeout($,O,...re):setTimeout($,O,...re)},clearTimeout($){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(dt,Ae,k)=>{k.d(Ae,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,k)=>{k.d(Ae,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Ae,k)=>{k.d(Ae,{_6:()=>ie,jO:()=>re,yG:()=>ue});var l=k(576);function O(ye){return ye[ye.length-1]}function re(ye){return(0,l.m)(O(ye))?ye.pop():void 0}function ue(ye){return function $(ye){return ye&&(0,l.m)(ye.schedule)}(O(ye))?ye.pop():void 0}function ie(ye,he){return"number"==typeof O(ye)?ye.pop():he}},8737:(dt,Ae,k)=>{function l($,O){if($){const re=$.indexOf(O);0<=re&&$.splice(re,1)}}k.d(Ae,{P:()=>l})},3888:(dt,Ae,k)=>{function l($){const re=$(ue=>{Error.call(ue),ue.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(Ae,{d:()=>l})},2806:(dt,Ae,k)=>{k.d(Ae,{O:()=>re,x:()=>O});var l=k(2416);let $=null;function O(ue){if(l.v.useDeprecatedSynchronousErrorHandling){const ie=!$;if(ie&&($={errorThrown:!1,error:null}),ue(),ie){const{errorThrown:ye,error:he}=$;if($=null,ye)throw he}}else ue()}function re(ue){l.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ue)}},9672:(dt,Ae,k)=>{function l($,O,re,ue=0,ie=!1){const ye=O.schedule(function(){re(),ie?$.add(this.schedule(null,ue)):this.unsubscribe()},ue);if($.add(ye),!ie)return ye}k.d(Ae,{f:()=>l})},4671:(dt,Ae,k)=>{function l($){return $}k.d(Ae,{y:()=>l})},1144:(dt,Ae,k)=>{k.d(Ae,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(dt,Ae,k)=>{k.d(Ae,{D:()=>$});var l=k(576);function $(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(dt,Ae,k)=>{function l($){return"function"==typeof $}k.d(Ae,{m:()=>l})},3670:(dt,Ae,k)=>{k.d(Ae,{c:()=>O});var l=k(8822),$=k(576);function O(re){return(0,$.m)(re[l.L])}},6495:(dt,Ae,k)=>{k.d(Ae,{T:()=>O});var l=k(2202),$=k(576);function O(re){return(0,$.m)(re?.[l.h])}},8239:(dt,Ae,k)=>{k.d(Ae,{t:()=>$});var l=k(576);function $(O){return(0,l.m)(O?.then)}},3260:(dt,Ae,k)=>{k.d(Ae,{L:()=>re,Q:()=>O});var l=k(655),$=k(576);function O(ue){return(0,l.FC)(this,arguments,function*(){const ye=ue.getReader();try{for(;;){const{value:he,done:me}=yield(0,l.qq)(ye.read());if(me)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(he)}}finally{ye.releaseLock()}})}function re(ue){return(0,$.m)(ue?.getReader)}},4482:(dt,Ae,k)=>{k.d(Ae,{A:()=>$,e:()=>O});var l=k(576);function $(re){return(0,l.m)(re?.lift)}function O(re){return ue=>{if($(ue))return ue.lift(function(ie){try{return re(ie,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,Ae,k)=>{k.d(Ae,{U:()=>O,z:()=>$});var l=k(4671);function $(...re){return O(re)}function O(re){return 0===re.length?l.y:1===re.length?re[0]:function(ie){return re.reduce((ye,he)=>he(ye),ie)}}},7849:(dt,Ae,k)=>{k.d(Ae,{h:()=>O});var l=k(2416),$=k(3410);function O(re){$.z.setTimeout(()=>{const{onUnhandledError:ue}=l.v;if(!ue)throw re;ue(re)})}},4532:(dt,Ae,k)=>{function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>l})},655:(dt,Ae,k)=>{function re(Q,J){var fe={};for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&J.indexOf(se)<0&&(fe[se]=Q[se]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(se=Object.getOwnPropertySymbols(Q);Ve<se.length;Ve++)J.indexOf(se[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,se[Ve])&&(fe[se[Ve]]=Q[se[Ve]])}return fe}function he(Q,J,fe,se){return new(fe||(fe=Promise))(function(Le,ht){function on(zt){try{Tt(se.next(zt))}catch(vt){ht(vt)}}function pn(zt){try{Tt(se.throw(zt))}catch(vt){ht(vt)}}function Tt(zt){zt.done?Le(zt.value):function Ve(Le){return Le instanceof fe?Le:new fe(function(ht){ht(Le)})}(zt.value).then(on,pn)}Tt((se=se.apply(Q,J||[])).next())})}function ge(Q){return this instanceof ge?(this.v=Q,this):new ge(Q)}function Te(Q,J,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,se=fe.apply(Q,J||[]),Le=[];return Ve={},ht("next"),ht("throw"),ht("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ht(sn){se[sn]&&(Ve[sn]=function(lr){return new Promise(function(Qt,bt){Le.push([sn,lr,Qt,bt])>1||on(sn,lr)})})}function on(sn,lr){try{!function pn(sn){sn.value instanceof ge?Promise.resolve(sn.value.v).then(Tt,zt):vt(Le[0][2],sn)}(se[sn](lr))}catch(Qt){vt(Le[0][3],Qt)}}function Tt(sn){on("next",sn)}function zt(sn){on("throw",sn)}function vt(sn,lr){sn(lr),Le.shift(),Le.length&&on(Le[0][0],Le[0][1])}}function Pe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,J=Q[Symbol.asyncIterator];return J?J.call(Q):(Q=function X(Q){var J="function"==typeof Symbol&&Symbol.iterator,fe=J&&Q[J],se=0;if(fe)return fe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&se>=Q.length&&(Q=void 0),{value:Q&&Q[se++],done:!Q}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),fe={},se("next"),se("throw"),se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function se(Le){fe[Le]=Q[Le]&&function(ht){return new Promise(function(on,pn){!function Ve(Le,ht,on,pn){Promise.resolve(pn).then(function(Tt){Le({value:Tt,done:on})},ht)}(on,pn,(ht=Q[Le](ht)).done,ht.value)})}}}k.d(Ae,{FC:()=>Te,KL:()=>Pe,_T:()=>re,mG:()=>he,qq:()=>ge})},4650:(dt,Ae,k)=>{k.d(Ae,{$8M:()=>_l,$WT:()=>Fn,$Z:()=>rw,AFp:()=>tC,ALo:()=>Pb,AaK:()=>he,AsE:()=>Lf,BQk:()=>tm,CHM:()=>Rh,CRH:()=>Dm,CZH:()=>Vm,CqO:()=>Vw,D6c:()=>MS,EJc:()=>sC,EiD:()=>u_,EpF:()=>Lw,F4k:()=>Pf,FYo:()=>en,FiY:()=>io,GfV:()=>VE,Gpc:()=>q,JOm:()=>gs,JVY:()=>rT,JZr:()=>nt,KtG:()=>Oc,L6k:()=>n_,LAX:()=>iT,LFG:()=>$e,LSH:()=>SE,Lbi:()=>Bm,Lck:()=>Ib,MMx:()=>wv,MR2:()=>Ur,NdJ:()=>J_,OlP:()=>Xt,Oqu:()=>ir,P3R:()=>h_,PXZ:()=>u0,Q6J:()=>Of,QGY:()=>Q_,QbO:()=>rC,Qsj:()=>gf,R0b:()=>_s,RDi:()=>eT,Rgc:()=>ap,SBq:()=>pf,Sil:()=>wS,Suo:()=>rh,TTD:()=>bo,TgZ:()=>Ql,Tol:()=>Ld,Udp:()=>sv,X6Q:()=>_C,XFs:()=>et,Xpm:()=>go,Xts:()=>xE,Y36:()=>Dd,YKP:()=>Cb,YNc:()=>Rw,Yjl:()=>yo,Yz7:()=>bt,Z0I:()=>In,ZZ4:()=>p0,_Bn:()=>gm,_UZ:()=>Xg,_Vd:()=>kl,_c5:()=>wp,_uU:()=>Vd,aQg:()=>ta,c2e:()=>iC,cJS:()=>Xr,cg1:()=>ub,d8E:()=>Du,dDg:()=>o0,dqk:()=>xt,eBb:()=>bE,eFA:()=>Km,ekj:()=>ec,eoX:()=>gC,f3M:()=>Qe,g9A:()=>Jv,h0i:()=>nc,hGG:()=>SC,hij:()=>Ud,iGM:()=>Vv,ifc:()=>xe,ip1:()=>Qv,jDz:()=>ym,kL8:()=>ND,lG2:()=>qa,lcZ:()=>Fb,lqb:()=>Er,lri:()=>fC,mCW:()=>Cg,n5z:()=>yl,oAB:()=>mo,oJD:()=>d_,oxw:()=>wi,pB0:()=>r_,q3G:()=>vr,q4F:()=>UE,qLn:()=>Fg,qOj:()=>j_,qZA:()=>Jl,qzn:()=>pd,rWj:()=>pC,sBO:()=>Gt,s_b:()=>ic,soG:()=>Uu,tb:()=>Xv,tp0:()=>I,uIk:()=>z_,vHH:()=>ge,vpe:()=>Bs,wAp:()=>Nt,xi3:()=>Nv,xp6:()=>yf,ynx:()=>em,z2F:()=>Ym,z3N:()=>ks,zSh:()=>f_,zs3:()=>Vl});var l=k(7579),$=k(727),O=k(9751),re=k(6451),ue=k(3099);function ie(s){for(let o in s)if(s[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function ye(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ie({__forward_ref__:ie});function q(s){return s.__forward_ref__=q,s.toString=function(){return he(this())},s}function X(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===q}function Me(s){return s&&!!s.\u0275providers}const nt="https://g.co/ng/security#xss";class ge extends Error{constructor(o,a){super(function Te(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function je(s,o){throw new ge(-201,!1)}function zt(s,o){null==s&&function vt(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function bt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ir(s){return zi(s,ei)||zi(s,gn)}function In(s){return null!==Ir(s)}function zi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Bn(s){return s&&(s.hasOwnProperty(Ai)||s.hasOwnProperty(cr))?s[Ai]:null}const ei=ie({\u0275prov:ie}),Ai=ie({\u0275inj:ie}),gn=ie({ngInjectableDef:ie}),cr=ie({ngInjectorDef:ie});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let dr;function jn(s){const o=dr;return dr=s,o}function $n(s,o,a){const c=Ir(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&et.Optional?null:void 0!==o?o:void je(he(s))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},Tn="__NG_DI_FLAG__",ti="ngTempTokenPath",Mi=/\n/gm,xi="__source";let Kt;function Or(s){const o=Kt;return Kt=s,o}function kn(s,o=et.Default){if(void 0===Kt)throw new ge(-203,!1);return null===Kt?$n(s,void 0,o):Kt.get(s,o&et.Optional?null:void 0,o)}function $e(s,o=et.Default){return(function Tr(){return dr}()||kn)(X(s),o)}function Qe(s,o=et.Default){return $e(s,Ct(o))}function Ct(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Dt(s){const o=[];for(let a=0;a<s.length;a++){const c=X(s[a]);if(Array.isArray(c)){if(0===c.length)throw new ge(900,!1);let h,p=et.Default;for(let _=0;_<c.length;_++){const E=c[_],C=H(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}o.push($e(h,p))}else o.push($e(c))}return o}function Jt(s,o){return s[Tn]=o,s.prototype[Tn]=o,s}function H(s){return s[Tn]}function U(s){return{toString:s}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),xe=(()=>{return(s=xe||(xe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",xe;var s})();const it={},Ge=[],Vt=ie({\u0275cmp:ie}),at=ie({\u0275dir:ie}),vn=ie({\u0275pipe:ie}),hr=ie({\u0275mod:ie}),Pt=ie({\u0275fac:ie}),Pr=ie({__NG_ELEMENT_ID__:ie});let Qu=0;function go(s){return U(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ge,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||xe.Emulated,id:"c"+Qu++,styles:s.styles||Ge,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,_=s.features;return h.inputs=el(s.inputs,c),h.outputs=el(s.outputs),_&&_.forEach(E=>E(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Xu).filter(fr):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Dr).filter(fr):null,h})}function Xu(s){return an(s)||Cn(s)}function fr(s){return null!==s}function mo(s){return U(()=>({type:s.type,bootstrap:s.bootstrap||Ge,declarations:s.declarations||Ge,imports:s.imports||Ge,exports:s.exports||Ge,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function el(s,o){if(null==s)return it;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const qa=go;function yo(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function an(s){return s[Vt]||null}function Cn(s){return s[at]||null}function Dr(s){return s[vn]||null}function Fn(s){const o=an(s)||Cn(s)||Dr(s);return null!==o&&o.standalone}function kr(s,o){const a=s[hr]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function ii(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ar(s){return Array.isArray(s)&&!0===s[1]}function us(s){return 0!=(4&s.flags)}function ua(s){return s.componentOffset>-1}function rl(s){return 1==(1&s.flags)}function yr(s){return null!==s.template}function Kp(s){return 0!=(256&s[2])}function Ws(s,o){return s.hasOwnProperty(Pt)?s[Pt]:null}class wo{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bo(){return Co}function Co(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ks),Ja}function Ja(){const s=Xa(this),o=s?.current;if(o){const a=s.previous;if(a===it)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Ks(s,o,a,c){const h=this.declaredInputs[a],p=Xa(s)||function eu(s,o){return s[Io]=o}(s,{previous:it,current:null}),_=p.current||(p.current={}),E=p.previous,C=E[h];_[h]=new wo(C&&C.currentValue,o,E===it),s[c]=o}bo.ngInherit=!0;const Io="__ngSimpleChanges__";function Xa(s){return s[Io]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function Ds(s,o){return Rn(o[s])}function _r(s,o){return Rn(o[s.index])}function tu(s,o){return s.data[o]}function cs(s,o){return s[o]}function tr(s,o){const a=o[s];return ii(a)?a:a[0]}function Qs(s){return 64==(64&s[2])}function Ni(s,o){return null==o?null:s[o]}function ol(s){s[18]=0}function Js(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Ut={lFrame:eg(null),bindingsEnabled:!0};function Rc(){return Ut.bindingsEnabled}function _e(){return Ut.lFrame.lView}function nn(){return Ut.lFrame.tView}function Rh(s){return Ut.lFrame.contextLView=s,s[8]}function Oc(s){return Ut.lFrame.contextLView=null,s}function nr(){let s=ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function ul(){return Ut.lFrame.currentTNode}function Ri(s,o){const a=Ut.lFrame;a.currentTNode=s,a.isParent=o}function So(){return Ut.lFrame.isParent}function Pc(){Ut.lFrame.isParent=!1}function Mr(){const s=Ut.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ds(){return Ut.lFrame.bindingIndex++}function Ss(s){const o=Ut.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ll(s,o){const a=Ut.lFrame;a.bindingIndex=a.bindingRootIndex=s,As(o)}function As(s){Ut.lFrame.currentDirectiveIndex=s}function ga(s){const o=Ut.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function kh(){return Ut.lFrame.currentQueryIndex}function cl(s){Ut.lFrame.currentQueryIndex=s}function Fc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Fh(s,o,a){if(a&et.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&et.Host||(h=Fc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Ut.lFrame=Xp();return c.currentTNode=o,c.lView=s,!0}function iu(s){const o=Xp(),a=s[1];Ut.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Xp(){const s=Ut.lFrame,o=null===s?null:s.child;return null===o?eg(s):o}function eg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function tg(){const s=Ut.lFrame;return Ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Lc=tg;function ng(){const s=tg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gr(){return Ut.lFrame.selectedIndex}function hs(s){Ut.lFrame.selectedIndex=s}function hn(){const s=Ut.lFrame;return tu(s.tView,s.selectedIndex)}function ma(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function No(s,o,a){jc(s,o,3,a)}function fs(s,o,a,c){(3&s[2])===a&&jc(s,o,a,c)}function Ki(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function jc(s,o,a,c){const p=c??-1,_=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<p||-1==p)&&(su(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function su(s,o,a,c){const h=a[c]<0,p=a[c+1],E=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class ya{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Xs(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],_=a[c++],E=a[c++];s.setAttribute(o,_,E,p)}else{const p=h,_=a[++c];Ea(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),c++}}return c}function eo(s){return 3===s||4===s||6===s}function Ea(s){return 64===s.charCodeAt(0)}function Oi(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||dl(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function dl(s,o,a,c,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function hl(s){return-1!==s}function wa(s){return 32767&s}function to(s,o){let a=function fl(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Oo=!0;function Yi(s){const o=Oo;return Oo=s,o}let $c=0;const Lr={};function Ns(s,o){const a=pl(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ko(c.data,s),ko(o,null),ko(c.blueprint,null));const h=Ca(s,o),p=s.injectorIndex;if(hl(h)){const _=wa(h),E=to(h,o),C=E[1].data;for(let S=0;S<8;S++)o[p+S]=E[_+S]|C[_+S]}return o[p+8]=h,p}function ko(s,o){s.push(0,0,0,0,0,0,0,0,o)}function pl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ca(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Hh(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function qc(s,o,a){!function Hc(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Pr)&&(c=a[Pr]),null==c&&(c=a[Pr]=$c++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Gc(s,o,a){if(a&et.Optional||void 0!==s)return s;je()}function Fo(s,o,a,c){if(a&et.Optional&&void 0===c&&(c=null),!(a&(et.Self|et.Host))){const h=s[9],p=jn(void 0);try{return h?h.get(o,c,a&et.Optional):$n(o,c,a&et.Optional)}finally{jn(p)}}return Gc(c,0,a)}function Bh(s,o,a,c=et.Default,h){if(null!==s){if(1024&o[2]){const _=function $h(s,o,a,c,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Pi(p,_,a,c|et.Self,Lr);if(E!==Lr)return E;let C=p.parent;if(!C){const S=_[21];if(S){const N=S.get(a,Lr,c);if(N!==Lr)return N}C=Hh(_),_=_[15]}p=C}return h}(s,o,a,c,Lr);if(_!==Lr)return _}const p=Pi(s,o,a,c,Lr);if(p!==Lr)return p}return Fo(o,a,c,h)}function Pi(s,o,a,c,h){const p=function zc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Pr)?s[Pr]:void 0;return"number"==typeof o?o>=0?255&o:jh:o}(a);if("function"==typeof p){if(!Fh(o,s,c))return c&et.Host?Gc(h,0,c):Fo(o,a,c,h);try{const _=p(c);if(null!=_||c&et.Optional)return _;je()}finally{Lc()}}else if("number"==typeof p){let _=null,E=pl(s,o),C=-1,S=c&et.Host?o[16][6]:null;for((-1===E||c&et.SkipSelf)&&(C=-1===E?Ca(s,o):o[E+8],-1!==C&&Zr(c,!1)?(_=o[1],E=wa(C),o=to(C,o)):E=-1);-1!==E;){const N=o[1];if(ml(p,E,N.data)){const F=gl(E,o,a,_,c,S);if(F!==Lr)return F}C=o[E+8],-1!==C&&Zr(c,o[1].data[E+8]===S)&&ml(p,E,o)?(_=N,E=wa(C),o=to(C,o)):E=-1}}return h}function gl(s,o,a,c,h,p){const _=o[1],E=_.data[s+8],N=Ia(E,_,a,null==c?ua(E)&&Oo:c!=_&&0!=(3&E.type),h&et.Host&&p===E);return null!==N?ki(o,_,N,E):Lr}function Ia(s,o,a,c,h){const p=s.providerIndexes,_=o.data,E=1048575&p,C=s.directiveStart,N=p>>20,W=h?E+N:s.directiveEnd;for(let ne=c?E:E+N;ne<W;ne++){const we=_[ne];if(ne<C&&a===we||ne>=C&&we.type===a)return ne}if(h){const ne=_[C];if(ne&&yr(ne)&&ne.type===a)return C}return null}function ki(s,o,a,c){let h=s[a];const p=o.data;if(function zr(s){return s instanceof ya}(h)){const _=h;_.resolving&&function ke(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ge(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(p[a]));const E=Yi(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?jn(_.injectImpl):null;Fh(s,c,et.Default);try{h=s[a]=_.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Bc(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const _=Co(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&jn(C),Yi(E),_.resolving=!1,Lc()}}return h}function ml(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Zr(s,o){return!(s&et.Self||s&et.Host&&o)}class Rs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Bh(this._tNode,this._lView,o,Ct(c),a)}}function jh(){return new Rs(nr(),_e())}function yl(s){return U(()=>{const o=s.prototype.constructor,a=o[Pt]||Lo(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[Pt]||Lo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Lo(s){return Be(s)?()=>{const o=Lo(X(s));return o&&o()}:Ws(s)}function Hh(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function _l(s){return function ou(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(eo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(nr(),s)}const Ta="__parameters__";function au(s,o,a){return U(()=>{const c=function Zc(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(C,S,N){const F=C.hasOwnProperty(Ta)?C[Ta]:Object.defineProperty(C,Ta,{value:[]})[Ta];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(_),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Xt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=bt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ps(s,o){s.forEach(a=>Array.isArray(a)?ps(a,o):o(a))}function wl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Sa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function si(s,o,a){let c=qn(s,o);return c>=0?s[1|c]=a:(c=~c,function sg(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function mn(s,o){const a=qn(s,o);if(a>=0)return s[1|a]}function qn(s,o){return function bl(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const io=Jt(au("Optional"),8),I=Jt(au("SkipSelf"),4);var gs=(()=>((gs=gs||{})[gs.Important=1]="Important",gs[gs.DashCase=2]="DashCase",gs))();const rd=new Map;let hg=0;const pg="__ngContext__";function ui(s,o){ii(o)?(s[pg]=o[20],function Xi(s){rd.set(s[20],s)}(o)):s[pg]=o}function Se(s,o){return undefined(s,o)}function ot(s){const o=s[3];return Ar(o)?o[3]:o}function _i(s){return $o(s[13])}function Ps(s){return $o(s[4])}function $o(s){for(;null!==s&&!Ar(s);)s=s[4];return s}function Ho(s,o,a,c,h){if(null!=c){let p,_=!1;Ar(c)?p=c:ii(c)&&(_=!0,c=c[0]);const E=Rn(c);0===s&&null!==a?null==h?fE(o,a,E):mu(o,a,E,h||null,!0):1===s&&null!==a?mu(o,a,E,h||null,!0):2===s?function xl(s,o,a){const c=_g(s,o);c&&function GI(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=p&&function L1(s,o,a,c,h){const p=a[7];p!==Rn(a)&&Ho(o,s,c,p,h);for(let E=10;E<a.length;E++){const C=a[E];cd(C[1],C,s,o,c,p)}}(o,s,p,a,h)}}function od(s,o,a){return s.createElement(o,a)}function gu(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Js(h,-1)),a.splice(c,1)}function ud(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&gu(h,c),o>0&&(s[a-1][4]=c[4]);const p=Sa(s,10+o);!function qy(s,o){cd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function rf(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&cd(s,o,a,3,null,null),function Na(s){let o=s[13];if(!o)return Gy(s[1],s);for(;o;){let a=null;if(ii(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)ii(o)&&Gy(o[1],o),o=o[3];null===o&&(o=s),ii(o)&&Gy(o[1],o),a=o&&o[4]}o=a}}(o)}}function Gy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function yg(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof ya)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],C=p[_+1];try{C.call(E)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function zy(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?c[h=_]():c[h=-_].unsubscribe(),p+=2}else{const _=c[h=a[p+1]];a[p].call(_)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ar(o[3])){a!==o[3]&&gu(a,o);const c=o[19];null!==c&&c.detachView(s)}!function Ml(s){rd.delete(s[20])}(o)}}function dE(s,o,a){return function hE(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=s.data[c.directiveStart+h];if(p===xe.None||p===xe.Emulated)return null}return _r(c,a)}}(s,o.parent,a)}function mu(s,o,a,c,h){s.insertBefore(o,a,c,h)}function fE(s,o,a){s.appendChild(o,a)}function Zy(s,o,a,c,h){null!==c?mu(s,o,a,c,h):fE(s,o,a)}function _g(s,o){return s.parentNode(o)}let Jy,hd,wg,vg=function ZI(s,o,a){return 40&s.type?_r(s,a):null};function ld(s,o,a,c){const h=dE(s,c,o),p=o[11],E=function zI(s,o,a){return vg(s,o,a)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)Zy(p,h,a[C],E,!1);else Zy(p,h,a,E,!1)}function Eg(s,o){if(null!==o){const a=o.type;if(3&a)return _r(o,s);if(4&a)return Qy(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Eg(s,c);{const h=s[o.index];return Ar(h)?Qy(-1,h):Rn(h)}}if(32&a)return Se(o,s)()||Rn(s[o.index]);{const c=WI(s,o);return null!==c?Array.isArray(c)?c[0]:Eg(ot(s[16]),c):Eg(s,o.next)}}return null}function WI(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Qy(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Eg(c,h)}return o[7]}function Nl(s,o,a,c,h,p,_){for(;null!=a;){const E=c[a.index],C=a.type;if(_&&0===o&&(E&&ui(Rn(E),c),a.flags|=2),32!=(32&a.flags))if(8&C)Nl(s,o,a.child,c,h,p,!1),Ho(o,s,h,E,p);else if(32&C){const S=Se(a,c);let N;for(;N=S();)Ho(o,s,h,N,p);Ho(o,s,h,E,p)}else 16&C?dd(s,o,c,a,h,p):Ho(o,s,h,E,p);a=_?a.projectionNext:a.next}}function cd(s,o,a,c,h,p){Nl(a,c,s.firstChild,o,h,p,!1)}function dd(s,o,a,c,h,p){const _=a[16],C=_[6].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ho(o,s,h,C[S],p);else Nl(s,o,C,_[3],h,p,!0)}function YI(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function QI(s,o,a){const{mergedAttrs:c,classes:h,styles:p}=a;null!==c&&Xs(s,o,c),null!==h&&YI(s,o,h),null!==p&&function gE(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function Rl(s){return function mE(){if(void 0===Jy&&(Jy=null,xt.trustedTypes))try{Jy=xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Jy}()?.createHTML(s)||s}function eT(s){hd=s}function _E(){if(void 0===wg&&(wg=null,xt.trustedTypes))try{wg=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return wg}function Xy(s){return _E()?.createHTML(s)||s}function bg(s){return _E()?.createScriptURL(s)||s}class Ol{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}class EE extends Ol{getTypeName(){return"HTML"}}class e_ extends Ol{getTypeName(){return"Style"}}class tT extends Ol{getTypeName(){return"Script"}}class wE extends Ol{getTypeName(){return"URL"}}class nT extends Ol{getTypeName(){return"ResourceURL"}}function ks(s){return s instanceof Ol?s.changingThisBreaksApplicationSecurity:s}function pd(s,o){const a=function t_(s){return s instanceof Ol&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${nt})`)}return a===o}function rT(s){return new EE(s)}function n_(s){return new e_(s)}function bE(s){return new tT(s)}function iT(s){return new wE(s)}function r_(s){return new nT(s)}class IE{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Rl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class sT{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Rl(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Rl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const i_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Cg(s){return(s=String(s)).match(i_)?s:"unsafe:"+s}function qo(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function af(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const oT=qo("area,br,col,hr,img,wbr"),Ig=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tg=qo("rp,rt"),s_=af(oT,af(Ig,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),af(Tg,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),af(Tg,Ig)),Dg=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TE=af(Dg,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cT=qo("script,style,template");class o_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!s_.hasOwnProperty(a))return this.sanitizedSomething=!0,!cT.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),_=p.name,E=_.toLowerCase();if(!TE.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;Dg[E]&&(C=Cg(C)),this.buf.push(" ",_,'="',a_(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();s_.hasOwnProperty(a)&&!oT.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(a_(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const DE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dT=/([^\#-~ |!])/g;function a_(s){return s.replace(/&/g,"&amp;").replace(DE,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(dT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sg;function u_(s,o){let a=null;try{Sg=Sg||function CE(s){const o=new sT(s);return function sf(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch{return!1}}()?new IE(o):o}(s);let c=o?String(o):"";a=Sg.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=Sg.getInertBodyElement(c)}while(c!==p);return Rl((new o_).sanitizeChildren(l_(a)||a))}finally{if(a){const c=l_(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function l_(s){return"content"in s&&function c_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function d_(s){const o=Ag();return o?Xy(o.sanitize(vr.HTML,s)||""):pd(s,"HTML")?Xy(ks(s)):u_(function fd(){return void 0!==hd?hd:typeof document<"u"?document:void 0}(),Ie(s))}function SE(s){const o=Ag();return o?o.sanitize(vr.URL,s)||"":pd(s,"URL")?ks(s):Cg(Ie(s))}function hT(s){const o=Ag();if(o)return bg(o.sanitize(vr.RESOURCE_URL,s)||"");if(pd(s,"ResourceURL"))return bg(ks(s));throw new ge(904,!1)}function h_(s,o,a){return function j1(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?hT:SE}(o,a)(s)}function Ag(){const s=_e();return s&&s[12]}const xE=new Xt("ENVIRONMENT_INITIALIZER"),NE=new Xt("INJECTOR",-1),RE=new Xt("INJECTOR_DEF_TYPES");class Et{get(o,a=Jn){if(a===Jn){const c=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw c.name="NullInjectorError",c}return a}}function Ur(s){return{\u0275providers:s}}function oo(...s){return{\u0275providers:OE(0,s),\u0275fromNgModule:!0}}function OE(s,...o){const a=[],c=new Set;let h;return ps(o,p=>{const _=p;Pl(_,a,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&uf(h,a),a}function uf(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Mg(h,p=>{o.push(p)})}}function Pl(s,o,a,c){if(!(s=X(s)))return!1;let h=null,p=Bn(s);const _=!p&&an(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(p=Bn(C),!p)return!1;h=C}const E=c.has(h);if(_){if(E)return!1;if(c.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of C)Pl(S,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;c.add(h);try{ps(p.imports,N=>{Pl(N,o,a,c)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&uf(S,o)}if(!E){const S=Ws(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Ge},{provide:RE,useValue:h,multi:!0},{provide:xE,useValue:()=>$e(h),multi:!0})}const C=p.providers;null==C||E||Mg(C,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}function Mg(s,o){for(let a of s)Me(a)&&(a=a.\u0275providers),Array.isArray(a)?Mg(a,o):o(a)}const fT=ie({provide:String,useValue:ie});function xg(s){return null!==s&&"object"==typeof s&&fT in s}function Ra(s){return"function"==typeof s}const f_=new Xt("Set Injector scope."),yd={},lf={};let Go;function cf(){return void 0===Go&&(Go=new Et),Go}class Er{}class Ng extends Er{get destroyed(){return this._destroyed}constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p_(o,_=>this.processProvider(_)),this.records.set(NE,li(void 0,this)),h.has("environment")&&this.records.set(Er,li(void 0,this));const p=this.records.get(f_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(RE.multi,Ge,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Or(this),c=jn(void 0);try{return o()}finally{Or(a),jn(c)}}get(o,a=Jn,c=et.Default){this.assertNotDestroyed(),c=Ct(c);const h=Or(this),p=jn(void 0);try{if(!(c&et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function FE(s){return"function"==typeof s||"object"==typeof s&&s instanceof Xt}(o)&&Ir(o);E=C&&this.injectableDefInScope(C)?li(Rg(o),yd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&et.Self?cf():this.parent).get(o,a=c&et.Optional&&a===Jn?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ti]=_[ti]||[]).unshift(he(o)),h)throw _;return function j(s,o,a,c){const h=s[ti];throw o[xi]&&h.unshift(o[xi]),s.message=function K(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Mi,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[ti]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{jn(p),Or(h)}}resolveInjectorInitializers(){const o=Or(this),a=jn(void 0);try{const c=this.get(xE.multi,Ge,et.Self);for(const h of c)h()}finally{Or(o),jn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(he(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(o){let a=Ra(o=X(o))?o:X(o&&o.provide);const c=function df(s){return xg(s)?li(void 0,s.useValue):li(hf(s),yd)}(o);if(Ra(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=li(void 0,yd,!0),h.factory=()=>Dt(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===yd&&(a.value=lf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Og(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Rg(s){const o=Ir(s),a=null!==o?o.factory:Ws(s);if(null!==a)return a;if(s instanceof Xt)throw new ge(204,!1);if(s instanceof Function)return function Wr(s){const o=s.length;if(o>0)throw function Os(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?"),new ge(204,!1);const a=function Ts(s){const o=s&&(s[ei]||s[gn]);if(o){const a=function Si(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ge(204,!1)}function hf(s,o,a){let c;if(Ra(s)){const h=X(s);return Ws(h)||Rg(h)}if(xg(s))c=()=>X(s.useValue);else if(function PE(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Dt(s.deps||[]));else if(function md(s){return!(!s||!s.useExisting)}(s))c=()=>$e(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Li(s){return!!s.deps}(s))return Ws(h)||Rg(h);c=()=>new h(...Dt(s.deps))}return c}function li(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function p_(s,o){for(const a of s)Array.isArray(a)?p_(a,o):a&&Me(a)?p_(a.\u0275providers,o):o(a)}class Oa{}class Pa{}class ff{resolveComponentFactory(o){throw function vi(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let kl=(()=>{class s{}return s.NULL=new ff,s})();function LE(){return _d(nr(),_e())}function _d(s,o){return new pf(_r(s,o))}let pf=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=LE,s})();function g_(s){return s instanceof pf?s.nativeElement:s}class en{}let gf=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function pT(){const s=_e(),a=tr(nr().index,s);return(ii(a)?a:s)[11]}(),s})(),vd=(()=>{class s{}return s.\u0275prov=bt({token:s,providedIn:"root",factory:()=>null}),s})();class VE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const UE=new VE("15.1.1"),Fs={};function kg(s){return s.ngOriginalError}class Fg{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&kg(o);for(;a&&kg(a);)a=kg(a);return a||null}}function Fa(s){return s instanceof Function?s():s}function GE(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const _u="ng-template";function yT(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==GE(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function wd(s){return 4===s.type&&s.value!==_u}function y_(s,o,a){return o===(4!==s.type||a?s.value:_u)}function _T(s,o,a){let c=4;const h=s.attrs||[],p=function vT(s){for(let o=0;o<s.length;o++)if(eo(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!y_(s,C,a)||""===C&&1===o.length){if(es(c))return!1;_=!0}}else{const S=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!yT(s.attrs,S,a)){if(es(c))return!1;_=!0}continue}const F=mf(8&c?"class":C,h,wd(s),a);if(-1===F){if(es(c))return!1;_=!0;continue}if(""!==S){let W;W=F>p?"":h[F+1].toLowerCase();const ne=8&c?W:null;if(ne&&-1!==GE(ne,S,0)||2&c&&S!==W){if(es(c))return!1;_=!0}}}}else{if(!_&&!es(c)&&!es(C))return!1;if(_&&es(C))continue;_=!1,c=C|1&c}}return es(c)||_}function es(s){return 0==(1&s)}function mf(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function v_(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function __(s,o,a=!1){for(let c=0;c<o.length;c++)if(_T(s,o[c],a))return!0;return!1}function E_(s,o){return s?":not("+o.trim()+")":o}function zE(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&c){const E=s[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!es(_)&&(o+=E_(p,h),h=""),c=_,p=p||!es(c);a++}return""!==h&&(o+=E_(p,h)),o}const Wt={};function yf(s){ZE(nn(),_e(),Gr()+s,!1)}function ZE(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&No(o,p,a)}else{const p=s.preOrderHooks;null!==p&&fs(o,p,0,a)}hs(a)}function TT(s,o=null,a=null,c){const h=QE(s,o,a,c);return h.resolveInjectorInitializers(),h}function QE(s,o=null,a=null,c,h=new Set){const p=[a||Ge,oo(s)];return c=c||("object"==typeof s?void 0:he(s)),new Ng(p,o||cf(),c||null,h)}let Vl=(()=>{class s{static create(a,c){if(Array.isArray(a))return TT({name:""},c,a,"");{const h=a.name??"";return TT({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Jn,s.NULL=new Et,s.\u0275prov=bt({token:s,providedIn:"any",factory:()=>$e(NE)}),s.__NG_ELEMENT_ID__=-1,s})();function Dd(s,o=et.Default){const a=_e();return null===a?$e(s,o):Bh(nr(),a,X(s),o)}function rw(){throw new Error("invalid")}function iw(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const _=s.data[p];cl(a[c]),_.contentQueries(2,o[p],p)}}}function Ef(s,o,a,c,h,p,_,E,C,S,N){const F=o.blueprint.slice();return F[0]=h,F[2]=76|c,(null!==N||s&&1024&s[2])&&(F[2]|=1024),ol(F),F[3]=F[15]=s,F[8]=a,F[10]=_||s&&s[10],F[11]=E||s&&s[11],F[12]=C||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=p,F[20]=function uE(){return hg++}(),F[21]=N,F[16]=2==o.type?s[16]:F,F}function Sd(s,o,a,c,h){let p=s.data[o];if(null===p)p=function sw(s,o,a,c,h){const p=ul(),_=So(),C=s.data[o]=function uw(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,a,c,h),function kc(){return Ut.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const _=function Do(){const s=Ut.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Ri(p,!0),p}function wf(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function ow(s,o,a){iu(o);try{const c=s.viewQuery;null!==c&&U_(1,c,a);const h=s.template;null!==h&&M_(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&iw(s,o),s.staticViewQueries&&U_(2,s.viewQuery,a);const p=s.components;null!==p&&function OT(s,o){for(let a=0;a<o.length;a++)BT(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ng()}}function Hg(s,o,a,c){const h=o[2];if(128!=(128&h)){iu(o);try{ol(o),function Mo(s){return Ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&M_(s,o,a,2,c);const _=3==(3&h);if(_){const S=s.preOrderCheckHooks;null!==S&&No(o,S,null)}else{const S=s.preOrderHooks;null!==S&&fs(o,S,0,null),Ki(o,0)}if(function F_(s){for(let o=_i(s);null!==o;o=Ps(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c];512&h[2]||Js(h[3],1),h[2]|=512}}}(o),function Q1(s){for(let o=_i(s);null!==o;o=Ps(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Qs(c)&&Hg(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&iw(s,o),_){const S=s.contentCheckHooks;null!==S&&No(o,S)}else{const S=s.contentHooks;null!==S&&fs(o,S,1),Ki(o,1)}!function NT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)hs(~h);else{const p=h,_=a[++c],E=a[++c];ll(_,p),E(2,o[p])}}}finally{hs(-1)}}(s,o);const E=s.components;null!==E&&function RT(s,o){for(let a=0;a<o.length;a++)UT(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&U_(2,C,c),_){const S=s.viewCheckHooks;null!==S&&No(o,S)}else{const S=s.viewHooks;null!==S&&fs(o,S,2),Ki(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Js(o[3],-1))}finally{ng()}}}function M_(s,o,a,c,h){const p=Gr(),_=2&c;try{hs(-1),_&&o.length>22&&ZE(s,o,22,!1),a(c,h)}finally{hs(p)}}function bf(s,o,a){if(us(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function Cf(s,o,a){Rc()&&(function hw(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;ua(a)&&function LT(s,o,a){const c=_r(o,s),h=jl(a),p=s[10],_=Vi(s,Ef(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=_}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||Ns(a,o),ui(c,o);const _=a.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],S=ki(o,s,E,a);ui(S,o),null!==_&&K1(0,E-h,S,C,0,_),yr(C)&&(tr(a.index,o)[8]=ki(o,s,E,a))}}(s,o,a,_r(a,o)),64==(64&a.flags)&&O_(s,o,a))}function ao(s,o,a=_r){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?a(o,s):s[_];s[h++]=E}}}function jl(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=qg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function qg(s,o,a,c,h,p,_,E,C,S){const N=22+c,F=N+h,W=function aw(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Wt);return a}(N,F),ne="function"==typeof S?S():S;return W[1]={type:s,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:ne,incompleteFirstPass:!1}}function $l(s,o,a,c){const h=Df(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&gw(s).push(c,h.length-1))}function lw(s,o,a,c){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const p=s[h];null===c?If(a,o,h,p):c.hasOwnProperty(h)&&If(a,o,c[h],p)}return a}function If(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function ts(s,o,a,c,h,p,_,E){const C=_r(o,a);let N,S=o.inputs;!E&&null!=S&&(N=S[c])?(Gl(s,a,N,c,h),ua(o)&&Gg(a,o.index)):3&o.type&&(c=function x_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,p.setProperty(C,c,h))}function Gg(s,o){const a=tr(o,s);16&a[2]||(a[2]|=32)}function Hl(s,o,a,c){let h=!1;if(Rc()){const p=null===c?null:{"":-1},_=function pw(s,o){const a=s.directiveRegistry;let c=null,h=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(__(o,_.selectors,!1))if(c||(c=[]),yr(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),c.unshift(...E,_),P_(s,o,E.length)}else c.unshift(_),P_(s,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,c,h),c.push(_)}return null===c?null:[c,h]}(s,a);let E,C;null===_?E=C=null:[E,C]=_,null!==E&&(h=!0,dw(s,o,a,E,p,C)),p&&function Tf(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new ge(-301,!1);c.push(o[h],p)}}}(a,c,p)}return a.mergedAttrs=Oi(a.mergedAttrs,a.attrs),h}function dw(s,o,a,c,h,p){for(let S=0;S<c.length;S++)qc(Ns(a,o),s,c[S].type);!function k_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let S=0;S<c.length;S++){const N=c[S];N.providersResolver&&N.providersResolver(N)}let _=!1,E=!1,C=wf(s,o,c.length,null);for(let S=0;S<c.length;S++){const N=c[S];a.mergedAttrs=Oi(a.mergedAttrs,N.hostAttrs),FT(s,a,o,C,N),zg(C,N,h),null!==N.contentQueries&&(a.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=64);const F=N.type.prototype;!_&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),_=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),C++}!function cw(s,o,a){const h=o.directiveEnd,p=s.data,_=o.attrs,E=[];let C=null,S=null;for(let N=o.directiveStart;N<h;N++){const F=p[N],W=a?a.get(F):null,we=W?W.outputs:null;C=lw(F.inputs,N,C,W?W.inputs:null),S=lw(F.outputs,N,S,we);const He=null===C||null===_||wd(o)?null:Y1(C,N,_);E.push(He)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=S}(s,a,p)}function O_(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,_=function Ph(){return Ut.lFrame.currentDirectiveIndex}();try{hs(p);for(let E=c;E<h;E++){const C=s.data[E],S=o[E];As(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&fw(C,S)}}finally{hs(-1),As(_)}}function fw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function P_(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function zg(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;yr(o)&&(a[""]=s)}}function FT(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ws(h.type)),_=new ya(p,yr(h),Dd);s.blueprint[c]=_,a[c]=_,function kT(s,o,a,c,h){const p=h.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~o.index;(function R_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=E&&_.push(E),_.push(a,c,p)}}(s,o,c,wf(s,a,h.hostVars,Wt),h)}function Ls(s,o,a,c,h,p){const _=_r(s,o);!function Zg(s,o,a,c,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const E=null==_?Ie(p):_(p,c||"",h);s.setAttribute(o,h,E,a)}}(o[11],_,p,s.value,a,c,h)}function K1(s,o,a,c,h,p){const _=p[o];if(null!==_){const E=c.setInput;for(let C=0;C<_.length;){const S=_[C++],N=_[C++],F=_[C++];null!==E?c.setInput(a,F,S,N):a[N]=F}}}function Y1(s,o,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const _=s[p];for(let E=0;E<_.length;E+=2)if(_[E]===o){c.push(p,_[E+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function VT(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null]}function UT(s,o){const a=tr(o,s);if(Qs(a)){const c=a[1];48&a[2]?Hg(c,a,c.template,a[8]):a[5]>0&&L_(a)}}function L_(s){for(let c=_i(s);null!==c;c=Ps(c))for(let h=10;h<c.length;h++){const p=c[h];if(Qs(p))if(512&p[2]){const _=p[1];Hg(_,p,_.template,p[8])}else p[5]>0&&L_(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=tr(a[c],s);Qs(h)&&h[5]>0&&L_(h)}}function BT(s,o){const a=tr(o,s),c=a[1];(function V_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),ow(c,a,a[8])}function Vi(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Wg(s){for(;s;){s[2]|=32;const o=ot(s);if(Kp(s)&&!o)return s;s=o}return null}function Eu(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{Hg(s,o,s.template,a)}catch(_){throw c&&ql(o,_),_}finally{h.end&&h.end()}}function U_(s,o,a){cl(0),o(s,a)}function Df(s){return s[7]||(s[7]=[])}function gw(s){return s.cleanup||(s.cleanup=[])}function ql(s,o){const a=s[9],c=a?a.get(Fg,null):null;c&&c.handleError(o)}function Gl(s,o,a,c,h){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],C=o[_],S=s.data[_];null!==S.setInput?S.setInput(C,h,c,E):C[E]=h}}function La(s,o,a){const c=Ds(o,s);!function hu(s,o,a){s.setValue(o,a)}(s[11],c,a)}function Kg(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=me(h,E):2==p&&(c=me(c,E+": "+o[++_]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function wu(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Rn(p)),Ar(p))for(let E=10;E<p.length;E++){const C=p[E],S=C[1].firstChild;null!==S&&wu(C[1],C,S,c)}const _=a.type;if(8&_)wu(s,o,a.child,c);else if(32&_){const E=Se(a,o);let C;for(;C=E();)c.push(C)}else if(16&_){const E=WI(o,a);if(Array.isArray(E))c.push(...E);else{const C=ot(o[16]);wu(C[1],C,E,c,!0)}}a=h?a.projectionNext:a.next}return c}class Va{get rootNodes(){const o=this._lView,a=o[1];return wu(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ar(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(ud(o,c),Sa(a,c))}this._attachedToViewContainer=!1}rf(this._lView[1],this._lView)}onDestroy(o){$l(this._lView[1],this._lView,null,o)}markForCheck(){Wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Eu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mg(s,o){cd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=o}}class $T extends Va{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Eu(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class yw extends kl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=an(o);return new Sf(a,this.ngModule)}}function _w(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class qT{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Ct(c);const h=this.injector.get(o,Fs,c);return h!==Fs||a===Fs?h:this.parentInjector.get(o,a,c)}}class Sf extends Pa{get inputs(){return _w(this.componentDef.inputs)}get outputs(){return _w(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ET(s){return s.map(zE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof Er?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new qT(o,p):o,E=_.get(en,null);if(null===E)throw new ge(407,!1);const C=_.get(vd,null),S=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",F=c?function PT(s,o,a){return s.selectRootElement(o,a===xe.ShadowDom)}(S,c,this.componentDef.encapsulation):od(S,N,function HT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),W=this.componentDef.onPush?288:272,ne=qg(0,null,null,1,0,null,null,null,null,null),we=Ef(null,ne,null,W,null,null,E,S,C,_,null);let He,Ke;iu(we);try{const Xe=this.componentDef;let Mt,Fe=null;Xe.findHostDirectiveDefs?(Mt=[],Fe=new Map,Xe.findHostDirectiveDefs(Xe,Mt,Fe),Mt.push(Xe)):Mt=[Xe];const $t=function B_(s,o){const a=s[1];return s[22]=o,Sd(a,22,2,"#host",null)}(we,F),wt=function Yg(s,o,a,c,h,p,_,E){const C=h[1];!function Ad(s,o,a,c){for(const h of s)o.mergedAttrs=Oi(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Kg(o,o.mergedAttrs,!0),null!==a&&QI(c,a,o))}(c,s,o,_);const S=p.createRenderer(o,a),N=Ef(h,jl(a),null,a.onPush?32:16,h[s.index],s,p,S,E||null,null,null);return C.firstCreatePass&&P_(C,s,c.length-1),Vi(h,N),h[s.index]=N}($t,F,Xe,Mt,we,E,S);Ke=tu(ne,22),F&&function zT(s,o,a,c){if(c)Xs(s,a,["ng-version",UE.full]);else{const{attrs:h,classes:p}=function wT(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!es(h))break;h=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);h&&Xs(s,a,h),p&&p.length>0&&YI(s,a,p.join(" "))}}(S,Xe,F,c),void 0!==a&&function ZT(s,o,a){const c=s.projection=[];for(let h=0;h<o.length;h++){const p=a[h];c.push(null!=p?Array.from(p):null)}}(Ke,this.ngContentSelectors,a),He=function GT(s,o,a,c,h,p){const _=nr(),E=h[1],C=_r(_,h);dw(E,h,_,a,null,c);for(let N=0;N<a.length;N++)ui(ki(h,E,_.directiveStart+N,_),h);O_(E,h,_),C&&ui(C,h);const S=ki(h,E,_.directiveStart+_.componentOffset,_);if(s[8]=h[8]=S,null!==p)for(const N of p)N(S,o);return bf(E,_,s),S}(wt,Xe,Mt,Fe,we,[WT]),ow(ne,we,null)}finally{ng()}return new X1(this.componentType,He,_d(Ke,we),we,Ke)}}class X1 extends Oa{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new $T(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;Gl(p[1],p,h,o,a),Gg(p,this._tNode.index)}}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function WT(){const s=nr();ma(_e()[1],s)}function j_(s){let o=function vw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(yr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ge(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const _=s;_.inputs=$_(s.inputs),_.declaredInputs=$_(s.declaredInputs),_.outputs=$_(s.outputs);const E=h.hostBindings;E&&QT(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&YT(s,C),S&&Ew(s,S),ye(s.inputs,h.inputs),ye(s.declaredInputs,h.declaredInputs),ye(s.outputs,h.outputs),yr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===j_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function KT(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Oi(h.hostAttrs,a=Oi(a,h.hostAttrs))}}(c)}function $_(s){return s===it?{}:s===Ge?[]:s}function YT(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function Ew(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function QT(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let Mf=null;function bu(){if(!Mf){const s=xt.Symbol;if(s&&s.iterator)Mf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Mf=c)}}}return Mf}function zl(s){return!!Jg(s)&&(Array.isArray(s)||!(s instanceof Map)&&bu()in s)}function Jg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Zo(s,o,a){return s[o]=a}function Ei(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Zl(s,o,a,c){const h=Ei(s,o,a);return Ei(s,o+1,c)||h}function z_(s,o,a,c){const h=_e();return Ei(h,ds(),o)&&(nn(),Ls(hn(),h,s,o,a,c)),z_}function Nd(s,o,a,c,h,p){const E=Zl(s,function Fr(){return Ut.lFrame.bindingIndex}(),a,h);return Ss(2),E?o+Ie(a)+c+Ie(h)+p:Wt}function Rw(s,o,a,c,h,p,_,E){const C=_e(),S=nn(),N=s+22,F=S.firstCreatePass?function K_(s,o,a,c,h,p,_,E,C){const S=o.consts,N=Sd(o,s,4,_||null,Ni(S,E));Hl(o,a,N,Ni(S,C)),ma(o,N);const F=N.tViews=qg(2,N,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),F.queries=o.queries.embeddedTView(N)),N}(N,S,C,o,a,c,h,p,_):S.data[N];Ri(F,!1);const W=C[11].createComment("");ld(S,C,W,F),ui(W,C),Vi(C,C[N]=VT(W,C,W,F)),rl(F)&&Cf(S,C,F),null!=_&&ao(C,F,E)}function Of(s,o,a){const c=_e();return Ei(c,ds(),o)&&ts(nn(),hn(),c,s,o,c[11],a,!1),Of}function Y_(s,o,a,c,h){const _=h?"class":"style";Gl(s,a,o.inputs[_],_,c)}function Ql(s,o,a,c){const h=_e(),p=nn(),_=22+s,E=h[11],C=h[_]=od(E,o,function rg(){return Ut.lFrame.currentNamespace}()),S=p.firstCreatePass?function Pw(s,o,a,c,h,p,_){const E=o.consts,S=Sd(o,s,2,h,Ni(E,p));return Hl(o,a,S,Ni(E,_)),null!==S.attrs&&Kg(S,S.attrs,!1),null!==S.mergedAttrs&&Kg(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,p,h,0,o,a,c):p.data[_];return Ri(S,!0),QI(E,C,S),32!=(32&S.flags)&&ld(p,h,C,S),0===function fa(){return Ut.lFrame.elementDepthCount}()&&ui(C,h),function xh(){Ut.lFrame.elementDepthCount++}(),rl(S)&&(Cf(p,h,S),bf(p,S,h)),null!==c&&ao(h,S),Ql}function Jl(){let s=nr();So()?Pc():(s=s.parent,Ri(s,!1));const o=s;!function pa(){Ut.lFrame.elementDepthCount--}();const a=nn();return a.firstCreatePass&&(ma(a,s),us(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function va(s){return 0!=(8&s.flags)}(o)&&Y_(a,o,_e(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ms(s){return 0!=(16&s.flags)}(o)&&Y_(a,o,_e(),o.stylesWithoutHost,!1),Jl}function Xg(s,o,a,c){return Ql(s,o,a,c),Jl(),Xg}function em(s,o,a){const c=_e(),h=nn(),p=s+22,_=h.firstCreatePass?function kw(s,o,a,c,h){const p=o.consts,_=Ni(p,c),E=Sd(o,s,8,"ng-container",_);return null!==_&&Kg(E,_,!0),Hl(o,a,E,Ni(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,c,o,a):h.data[p];Ri(_,!0);const E=c[p]=c[11].createComment("");return ld(h,c,E,_),ui(E,c),rl(_)&&(Cf(h,c,_),bf(h,_,c)),null!=a&&ao(c,_),em}function tm(){let s=nr();const o=nn();return So()?Pc():(s=s.parent,Ri(s,!1)),o.firstCreatePass&&(ma(o,s),us(s)&&o.queries.elementEnd(s)),tm}function Lw(){return _e()}function Q_(s){return!!s&&"function"==typeof s.then}function Pf(s){return!!s&&"function"==typeof s.subscribe}const Vw=Pf;function J_(s,o,a,c){const h=_e(),p=nn(),_=nr();return function Uw(s,o,a,c,h,p,_){const E=rl(c),S=s.firstCreatePass&&gw(s),N=o[8],F=Df(o);let W=!0;if(3&c.type||_){const He=_r(c,o),Ke=_?_(He):He,Xe=F.length,Mt=_?$t=>_(Rn($t[c.index])):c.index;let Fe=null;if(!_&&E&&(Fe=function tD(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===c){const E=o[7],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,c.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=p,Fe.__ngLastListenerFn__=p,W=!1;else{p=jw(c,o,N,p,!1);const $t=a.listen(Ke,h,p);F.push(p,$t),S&&S.push(h,Mt,Xe,Xe+1)}}else p=jw(c,o,N,p,!1);const ne=c.outputs;let we;if(W&&null!==ne&&(we=ne[h])){const He=we.length;if(He)for(let Ke=0;Ke<He;Ke+=2){const wt=o[we[Ke]][we[Ke+1]].subscribe(p),Ft=F.length;F.push(p,wt),S&&S.push(h,c.index,Ft,-(Ft+1))}}}(p,h,h[11],_,s,o,c),J_}function Bw(s,o,a,c){try{return!1!==a(c)}catch(h){return ql(s,h),!1}}function jw(s,o,a,c,h){return function p(_){if(_===Function)return c;Wg(s.componentOffset>-1?tr(s.index,o):o);let C=Bw(o,0,c,_),S=p.__ngNextListenerFn__;for(;S;)C=Bw(o,0,S,_)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function wi(s=1){return function Py(s){return(Ut.lFrame.contextLView=function Vc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ut.lFrame.contextLView))[8]}(s)}function Wo(s,o){return s<<17|o<<2}function Ko(s){return s>>17&32767}function qw(s){return 2|s}function Cu(s){return(131068&s)>>2}function sm(s,o){return-131069&s|o<<2}function rv(s){return 1|s}function lD(s,o,a,c,h){const p=s[a+1],_=null===o;let E=c?Ko(p):Cu(p),C=!1;for(;0!==E&&(!1===C||_);){const N=s[E+1];sx(s[E],o)&&(C=!0,s[E+1]=c?rv(N):qw(N)),E=c?Ko(N):Cu(N)}C&&(s[a+1]=c?qw(p):rv(p))}function sx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&qn(s,o)>=0}const Zn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cD(s){return s.substring(Zn.key,Zn.keyEnd)}function Zw(s,o){const a=Zn.textEnd;return a===o?-1:(o=Zn.keyEnd=function hD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Zn.key=o,a),Fd(s,o,a))}function Fd(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function sv(s,o,a){return rs(s,o,a,!1),sv}function ec(s,o){return rs(s,o,null,!0),ec}function Ld(s){!function ys(s,o,a,c){const h=nn(),p=Ss(2);h.firstUpdatePass&&mD(h,null,p,c);const _=_e();if(a!==Wt&&Ei(_,p,a)){const E=h.data[Gr()];if(Xw(E,c)&&!Qo(h,p)){let C=c?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(a=me(C,a||"")),Y_(h,E,_,a,c)}else!function bD(s,o,a,c,h,p,_,E){h===Wt&&(h=Ge);let C=0,S=0,N=0<h.length?h[0]:null,F=0<p.length?p[0]:null;for(;null!==N||null!==F;){const W=C<h.length?h[C+1]:void 0,ne=S<p.length?p[S+1]:void 0;let He,we=null;N===F?(C+=2,S+=2,W!==ne&&(we=F,He=ne)):null===F||null!==N&&N<F?(C+=2,we=N):(S+=2,we=F,He=ne),null!==we&&Qw(s,o,a,c,we,He,_,E),N=C<h.length?h[C]:null,F=S<p.length?p[S]:null}}(h,E,_,_[11],_[p+1],_[p+1]=function Tu(s,o,a){if(null==a||""===a)return Ge;const c=[],h=ks(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}(si,ns,s,!0)}function ns(s,o){for(let a=function dD(s){return function Yw(s){Zn.key=0,Zn.keyEnd=0,Zn.value=0,Zn.valueEnd=0,Zn.textEnd=s.length}(s),Zw(s,Fd(s,0,Zn.textEnd))}(o);a>=0;a=Zw(o,a))si(s,cD(o),!0)}function rs(s,o,a,c){const h=_e(),p=nn(),_=Ss(2);p.firstUpdatePass&&mD(p,s,_,c),o!==Wt&&Ei(h,_,o)&&Qw(p,p.data[Gr()],h,h[11],s,h[_+1]=function Jw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(ks(s)))),s}(o,a),c,_)}function Qo(s,o){return o>=s.expandoStartIndex}function mD(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[Gr()],_=Qo(s,a);Xw(p,c)&&null===o&&!_&&(o=!1),o=function yD(s,o,a,c){const h=ga(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Iu(a=om(null,s,o,a,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=om(h,s,o,a,c),null===p){let C=function _D(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Cu(c))return s[Ko(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=om(null,s,o,C[1],c),C=Iu(C,o.attrs,c),function vD(s,o,a,c){s[Ko(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function ED(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Iu(c,s[p].hostAttrs,a);return Iu(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function Gw(s,o,a,c,h,p){let _=p?o.classBindings:o.styleBindings,E=Ko(_),C=Cu(_);s[c]=a;let N,S=!1;if(Array.isArray(a)?(N=a[1],(null===N||qn(a,N)>0)&&(S=!0)):N=a,h)if(0!==C){const W=Ko(s[E+1]);s[c+1]=Wo(W,E),0!==W&&(s[W+1]=sm(s[W+1],c)),s[E+1]=function nx(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Wo(E,0),0!==E&&(s[E+1]=sm(s[E+1],c)),E=c;else s[c+1]=Wo(C,0),0===E?E=c:s[C+1]=sm(s[C+1],c),C=c;S&&(s[c+1]=qw(s[c+1])),lD(s,N,c,!0),lD(s,N,c,!1),function uD(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&qn(p,o)>=0&&(a[c+1]=rv(a[c+1]))}(o,N,s,c,p),_=Wo(E,C),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,c)}}function om(s,o,a,c,h){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],c=Iu(c,p.hostAttrs,h),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function Iu(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),si(s,_,!!a||o[++p]))}return void 0===s?null:s}function Qw(s,o,a,c,h,p,_,E){if(!(3&o.type))return;const C=s.data,S=C[E+1],N=function nv(s){return 1==(1&s)}(S)?ov(C,o,a,h,Cu(S),_):void 0;Ff(N)||(Ff(p)||function aD(s){return 2==(2&s)}(S)&&(p=ov(C,null,a,h,E,_)),function KI(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:gs.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=gs.Important),s.setStyle(a,c,h,p))}}(c,_,Ds(Gr(),a),h,p))}function ov(s,o,a,c,h,p){const _=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),N=S?C[1]:C,F=null===N;let W=a[h+1];W===Wt&&(W=F?Ge:void 0);let ne=F?mn(W,c):N===c?W:void 0;if(S&&!Ff(ne)&&(ne=mn(C,c)),Ff(ne)&&(E=ne,_))return E;const we=s[h+1];h=_?Ko(we):Cu(we)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=mn(C,c))}return E}function Ff(s){return void 0!==s}function Xw(s,o){return 0!=(s.flags&(o?8:16))}function Vd(s,o=""){const a=_e(),c=nn(),h=s+22,p=c.firstCreatePass?Sd(c,h,1,o,null):c.data[h],_=a[h]=function du(s,o){return s.createText(o)}(a[11],o);ld(c,a,_,p),Ri(p,!1)}function ir(s){return Ud("",s,""),ir}function Ud(s,o,a){const c=_e(),h=function xd(s,o,a,c){return Ei(s,ds(),a)?o+Ie(a)+c:Wt}(c,s,o,a);return h!==Wt&&La(c,Gr(),h),Ud}function Lf(s,o,a,c,h){const p=_e(),_=Nd(p,s,o,a,c,h);return _!==Wt&&La(p,Gr(),_),Lf}function Du(s,o,a){const c=_e();if(Ei(c,ds(),o)){const p=nn(),_=hn();ts(p,_,c,s,o,function mw(s,o,a){return(null===s||yr(s))&&(a=function sl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(ga(p.data),_,c),a,!0)}return Du}const tc=void 0;var ab=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function px(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Bd={};function ub(s){const o=function yx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=RD(o);if(a)return a;const c=o.split("-")[0];if(a=RD(c),a)return a;if("en"===c)return ab;throw new ge(701,!1)}function ND(s){return ub(s)[Nt.PluralCase]}function RD(s){return s in Bd||(Bd[s]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[s]),Bd[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const $d="en-US";let lb=$d;function rp(s,o,a,c,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)rp(s[p],o,a,c,h);else{const p=nn(),_=_e();let E=Ra(s)?s:X(s.provide),C=hf(s);const S=nr(),N=1048575&S.providerIndexes,F=S.directiveStart,W=S.providerIndexes>>20;if(Ra(s)||!s.multi){const ne=new ya(C,h,Dd),we=ip(E,o,h?N:N+W,F);-1===we?(qc(Ns(S,_),p,E),Qd(p,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ne),_.push(ne)):(a[we]=ne,_[we]=ne)}else{const ne=ip(E,o,N+W,F),we=ip(E,o,N,N+W),Ke=we>=0&&a[we];if(h&&!Ke||!h&&!(ne>=0&&a[ne])){qc(Ns(S,_),p,E);const Xe=function bb(s,o,a,c,h){const p=new ya(s,a,Dd);return p.multi=[],p.index=o,p.componentProviders=0,lo(p,h,c&&!a),p}(h?XD:JD,a.length,h,c,C);!h&&Ke&&(a[we].providerFactory=Xe),Qd(p,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(Xe),_.push(Xe)}else Qd(p,s,ne>-1?ne:we,lo(a[h?we:ne],C,!h&&c));!h&&c&&Ke&&a[we].componentProviders++}}}function Qd(s,o,a,c){const h=Ra(o),p=function kE(s){return!!s.useClass}(o);if(h||p){const C=(p?X(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[c,C]):S[N+1].push(c,C)}else S.push(a,C)}}}function lo(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function ip(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function JD(s,o,a,c){return Pu(this.multi,[])}function XD(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=ki(a,a[1],this.providerFactory.index,c);p=E.slice(0,_),Pu(h,p);for(let C=_;C<E.length;C++)p.push(E[C])}else p=[],Pu(h,p);return p}function Pu(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function gm(s,o=[]){return a=>{a.providersResolver=(c,h)=>function wb(s,o,a){const c=nn();if(c.firstCreatePass){const h=yr(s);rp(a,c.data,c.blueprint,h,!0),rp(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class nc{}class Cb{}function Ib(s,o){return new mm(s,o??null)}class mm extends nc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yw(this);const c=kr(o);this._bootstrapComponents=Fa(c.bootstrap),this._r3Injector=QE(o,a,[{provide:nc,useValue:this},{provide:kl,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class sp extends Cb{constructor(o){super(),this.moduleType=o}create(o){return new mm(this.moduleType,o)}}class Ev extends nc{constructor(o,a,c){super(),this.componentFactoryResolver=new yw(this),this.instance=null;const h=new Ng([...o,{provide:nc,useValue:this},{provide:kl,useValue:this.componentFactoryResolver}],a||cf(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function wv(s,o,a=null){return new Ev(s,o,a).injector}let eS=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=OE(0,a.type),h=c.length>0?wv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=bt({token:s,providedIn:"environment",factory:()=>new s($e(Er))}),s})();function ym(s){s.getStandaloneInjector=o=>o.get(eS).getOrCreateStandaloneInjector(s)}function rc(s,o){const a=s[o];return a===Wt?void 0:a}function Pb(s,o){const a=nn();let c;const h=s+22;a.firstCreatePass?(c=function kb(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=Ws(c.type)),_=jn(Dd);try{const E=Yi(!1),C=p();return Yi(E),function Ow(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,_e(),h,C),C}finally{jn(_)}}function Fb(s,o,a){const c=s+22,h=_e(),p=cs(h,c);return eh(h,c)?function Br(s,o,a,c,h,p){const _=o+a;return Ei(s,_,h)?Zo(s,_+1,p?c.call(p,h):c(h)):rc(s,_+1)}(h,Mr(),o,p.transform,a,p):p.transform(a)}function Nv(s,o,a,c){const h=s+22,p=_e(),_=cs(p,h);return eh(p,h)?function Kr(s,o,a,c,h,p,_){const E=o+a;return Zl(s,E,h,p)?Zo(s,E+2,_?c.call(_,h,p):c(h,p)):rc(s,E+2)}(p,Mr(),o,_.transform,a,c,_):_.transform(a,c)}function eh(s,o){return s[1].data[o].pure}function th(s){return o=>{setTimeout(s,void 0,o)}}const Bs=class aS extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),_=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(p=th(p),h&&(h=th(h)),_&&(_=th(_)));const E=super.subscribe({next:h,error:p,complete:_});return o instanceof $.w0&&o.add(E),E}};function Pv(){return this._results[bu()]()}class bm{get changes(){return this._changes||(this._changes=new Bs)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=bu(),c=bm.prototype;c[a]||(c[a]=Pv)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=function Vr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Kh(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ap=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vb,s})();const up=ap,Lb=class extends up{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=Ef(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),ow(c,h,o),new Va(h)}};function Vb(){return lp(nr(),_e())}function lp(s,o){return 4&s.type?new Lb(o,s,_d(s,o)):null}let ic=(()=>{class s{}return s.__NG_ELEMENT_ID__=uS,s})();function uS(){return ku(nr(),_e())}const lS=ic,sc=class extends lS{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ca(this._hostTNode,this._hostLView);if(hl(o)){const a=to(o,this._hostLView),c=wa(o);return new Rs(a[1].data[c+8],a)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ub(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,c,h,p){const _=o&&!function Da(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const F=a||{};E=F.index,c=F.injector,h=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const C=_?o:new Sf(an(o)),S=c||this.parentInjector;if(!p&&null==C.ngModule){const W=(_?S:this.parentInjector).get(Er,null);W&&(p=W)}const N=C.create(S,h,void 0,p);return this.insert(N.hostView,E),N}insert(o,a){const c=o._lView,h=c[1];if(function Ah(s){return Ar(s[3])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const F=c[3],W=new sc(F,F[6],F[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function ad(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],wl(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function pu(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,c,_,p);const E=Qy(p,_),C=c[11],S=_g(C,_[7]);return null!==S&&function nf(s,o,a,c,h,p){c[0]=h,c[6]=o,cd(s,c,a,1,h,p)}(h,_[6],C,c,S,E),o.attachToViewContainerRef(),wl(kv(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ub(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=ud(this._lContainer,a);c&&(Sa(kv(this._lContainer),a),rf(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=ud(this._lContainer,a);return c&&null!=Sa(kv(this._lContainer),a)?new Va(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Ub(s){return s[8]}function kv(s){return s[8]||(s[8]=[])}function ku(s,o){let a;const c=o[s.index];if(Ar(c))a=c;else{let h;if(8&s.type)h=Rn(c);else{const p=o[11];h=p.createComment("");const _=_r(s,o);mu(p,_g(p,_),h,function Wy(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=VT(c,o,h,s),Vi(o,a)}return new sc(a,s,o)}class Cm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class nh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new nh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Bv(o,a).matches&&this.queries[a].setDirty()}}class Fv{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class oc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new oc(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Im{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Im(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,Ui(a,p)),this.matchTNodeWithReadOption(o,a,Ia(a,o,p,!1,!1))}else c===ap?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ia(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===pf||h===ic||h===ap&&4&a.type)this.addMatch(a.index,-2);else{const p=Ia(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Ui(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function cp(s,o,a,c){return-1===a?function Bb(s,o){return 11&s.type?_d(s,o):4&s.type?lp(s,o):null}(o,s):-2===a?function Tm(s,o,a){return a===pf?_d(o,s):a===ap?lp(o,s):a===ic?ku(o,s):void 0}(s,o,c):ki(s,s[1],a,o)}function Lv(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,_=a.matches,E=[];for(let C=0;C<_.length;C+=2){const S=_[C];E.push(S<0?null:cp(o,p[S],_[C+1],a.metadata.read))}h.matches=E}return h.matches}function dp(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=Lv(s,o,h,a);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(_[E/2]);else{const S=p[E+1],N=o[-C];for(let F=10;F<N.length;F++){const W=N[F];W[17]===W[3]&&dp(W[1],W,S,c)}if(null!==N[9]){const F=N[9];for(let W=0;W<F.length;W++){const ne=F[W];dp(ne[1],ne,S,c)}}}}}return c}function Vv(s){const o=_e(),a=nn(),c=kh();cl(c+1);const h=Bv(a,c);if(s.dirty&&function nu(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?dp(a,o,c,[]):Lv(a,o,h,c);s.reset(p,g_),s.notifyOnChanges()}return!0}return!1}function rh(s,o,a,c){const h=nn();if(h.firstCreatePass){const p=nr();(function hp(s,o,a){null===s.queries&&(s.queries=new oc),s.queries.track(new Im(o,a))})(h,new Fv(o,a,c),p.index),function fp(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function Sm(s,o,a){const c=new bm(4==(4&a));$l(s,o,c,c.destroy),null===o[19]&&(o[19]=new nh),o[19].queries.push(new Cm(c))}(h,_e(),a)}function Dm(){return function Uv(s,o){return s[19].queries[o].queryList}(_e(),kh())}function Bv(s,o){return s.queries.getByIndex(o)}function Lm(...s){}const Qv=new Xt("Application Initializer");let Vm=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Lm,this.reject=Lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Q_(p))a.push(p);else if(Vw(p)){const _=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)($e(Qv,8))},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const tC=new Xt("AppId",{providedIn:"root",factory:function nC(){return`${Um()}${Um()}${Um()}`}});function Um(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jv=new Xt("Platform Initializer"),Bm=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xv=new Xt("appBootstrapListener"),rC=new Xt("AnimationModuleType");let iC=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Uu=new Xt("LocaleId",{providedIn:"root",factory:()=>Qe(Uu,et.Optional|et.SkipSelf)||function e0(){return typeof $localize<"u"&&$localize.locale||$d}()}),sC=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jm{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let wS=(()=>{class s{compileModuleSync(a){return new sp(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Fa(kr(a).declarations).reduce((_,E)=>{const C=an(E);return C&&_.push(new Sf(C)),_},[]);return new jm(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qm=(()=>Promise.resolve(0))();function Gm(s){typeof Zone>"u"?qm.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _s{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function cC(){let s=xt.requestAnimationFrame,o=xt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Zm(s){const o=()=>{!function hC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Bi(s),s.isCheckStableRunning=!0,zm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Bi(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,_,E)=>{try{return r0(s),a.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),s0(s)}},onInvoke:(a,c,h,p,_,E,C)=>{try{return r0(s),a.invoke(h,p,_,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),s0(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Bi(s),zm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new ge(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,dC,Lm,Lm);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const dC={};function zm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Bi(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function r0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function s0(s){s._nesting--,zm(s)}class uh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const fC=new Xt(""),pC=new Xt("");let Wm,o0=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wm||(function bS(s){Wm=s}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),Gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)($e(_s),$e(gC),$e(pC))},s.\u0275prov=bt({token:s,factory:s.\u0275fac}),s})(),gC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Wm?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Bu=null;const yp=new Xt("AllowMultipleToken"),a0=new Xt("PlatformDestroyListeners");class u0{constructor(o,a){this.name=o,this.token=a}}function Km(s,o,a=[]){const c=`Platform: ${o}`,h=new Xt(c);return(p=[])=>{let _=We();if(!_||_.injector.get(yp,!1)){const E=[...a,...p,{provide:h,useValue:!0}];s?s(E):function CS(s){if(Bu&&!Bu.get(yp,!1))throw new ge(400,!1);Bu=s;const o=s.get(pe);(function or(s){const o=s.get(Jv,null);o&&o.forEach(a=>a())})(s)}(function lt(s=[],o){return Vl.create({name:o,providers:[{provide:f_,useValue:"platform"},{provide:a0,useValue:new Set([()=>Bu=null])},...s]})}(E,c))}return function rt(s){const o=We();if(!o)throw new ge(401,!1);return o}()}}function We(){return Bu?.get(pe)??null}let pe=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function Nr(s,o){let a;return a="noop"===s?new uh:("zone.js"===s?void 0:s)||new _s(o),a}(c?.ngZone,function Oe(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:_s,useValue:h}];return h.run(()=>{const _=Vl.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(_),C=E.injector.get(Fg,null);if(!C)throw new ge(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:N=>{C.handleError(N)}});E.onDestroy(()=>{Qm(this._modules,E),S.unsubscribe()})}),function l0(s,o,a){try{const c=a();return Q_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,h,()=>{const S=E.injector.get(Vm);return S.runInitializers(),S.donePromise.then(()=>(function Hd(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(lb=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Uu,$d)||$d),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const h=mC({},c);return function Yr(s,o,a){const c=new sp(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(Ym);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ge(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(a0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)($e(Vl))},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function mC(s,o){return Array.isArray(o)?o.reduce(mC,s):{...s,...o}}let Ym=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new O.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),Gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,re.T)(p,_.pipe((0,ue.B)()))}bootstrap(a,c){const h=a instanceof Pa;if(!this._injector.get(Vm).done)throw!h&&Fn(a),new ge(405,false);let _;_=h?a:this._injector.get(kl).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function ju(s){return s.isBoundToModule}(_)?void 0:this._injector.get(nc),S=_.create(Vl.NULL,[],c||_.selector,E),N=S.location.nativeElement,F=S.injector.get(fC,null);return F?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),Qm(this.components,S),F?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Qm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Xv,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Qm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)($e(_s),$e(Er),$e(Fg))},s.\u0275prov=bt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Qm(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function _C(){return!1}let Gt=(()=>{class s{}return s.__NG_ELEMENT_ID__=ch,s})();function ch(s){return function vC(s,o,a){if(ua(s)&&!a){const c=tr(s.index,o);return new Va(c,c)}return 47&s.type?new Va(o[16],o):null}(nr(),_e(),16==(16&s))}class ce{constructor(){}supports(o){return zl(o)}create(o){return new co(o)}}const ty=(s,o)=>o;class co{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ty}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<bC(c,h,p)?a:c,E=bC(_,h,p),C=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const S=E-h,N=C-h;if(S!=N){for(let W=0;W<S;W++){const ne=W<p.length?p[W]:p[W]=0,we=ne+W;N<=we&&we<S&&(p[W]=ne+1)}p[_.previousIndex]=N-S}}E!==C&&o(_,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!zl(o))throw new ge(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),c=!0),a=a._next}else h=0,function xf(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[bu()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new SS(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new $a),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class SS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ep{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class $a{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Ep,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class Hu{constructor(){}supports(o){return o instanceof Map||Jg(o)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Jg(o)))throw new ge(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new f0(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class f0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IC(){return new p0([new ce])}let p0=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||IC()),deps:[[s,new I,new io]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new ge(901,!1)}}return s.\u0275prov=bt({token:s,providedIn:"root",factory:IC}),s})();function TC(){return new ta([new Hu])}let ta=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||TC()),deps:[[s,new I,new io]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new ge(901,!1)}}return s.\u0275prov=bt({token:s,providedIn:"root",factory:TC}),s})();const wp=Km(null,"core",[]);let SC=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)($e(Ym))},s.\u0275mod=mo({type:s}),s.\u0275inj=Xr({}),s})();function MS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(dt,Ae,k)=>{k.d(Ae,{Z:()=>qe});var l=k(2090),$=k(4859),O=k(9681),re=k(1877);class ue{constructor(ge,Te){this._delegate=ge,this.firebase=Te,(0,O._addComponent)(ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,Te=O._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ge);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Ie=Pe.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Te})}_removeServiceInstance(ge,Te=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Te)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function me(){const nt=function he(nt){const ge={},Te={__esModule:!0,initializeApp:function ke(ee,le={}){const ve=O.initializeApp(ee,le);if((0,l.r3)(ge,ve.name))return ge[ve.name];const Q=new nt(ve,Te);return ge[ve.name]=Q,Q},app:Pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(ee){const le=ee.name,ve=le.replace("-compat","");if(O._registerComponent(ee)&&"PUBLIC"===ee.type){const Q=(J=Pe())=>{if("function"!=typeof J[ve])throw ye.create("invalid-app-argument",{appName:le});return J[ve]()};void 0!==ee.serviceProps&&(0,l.ZB)(Q,ee.serviceProps),Te[ve]=Q,nt.prototype[ve]=function(...J){return this._getService.bind(this,le).apply(this,ee.multipleInstances?J:[])}}return"PUBLIC"===ee.type?Te[ve]:null},removeApp:function Ie(ee){delete ge[ee]},useAsService:function je(ee,le){return"serverAuth"===le?null:le},modularAPIs:O}};function Pe(ee){if(!(0,l.r3)(ge,ee=ee||O._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ee});return ge[ee]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Ne(){return Object.keys(ge).map(ee=>ge[ee])}}),Pe.App=nt,Te}(ue);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ge(Te){(0,l.ZB)(nt,Te)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),nt}(),q=new re.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=G;!function Me(nt){(0,O.registerVersion)("@firebase/app-compat","0.2.1",nt)}()},9681:(dt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Ts,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>sn,_addOrOverwriteComponent:()=>lr,_apps:()=>zt,_clearComponents:()=>Xr,_components:()=>vt,_getProvider:()=>bt,_registerComponent:()=>Qt,_removeServiceInstance:()=>Di,deleteApp:()=>Ai,getApp:()=>Bn,getApps:()=>ei,initializeApp:()=>Si,onLog:()=>et,registerVersion:()=>cr,setLogLevel:()=>dr});var l=k(5861),$=k(4859),O=k(1877),re=k(2090),ue=k(8766);class ie{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function ye($e){return"VERSION"===$e.getComponent()?.type}(Qe)){const Ct=Qe.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Qe=>Qe).join(" ")}}const he="@firebase/app",G=new O.Yd("@firebase/app"),pn="[DEFAULT]",Tt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,vt=new Map;function sn($e,Ce){try{$e.container.addComponent(Ce)}catch(Qe){G.debug(`Component ${Ce.name} failed to register with FirebaseApp ${$e.name}`,Qe)}}function lr($e,Ce){$e.container.addOrOverwriteComponent(Ce)}function Qt($e){const Ce=$e.name;if(vt.has(Ce))return G.debug(`There were multiple attempts to register component ${Ce}.`),!1;vt.set(Ce,$e);for(const Qe of zt.values())sn(Qe,$e);return!0}function bt($e,Ce){const Qe=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),$e.container.getProvider(Ce)}function Di($e,Ce,Qe=pn){bt($e,Ce).clearInstance(Qe)}function Xr(){vt.clear()}const In=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zi{constructor(Ce,Qe,Ct){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const Ts="9.16.0";function Si($e,Ce={}){let Qe=$e;"object"!=typeof Ce&&(Ce={name:Ce});const Ct=Object.assign({name:pn,automaticDataCollectionEnabled:!1},Ce),Dt=Ct.name;if("string"!=typeof Dt||!Dt)throw In.create("bad-app-name",{appName:String(Dt)});if(Qe||(Qe=(0,re.aH)()),!Qe)throw In.create("no-options");const Jt=zt.get(Dt);if(Jt){if((0,re.vZ)(Qe,Jt.options)&&(0,re.vZ)(Ct,Jt.config))return Jt;throw In.create("duplicate-app",{appName:Dt})}const H=new $.H0(Dt);for(const K of vt.values())H.addComponent(K);const j=new zi(Qe,Ct,H);return zt.set(Dt,j),j}function Bn($e=pn){const Ce=zt.get($e);if(!Ce&&$e===pn)return Si();if(!Ce)throw In.create("no-app",{appName:$e});return Ce}function ei(){return Array.from(zt.values())}function Ai($e){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*($e){const Ce=$e.name;zt.has(Ce)&&(zt.delete(Ce),yield Promise.all($e.container.getProviders().map(Qe=>Qe.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function cr($e,Ce,Qe){var Ct;let Dt=null!==(Ct=Tt[$e])&&void 0!==Ct?Ct:$e;Qe&&(Dt+=`-${Qe}`);const Jt=Dt.match(/\s|\//),H=Ce.match(/\s|\//);if(Jt||H){const j=[`Unable to register library "${Dt}" with version "${Ce}":`];return Jt&&j.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Jt&&H&&j.push("and"),H&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void G.warn(j.join(" "))}Qt(new $.wA(`${Dt}-version`,()=>({library:Dt,version:Ce}),"VERSION"))}function et($e,Ce){if(null!==$e&&"function"!=typeof $e)throw In.create("invalid-log-argument");(0,O.Am)($e,Ce)}function dr($e){(0,O.Ub)($e)}const $n="firebase-heartbeat-store";let Hr=null;function xt(){return Hr||(Hr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:($e,Ce)=>{0===Ce&&$e.createObjectStore($n)}}).catch($e=>{throw In.create("idb-open",{originalErrorMessage:$e.message})})),Hr}function At(){return(At=(0,l.Z)(function*($e){try{return(yield xt()).transaction($n).objectStore($n).get(Tn($e))}catch(Ce){if(Ce instanceof re.ZR)G.warn(Ce.message);else{const Qe=In.create("idb-get",{originalErrorMessage:Ce?.message});G.warn(Qe.message)}}})).apply(this,arguments)}function _n($e,Ce){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*($e,Ce){try{const Ct=(yield xt()).transaction($n,"readwrite");return yield Ct.objectStore($n).put(Ce,Tn($e)),Ct.done}catch(Qe){if(Qe instanceof re.ZR)G.warn(Qe.message);else{const Ct=In.create("idb-set",{originalErrorMessage:Qe?.message});G.warn(Ct.message)}}})).apply(this,arguments)}function Tn($e){return`${$e.name}!${$e.options.appId}`}class Mi{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new Kt(Qe),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Ce=this;return(0,l.Z)(function*(){const Ct=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=Ht();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!Ce._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Dt))return Ce._heartbeatsCache.heartbeats.push({date:Dt,agent:Ct}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Jt=>{const H=new Date(Jt.date).valueOf();return Date.now()-H<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,l.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Qe=Ht(),{heartbeatsToSend:Ct,unsentEntries:Dt}=function xi($e,Ce=1024){const Qe=[];let Ct=$e.slice();for(const Dt of $e){const Jt=Qe.find(H=>H.agent===Dt.agent);if(Jt){if(Jt.dates.push(Dt.date),Or(Qe)>Ce){Jt.dates.pop();break}}else if(Qe.push({agent:Dt.agent,dates:[Dt.date]}),Or(Qe)>Ce){Qe.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:Ct}}(Ce._heartbeatsCache.heartbeats),Jt=(0,re.L)(JSON.stringify({version:2,heartbeats:Ct}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Qe,Dt.length>0?(Ce._heartbeatsCache.heartbeats=Dt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Jt})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,l.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function ft($e){return At.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Qe=this;return(0,l.Z)(function*(){var Ct;if(yield Qe._canUseIndexedDBPromise){const Jt=yield Qe.read();return _n(Qe.app,{lastSentHeartbeatDate:null!==(Ct=Ce.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Jt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Qe=this;return(0,l.Z)(function*(){var Ct;if(yield Qe._canUseIndexedDBPromise){const Jt=yield Qe.read();return _n(Qe.app,{lastSentHeartbeatDate:null!==(Ct=Ce.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ce.heartbeats]})}})()}}function Or($e){return(0,re.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function kn($e){Qt(new $.wA("platform-logger",Ce=>new ie(Ce),"PRIVATE")),Qt(new $.wA("heartbeat",Ce=>new Mi(Ce),"PRIVATE")),cr(he,"0.9.1",$e),cr(he,"0.9.1","esm2017"),cr("fire-js","")}("")},4859:(dt,Ae,k)=>{k.d(Ae,{H0:()=>he,wA:()=>O});var l=k(5861),$=k(2090);class O{constructor(G,q,X){this.name=G,this.instanceFactory=q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class ue{constructor(G,q){this.name=G,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const q=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(q)){const X=new $.BH;if(this.instancesDeferred.set(q,X),this.isInitialized(q)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:q});Be&&X.resolve(Be)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(G){var q;const X=this.normalizeInstanceIdentifier(G?.identifier),Be=null!==(q=G?.optional)&&void 0!==q&&q;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ye(me){return"EAGER"===me.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[q,X]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});X.resolve(Me)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const q=Array.from(G.instances.values());yield Promise.all([...q.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...q.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:q={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:X,options:q});for(const[Me,qe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&qe.resolve(Be);return Be}onInit(G,q){var X;const Be=this.normalizeInstanceIdentifier(q),Me=null!==(X=this.onInitCallbacks.get(Be))&&void 0!==X?X:new Set;Me.add(G),this.onInitCallbacks.set(Be,Me);const qe=this.instances.get(Be);return qe&&G(qe,Be),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,q){const X=this.onInitCallbacks.get(q);if(X)for(const Be of X)try{Be(G,q)}catch{}}getOrInitializeService({instanceIdentifier:G,options:q={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(me=G,me===re?void 0:me),options:q}),this.instances.set(G,X),this.instancesOptions.set(G,q),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var me;return X||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const q=this.getProvider(G.name);if(q.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);q.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const q=new ue(G,this);return this.providers.set(G,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,k)=>{k.d(Ae,{Am:()=>me,Ub:()=>he,Yd:()=>ye,in:()=>$});const l=[];var $=(()=>{return(G=$||($={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",$;var G})();const O={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},re=$.INFO,ue={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ie=(G,q,...X)=>{if(q<G.logLevel)return;const Be=(new Date).toISOString(),Me=ue[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${Be}]  ${G.name}:`,...X)};class ye{constructor(q){this.name=q,this._logLevel=re,this._logHandler=ie,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function he(G){l.forEach(q=>{q.setLogLevel(G)})}function me(G,q){for(const X of l){let Be=null;q&&q.level&&(Be=O[q.level]),X.userLogHandler=null===G?null:(Me,qe,...nt)=>{const ge=nt.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");qe>=(Be??Me.logLevel)&&G({level:$[qe].toLowerCase(),message:ge,args:nt,type:Me.name})}}}},259:(dt,Ae,k)=>{k.d(Ae,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(9681);(0,l.registerVersion)("firebase","9.16.0","app")},9260:(dt,Ae,k)=>{k.d(Ae,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(dt,Ae,k)=>{k.r(Ae);var l=k(5861),$=k(3942),O=k(1808),re=k(2090),ye=(k(9681),k(1877),k(4859));function he(){return window}function q(){return(q=(0,l.Z)(function*(U,R,L){var ae;const{BuildInfo:xe}=he();(0,O.ap)(R.sessionId,"AuthEvent did not contain a session ID");const it=yield Te(R.sessionId),Ge={};return(0,O.aq)()?Ge.ibi=xe.packageName:(0,O.ar)()?Ge.apn=xe.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),xe.displayName&&(Ge.appDisplayName=xe.displayName),Ge.sessionId=it,(0,O.at)(U,L,R.type,void 0,null!==(ae=R.eventId)&&void 0!==ae?ae:void 0,Ge)})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(U){const{BuildInfo:R}=he(),L={};(0,O.aq)()?L.iosBundleId=R.packageName:(0,O.ar)()?L.androidPackageName=R.packageName:(0,O.as)(U,"operation-not-supported-in-this-environment"),yield(0,O.au)(U,L)})).apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(U,R,L){const{cordova:ae}=he();let xe=()=>{};try{yield new Promise((it,Ge)=>{let Vt=null;function at(){var Pt;it();const Pr=null===(Pt=ae.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof Pr&&Pr(),"function"==typeof L?.close&&L.close()}function vn(){Vt||(Vt=window.setTimeout(()=>{Ge((0,O.aw)(U,"redirect-cancelled-by-user"))},2e3))}function hr(){"visible"===document?.visibilityState&&vn()}R.addPassiveListener(at),document.addEventListener("resume",vn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",hr,!1),xe=()=>{R.removePassiveListener(at),document.removeEventListener("resume",vn,!1),document.removeEventListener("visibilitychange",hr,!1),Vt&&window.clearTimeout(Vt)}})}finally{xe()}})).apply(this,arguments)}function Te(U){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(U){const R=Pe(U),L=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(L)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pe(U){if((0,O.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const R=new ArrayBuffer(U.length),L=new Uint8Array(R);for(let ae=0;ae<U.length;ae++)L[ae]=U.charCodeAt(ae);return L}class Ne extends O.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(R)),super.onEvent(R)}initialized(){var R=this;return(0,l.Z)(function*(){yield R.initPromise})()}}function ee(U){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(U){const R=yield J()._get(fe(U));return R&&(yield J()._remove(fe(U))),R})).apply(this,arguments)}function Q(){const U=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const ae=Math.floor(Math.random()*R.length);U.push(R.charAt(ae))}return U.join("")}function J(){return(0,O.az)(O.b)}function fe(U){return(0,O.aA)("authEvent",U.config.apiKey,U.name)}function Le(U){if(!U?.includes("?"))return{};const[R,...L]=U.split("?");return(0,re.zd)(L.join("?"))}const pn=class on{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(R){var L=this;return(0,l.Z)(function*(){const ae=R._key();let xe=L.eventManagers.get(ae);return xe||(xe=new Ne(R),L.eventManagers.set(ae,xe),L.attachCallbackListeners(R,xe)),xe})()}_openPopup(R){(0,O.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,L,ae,xe){var it=this;return(0,l.Z)(function*(){!function ge(U){var R,L,ae,xe,it,Ge,Vt,at,vn,hr;const Pt=he();(0,O.ax)("function"==typeof(null===(R=Pt?.universalLinks)||void 0===R?void 0:R.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(L=Pt?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(it=null===(xe=null===(ae=Pt?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===it?void 0:it.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(at=null===(Vt=null===(Ge=Pt?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===at?void 0:at.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(hr=null===(vn=Pt?.cordova)||void 0===vn?void 0:vn.InAppBrowser)||void 0===hr?void 0:hr.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Ge=yield it._initialize(R);yield Ge.initialized(),Ge.resetRedirect(),(0,O.aD)(),yield it._originValidation(R);const Vt=function De(U,R,L=null){return{type:R,eventId:L,urlResponse:null,sessionId:Q(),postBody:null,tenantId:U.tenantId,error:(0,O.aw)(U,"no-auth-event")}}(R,ae,xe);yield function je(U,R){return J()._set(fe(U),R)}(R,Vt);const at=yield function G(U,R,L){return q.apply(this,arguments)}(R,Vt,L),vn=yield function Me(U){const{cordova:R}=he();return new Promise(L=>{R.plugins.browsertab.isAvailable(ae=>{let xe=null;ae?R.plugins.browsertab.openUrl(U):xe=R.InAppBrowser.open(U,(0,O.av)()?"_blank":"_system","location=yes"),L(xe)})})}(at);return function qe(U,R,L){return nt.apply(this,arguments)}(R,Ge,vn)})()}_isIframeWebStorageSupported(R,L){throw new Error("Method not implemented.")}_originValidation(R){const L=R._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function X(U){return Be.apply(this,arguments)}(R)),this.originValidationPromises[L]}attachCallbackListeners(R,L){const{universalLinks:ae,handleOpenURL:xe,BuildInfo:it}=he(),Ge=setTimeout((0,l.Z)(function*(){yield ee(R),L.onEvent(Tt())}),500),Vt=function(){var hr=(0,l.Z)(function*(Pt){clearTimeout(Ge);const Pr=yield ee(R);let Qu=null;Pr&&Pt?.url&&(Qu=function ve(U,R){var L,ae;const xe=function Ve(U){const R=Le(U),L=R.link?decodeURIComponent(R.link):void 0,ae=Le(L).link,xe=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Le(xe).link||xe||ae||L||U}(R);if(xe.includes("/__/auth/callback")){const it=Le(xe),Ge=it.firebaseError?function se(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(it.firebaseError)):null,Vt=null===(ae=null===(L=Ge?.code)||void 0===L?void 0:L.split("auth/"))||void 0===ae?void 0:ae[1],at=Vt?(0,O.aw)(Vt):null;return at?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:at,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:xe,postBody:null}}return null}(Pr,Pt.url)),L.onEvent(Qu||Tt())});return function(Pr){return hr.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,Vt);const at=xe,vn=`${it.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var hr=(0,l.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(vn)&&Vt({url:Pt}),"function"==typeof at)try{at(Pt)}catch(Pr){console.error(Pr)}});return function(Pt){return hr.apply(this,arguments)}}()}};function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Qt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function Di(U=(0,re.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ts(){try{const U=self.localStorage,R=O.aI();if(U)return U.setItem(R,"1"),U.removeItem(R),!function zi(U=(0,re.z$)()){return function Ir(){return(0,re.w1)()&&11===document?.documentMode}()||function In(U=(0,re.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,re.hl)()}catch{return Si()&&(0,re.hl)()}return!1}function Si(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function bt(){return"http:"===Qt()||"https:"===Qt()}()||(0,re.ru)()||Di())&&!function Xr(){return(0,re.b$)()||(0,re.UG)()}()&&Ts()&&!Si()}function ei(){return Di()&&typeof document<"u"}function gn(){return(gn=(0,l.Z)(function*(){return!!ei()&&new Promise(U=>{const R=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),U(!0)})})})).apply(this,arguments)}const et={LOCAL:"local",NONE:"none",SESSION:"session"},dr=O.ax,Tr="persistence";function $n(U){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(U){yield U._initializationPromise;const R=ft(),L=O.aA(Tr,U.config.apiKey,U.name);R&&R.setItem(L,U._getPersistence())})).apply(this,arguments)}function ft(){var U;try{return(null===(U=function cr(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const At=O.ax;class _n{constructor(){this.browserResolver=O.az(O.k),this.cordovaResolver=O.az(pn),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(R){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,L,ae,xe){var it=this;return(0,l.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(R,L,ae,xe)})()}_openRedirect(R,L,ae,xe){var it=this;return(0,l.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(R,L,ae,xe)})()}_isIframeWebStorageSupported(R,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,L)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return ei()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return At(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,l.Z)(function*(){if(R.underlyingResolver)return;const L=yield function Ai(){return gn.apply(this,arguments)}();R.underlyingResolver=L?R.cordovaResolver:R.browserResolver})()}}function Jn(U){return U.unwrap()}function ti(U){return Mi(U)}function Mi(U){const{_tokenResponse:R}=U instanceof re.ZR?U.customData:U;if(!R)return null;if(!(U instanceof re.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return O.P.credentialFromResult(U);const L=R.providerId;if(!L||L===O.o.PASSWORD)return null;let ae;switch(L){case O.o.GOOGLE:ae=O.Q;break;case O.o.FACEBOOK:ae=O.N;break;case O.o.GITHUB:ae=O.T;break;case O.o.TWITTER:ae=O.W;break;default:const{oauthIdToken:xe,oauthAccessToken:it,oauthTokenSecret:Ge,pendingToken:Vt,nonce:at}=R;return it||Ge||xe||Vt?Vt?L.startsWith("saml.")?O.aL._create(L,Vt):O.J._fromParams({providerId:L,signInMethod:L,pendingToken:Vt,idToken:xe,accessToken:it}):new O.U(L).credential({idToken:xe,accessToken:it,rawNonce:at}):null}return U instanceof re.ZR?ae.credentialFromError(U):ae.credentialFromResult(U)}function Ht(U,R){return R.catch(L=>{throw L instanceof re.ZR&&function Xn(U,R){var L;const ae=null===(L=R.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new Or(U,O.an(U,R));else if(ae){const xe=Mi(R),it=R;xe&&(it.credential=xe,it.tenantId=ae.tenantId||void 0,it.email=ae.email||void 0,it.phoneNumber=ae.phoneNumber||void 0)}}(U,L),L}).then(L=>{const xe=L.user;return{operationType:L.operationType,credential:ti(L),additionalUserInfo:O.al(L),user:kn.getOrCreate(xe)}})}function xi(U,R){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(U,R){const L=yield R;return{verificationId:L.verificationId,confirm:ae=>Ht(U,L.confirm(ae))}})).apply(this,arguments)}class Or{constructor(R,L){this.resolver=L,this.auth=function Tn(U){return U.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Ht(Jn(this.auth),this.resolver.resolveSignIn(R))}}class kn{constructor(R){this._delegate=R,this.multiFactor=O.ao(R)}static getOrCreate(R){return kn.USER_MAP.has(R)||kn.USER_MAP.set(R,new kn(R)),kn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var L=this;return(0,l.Z)(function*(){return Ht(L.auth,O.Z(L._delegate,R))})()}linkWithPhoneNumber(R,L){var ae=this;return(0,l.Z)(function*(){return xi(ae.auth,O.l(ae._delegate,R,L))})()}linkWithPopup(R){var L=this;return(0,l.Z)(function*(){return Ht(L.auth,O.d(L._delegate,R,_n))})()}linkWithRedirect(R){var L=this;return(0,l.Z)(function*(){return yield $n(O.aE(L.auth)),O.g(L._delegate,R,_n)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var L=this;return(0,l.Z)(function*(){return Ht(L.auth,O._(L._delegate,R))})()}reauthenticateWithPhoneNumber(R,L){return xi(this.auth,O.r(this._delegate,R,L))}reauthenticateWithPopup(R){return Ht(this.auth,O.e(this._delegate,R,_n))}reauthenticateWithRedirect(R){var L=this;return(0,l.Z)(function*(){return yield $n(O.aE(L.auth)),O.h(L._delegate,R,_n)})()}sendEmailVerification(R){return O.ab(this._delegate,R)}unlink(R){var L=this;return(0,l.Z)(function*(){return yield O.ak(L._delegate,R),L})()}updateEmail(R){return O.ag(this._delegate,R)}updatePassword(R){return O.ah(this._delegate,R)}updatePhoneNumber(R){return O.u(this._delegate,R)}updateProfile(R){return O.af(this._delegate,R)}verifyBeforeUpdateEmail(R,L){return O.ac(this._delegate,R,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kn.USER_MAP=new WeakMap;const $e=O.ax;let Ce=(()=>{class U{constructor(L,ae){if(this.app=L,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=L.options;$e(xe,"invalid-api-key",{appName:L.name}),$e(xe,"invalid-api-key",{appName:L.name});const it=typeof window<"u"?_n:void 0;this._delegate=ae.initialize({options:{persistence:Ct(xe,L.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ae){O.G(this._delegate,L,ae)}applyActionCode(L){return O.a2(this._delegate,L)}checkActionCode(L){return O.a3(this._delegate,L)}confirmPasswordReset(L,ae){return O.a1(this._delegate,L,ae)}createUserWithEmailAndPassword(L,ae){var xe=this;return(0,l.Z)(function*(){return Ht(xe._delegate,O.a5(xe._delegate,L,ae))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return O.aa(this._delegate,L)}isSignInWithEmailLink(L){return O.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,l.Z)(function*(){$e(Bn(),L._delegate,"operation-not-supported-in-this-environment");const ae=yield O.j(L._delegate,_n);return ae?Ht(L._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function zt(U,R){(0,O.aE)(U)._logFramework(R)}(this._delegate,L)}onAuthStateChanged(L,ae,xe){const{next:it,error:Ge,complete:Vt}=Qe(L,ae,xe);return this._delegate.onAuthStateChanged(it,Ge,Vt)}onIdTokenChanged(L,ae,xe){const{next:it,error:Ge,complete:Vt}=Qe(L,ae,xe);return this._delegate.onIdTokenChanged(it,Ge,Vt)}sendSignInLinkToEmail(L,ae){return O.a7(this._delegate,L,ae)}sendPasswordResetEmail(L,ae){return O.a0(this._delegate,L,ae||void 0)}setPersistence(L){var ae=this;return(0,l.Z)(function*(){let xe;switch(function jn(U,R){dr(Object.values(et).includes(R),U,"invalid-persistence-type"),(0,re.b$)()?dr(R!==et.SESSION,U,"unsupported-persistence-type"):(0,re.UG)()?dr(R===et.NONE,U,"unsupported-persistence-type"):Si()?dr(R===et.NONE||R===et.LOCAL&&(0,re.hl)(),U,"unsupported-persistence-type"):dr(R===et.NONE||Ts(),U,"unsupported-persistence-type")}(ae._delegate,L),L){case et.SESSION:xe=O.a;break;case et.LOCAL:xe=(yield O.az(O.i)._isAvailable())?O.i:O.b;break;case et.NONE:xe=O.L;break;default:return O.as("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Ht(this._delegate,O.X(this._delegate))}signInWithCredential(L){return Ht(this._delegate,O.Y(this._delegate,L))}signInWithCustomToken(L){return Ht(this._delegate,O.$(this._delegate,L))}signInWithEmailAndPassword(L,ae){return Ht(this._delegate,O.a6(this._delegate,L,ae))}signInWithEmailLink(L,ae){return Ht(this._delegate,O.a9(this._delegate,L,ae))}signInWithPhoneNumber(L,ae){return xi(this._delegate,O.s(this._delegate,L,ae))}signInWithPopup(L){var ae=this;return(0,l.Z)(function*(){return $e(Bn(),ae._delegate,"operation-not-supported-in-this-environment"),Ht(ae._delegate,O.c(ae._delegate,L,_n))})()}signInWithRedirect(L){var ae=this;return(0,l.Z)(function*(){return $e(Bn(),ae._delegate,"operation-not-supported-in-this-environment"),yield $n(ae._delegate),O.f(ae._delegate,L,_n)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return O.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=et,U})();function Qe(U,R,L){let ae=U;"function"!=typeof U&&({next:ae,error:R,complete:L}=U);const xe=ae;return{next:Ge=>xe(Ge&&kn.getOrCreate(Ge)),error:R,complete:L}}function Ct(U,R){const L=function xt(U,R){const L=ft();if(!L)return[];const ae=O.aA(Tr,U,R);switch(L.getItem(ae)){case et.NONE:return[O.L];case et.LOCAL:return[O.i,O.a];case et.SESSION:return[O.a];default:return[]}}(U,R);if(typeof self<"u"&&!L.includes(O.i)&&L.push(O.i),typeof window<"u")for(const ae of[O.b,O.a])L.includes(ae)||L.push(ae);return L.includes(O.L)||L.push(O.L),L}class Dt{constructor(){this.providerId="phone",this._delegate=new O.P(Jn($.Z.auth()))}static credential(R,L){return O.P.credential(R,L)}verifyPhoneNumber(R,L){return this._delegate.verifyPhoneNumber(R,L)}unwrap(){return this._delegate}}Dt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Dt.PROVIDER_ID=O.P.PROVIDER_ID;const Jt=O.ax;class H{constructor(R,L,ae=$.Z.app()){var xe;Jt(null===(xe=ae.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new O.R(R,L,ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(U){U.INTERNAL.registerComponent(new ye.wA("auth-compat",R=>{const L=R.getProvider("app-compat").getImmediate(),ae=R.getProvider("auth");return new Ce(L,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:Dt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:H,TwitterAuthProvider:O.W,Auth:Ce,AuthCredential:O.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.3.1")}($.Z)},8766:(dt,Ae,k)=>{k.d(Ae,{Lj:()=>ke,X3:()=>Pe});var l=k(5861);let O,re;const ye=new WeakMap,he=new WeakMap,me=new WeakMap,G=new WeakMap,q=new WeakMap;let Me={get(le,ve,Q){if(le instanceof IDBTransaction){if("done"===ve)return he.get(le);if("objectStoreNames"===ve)return le.objectStoreNames||me.get(le);if("store"===ve)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return Te(le[ve])},set:(le,ve,Q)=>(le[ve]=Q,!0),has:(le,ve)=>le instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in le};function ge(le){return"function"==typeof le?function nt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ve){return le.apply(Ie(this),ve),Te(ye.get(this))}:function(...ve){return Te(le.apply(Ie(this),ve))}:function(ve,...Q){const J=le.call(Ie(this),ve,...Q);return me.set(J,ve.sort?ve.sort():[ve]),Te(J)}}(le):(le instanceof IDBTransaction&&function Be(le){if(he.has(le))return;const ve=new Promise((Q,J)=>{const fe=()=>{le.removeEventListener("complete",se),le.removeEventListener("error",Ve),le.removeEventListener("abort",Ve)},se=()=>{Q(),fe()},Ve=()=>{J(le.error||new DOMException("AbortError","AbortError")),fe()};le.addEventListener("complete",se),le.addEventListener("error",Ve),le.addEventListener("abort",Ve)});he.set(le,ve)}(le),((le,ve)=>ve.some(Q=>le instanceof Q))(le,function ue(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Me):le)}function Te(le){if(le instanceof IDBRequest)return function X(le){const ve=new Promise((Q,J)=>{const fe=()=>{le.removeEventListener("success",se),le.removeEventListener("error",Ve)},se=()=>{Q(Te(le.result)),fe()},Ve=()=>{J(le.error),fe()};le.addEventListener("success",se),le.addEventListener("error",Ve)});return ve.then(Q=>{Q instanceof IDBCursor&&ye.set(Q,le)}).catch(()=>{}),q.set(ve,le),ve}(le);if(G.has(le))return G.get(le);const ve=ge(le);return ve!==le&&(G.set(le,ve),q.set(ve,le)),ve}const Ie=le=>q.get(le);function Pe(le,ve,{blocked:Q,upgrade:J,blocking:fe,terminated:se}={}){const Ve=indexedDB.open(le,ve),Le=Te(Ve);return J&&Ve.addEventListener("upgradeneeded",ht=>{J(Te(Ve.result),ht.oldVersion,ht.newVersion,Te(Ve.transaction))}),Q&&Ve.addEventListener("blocked",()=>Q()),Le.then(ht=>{se&&ht.addEventListener("close",()=>se()),fe&&ht.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Le}function ke(le,{blocked:ve}={}){const Q=indexedDB.deleteDatabase(le);return ve&&Q.addEventListener("blocked",()=>ve()),Te(Q).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],je=new Map;function ee(le,ve){if(!(le instanceof IDBDatabase)||ve in le||"string"!=typeof ve)return;if(je.get(ve))return je.get(ve);const Q=ve.replace(/FromIndex$/,""),J=ve!==Q,fe=De.includes(Q);if(!(Q in(J?IDBIndex:IDBObjectStore).prototype)||!fe&&!Ne.includes(Q))return;const se=function(){var Ve=(0,l.Z)(function*(Le,...ht){const on=this.transaction(Le,fe?"readwrite":"readonly");let pn=on.store;return J&&(pn=pn.index(ht.shift())),(yield Promise.all([pn[Q](...ht),fe&&on.done]))[0]});return function(ht){return Ve.apply(this,arguments)}}();return je.set(ve,se),se}!function qe(le){Me=le(Me)}(le=>({...le,get:(ve,Q,J)=>ee(ve,Q)||le.get(ve,Q,J),has:(ve,Q)=>!!ee(ve,Q)||le.has(ve,Q)}))},5861:(dt,Ae,k)=>{function l(O,re,ue,ie,ye,he,me){try{var G=O[he](me),q=G.value}catch(X){return void ue(X)}G.done?re(q):Promise.resolve(q).then(ie,ye)}function $(O){return function(){var re=this,ue=arguments;return new Promise(function(ie,ye){var he=O.apply(re,ue);function me(q){l(he,ie,ye,me,G,"next",q)}function G(q){l(he,ie,ye,me,G,"throw",q)}me(void 0)})}}k.d(Ae,{Z:()=>$})}},dt=>{dt(dt.s=2727)}]);